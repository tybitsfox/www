<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User:Johnburger/Demo/Ints/Debug/Key - OSDev Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"a1847045f271a6eac923b0ef","wgCSPNonce":false,"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:Johnburger/Demo/Ints/Debug/Key","wgTitle":"Johnburger/Demo/Ints/Debug/Key","wgCurRevisionId":21451,"wgRevisionId":21451,"wgArticleId":3546,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using deprecated source tags"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"User:Johnburger/Demo/Ints/Debug/Key","wgRelevantArticleId":3546,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],
"wgRestrictionMove":[],"wgRelevantUserName":"Johnburger","wgMFDisplayWikibaseDescriptions":{"search":false,"nearby":false,"watchlist":false,"tagline":false},"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgVector2022PreviewPages":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgEditSubmitButtonLabelPublish":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.DarkMode.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","skins.vector.legacy.js","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.DarkMode","ext.moderation.notify","ext.moderation.ve","ext.moderation.ajaxhook","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=ext.DarkMode.styles%7Cext.pygments%7Cext.visualEditor.desktopArticleTarget.noscript%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.osdev.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.7"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="../../../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../opensearch_desc.php" title="OSDev Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../../../api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="OSDev Wiki Atom feed" href="https://wiki.osdev.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-User_Johnburger_Demo_Ints_Debug_Key rootpage-User_Johnburger skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-namespace">User</span><span class="mw-page-title-separator">:</span><span class="mw-page-title-main">Johnburger/Demo/Ints/Debug/Key</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From OSDev Wiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="https://wiki.osdev.org/User:Johnburger" title="User:Johnburger">User:Johnburger</a>&lrm; | <a href="../../../Demo" title="User:Johnburger/Demo">Demo</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="Key#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="Key#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>The keyboard handler just has to test against the different keypresses that we want to heed, to affect the current display on the screen. From easiest to hardest:
</p>
<ul><li>&lt;Esc&gt;<br />Just leave the debugger;</li>
<li>&lt;Del&gt;<br />Swap between displaying Bytes and DWords by changing the <code>EBP</code> register (it holds the address of the function to <code>CALL</code>).</li>
<li>&lt;Up&gt; or &lt;Down&gt; arrow<br />Subtract or Add (respectively) <code>10h</code> to <code>ESI</code> (the current memory pointer) <i><b>unless</b></i> it's already outside the current Segment's limits.</li>
<li>&lt;PgUp&gt; or &lt;PgDn&gt;<br /> Call the &lt;Up&gt; or &lt;Down&gt; (respectively) function <code>Debug.Show.Height - 1</code> times. Why <code>- 1</code>? It allows a measure of overlap for the user to maintain synchronization with the scrolling. Note that there's no attempt to break out of the loop if the Segment limits have been reached: the code simply ignores the attempt, so it can ignore it repeatedly!</li>
<li>&lt;Left&gt; or &lt;Right&gt; arrow<br />These are the most complex functions. They Subtract or Add (respectively) the size of a Descriptor to the current value of the currently-displayed Selector, and then the result checked for readability with the CPU's <code>VERR</code> (VERify Read) instruction. (That hasn't had a lot of use in your code before, I'll bet!) If the new value is a readable Segment, it becomes the new current Segment. Otherwise, we loop around doing the Subtraction or Addition again. And if the ends of the Descriptor Table are reached, the <a href="../../x86/Seg" title="User:Johnburger/Demo/x86/Seg">Table Indicator</a> bit inside the Selector is toggled to access the LDT or GDT, and the loop is continued.</li></ul>
<p>The final keypresses above call the <code>.Check</code> routine to determine if the Selector is readable, and to toggle the TI bit if necessary. If the new Selector isn't readable, it just returns. If it is, it establishes the new Minimum and Maximum values for the Segment, taking into account if the Descriptor is marked <a href="../../../../Expand_Down" class="mw-redirect" title="Expand Down">Expand Down</a>.
</p>
<h2><span id="Demo.2FInts.2FDebug.2FKey.inc"></span><span class="mw-headline" id="Demo/Ints/Debug/Key.inc"><code><a href="../../Demo" title="User:Johnburger/Demo/Demo">Demo</a>/<a href="../Ints" title="User:Johnburger/Demo/Ints/Ints">Ints</a>/<a href="Debug" title="User:Johnburger/Demo/Ints/Debug/Debug">Debug</a>/Key.inc</code></span></h2>
<div class="mw-highlight mw-highlight-lang-asm mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">;</span>
<span class="c1">; Ints/Debug/Key.inc</span>
<span class="c1">;</span>

<span class="c1">; This module handles the various keyboard actions.</span>

<span class="nl">Ints.Debug.Key:</span><span class="w"></span>
<span class="w">                </span><span class="nf">HLT</span><span class="w">                             </span><span class="c1">; Wait for interrupt</span>

<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="mi">0</span><span class="w">            </span><span class="c1">; Consume any keypress</span>
<span class="w">                </span><span class="nf">XCHG</span><span class="w">            </span><span class="p">[</span><span class="no">FS</span><span class="p">:</span><span class="no">Data.Key.Code</span><span class="p">],</span><span class="no">AL</span><span class="w"> </span><span class="c1">; Avoid repeats</span>

<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="mi">0</span><span class="w">            </span><span class="c1">; Anything there?</span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.End</span><span class="w">            </span><span class="c1">; No, so leave</span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.Quit</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.End</span><span class="w">            </span><span class="c1">; Quit?</span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.Format</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.Format</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.Up</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.Up</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.Down</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.Down</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.PgUp</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.PgUp</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.PgDn</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.PgDn</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.Prev</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">Ints.Debug.Desc.Prev</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">AL</span><span class="p">,</span><span class="no">Debug.Key.Next</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">Ints.Debug.Desc.Next</span><span class="w"></span>
<span class="nl">.End:</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
<span class="c1">;...............................................................................</span>
<span class="nl">Ints.Debug.Key.Format:</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">EBP</span><span class="p">,</span><span class="no">Ints.Debug.Show.DWords</span><span class="w"></span>
<span class="w">                </span><span class="nf">JE</span><span class="w">              </span><span class="no">.Bytes</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">EBP</span><span class="p">,</span><span class="no">Ints.Debug.Show.DWords</span><span class="w"></span>
<span class="w">                </span><span class="nf">JMP</span><span class="w">             </span><span class="no">.End</span><span class="w"></span>
<span class="nl">.Bytes:</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">EBP</span><span class="p">,</span><span class="no">Ints.Debug.Show.Bytes</span><span class="w"></span>
<span class="nl">.End:</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
<span class="c1">;...............................................................................</span>
<span class="nl">Ints.Debug.Key.Up:</span><span class="w"></span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">ESI</span><span class="p">,</span><span class="no">EBX</span><span class="w">          </span><span class="c1">; Reached Minimum?</span>
<span class="w">                </span><span class="nf">JBE</span><span class="w">             </span><span class="no">.End</span><span class="w">             </span><span class="c1">; Yep! Do nothing.</span>

<span class="w">                </span><span class="nf">SUB</span><span class="w">             </span><span class="no">ESI</span><span class="p">,</span><span class="no">Debug.BytesPerRow</span><span class="w"> </span><span class="c1">; Move earlier in memory</span>
<span class="nl">.End:</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
<span class="c1">;...............................................................................</span>
<span class="nl">Ints.Debug.Key.Down:</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">ESI</span><span class="w">          </span><span class="c1">; Try some calculations</span>
<span class="w">                </span><span class="nf">ADD</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">Debug.Show.Height</span><span class="p">*</span><span class="no">Debug.BytesPerRow</span><span class="w"> </span><span class="c1">; Add in bottom of Screen</span>
<span class="w">                </span><span class="nf">JO</span><span class="w">              </span><span class="no">.End</span><span class="w">             </span><span class="c1">; Overflow means too far!</span>
<span class="w">                </span><span class="nf">DEC</span><span class="w">             </span><span class="no">EAX</span><span class="w">              </span><span class="c1">; Need to, since Limit has -1</span>
<span class="w">                </span><span class="nf">CMP</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">EDX</span><span class="w">          </span><span class="c1">; Reached Maximum?</span>
<span class="w">                </span><span class="nf">JAE</span><span class="w">             </span><span class="no">.End</span><span class="w">             </span><span class="c1">; Yep, so too far</span>

<span class="w">                </span><span class="nf">ADD</span><span class="w">             </span><span class="no">ESI</span><span class="p">,</span><span class="no">Debug.BytesPerRow</span><span class="w"> </span><span class="c1">; Move later in memory</span>
<span class="nl">.End:</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
<span class="c1">;...............................................................................</span>
<span class="nl">Ints.Debug.Key.PgUp:</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">CL</span><span class="p">,</span><span class="no">Debug.Show.Height-1</span><span class="w"> </span><span class="c1">; Leave one row the same</span>
<span class="nl">.Loop:</span><span class="w"></span>
<span class="w">                </span><span class="nf">CALL</span><span class="w">            </span><span class="no">Ints.Debug.Key.Up</span><span class="w"></span>
<span class="w">                </span><span class="nf">LOOP</span><span class="w">            </span><span class="no">.Loop</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
<span class="c1">;...............................................................................</span>
<span class="nl">Ints.Debug.Key.PgDn:</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">CL</span><span class="p">,</span><span class="no">Debug.Show.Height-1</span><span class="w"> </span><span class="c1">; Leave one row the same</span>
<span class="nl">.Loop:</span><span class="w"></span>
<span class="w">                </span><span class="nf">CALL</span><span class="w">            </span><span class="no">Ints.Debug.Key.Down</span><span class="w"></span>
<span class="w">                </span><span class="nf">LOOP</span><span class="w">            </span><span class="no">.Loop</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
<span class="c1">;...............................................................................</span>
<span class="nl">Ints.Debug.Desc.Next:</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">DS</span><span class="w">           </span><span class="c1">; Get current Descriptor</span>
<span class="nl">.Loop:</span><span class="w"></span>
<span class="w">                </span><span class="nf">ADD</span><span class="w">             </span><span class="no">AX</span><span class="p">,</span><span class="no">x86.Desc_size</span><span class="w"> </span><span class="c1">; Go to next Descriptor</span>
<span class="w">                </span><span class="nf">CALL</span><span class="w">            </span><span class="no">Ints.Debug.Desc.Check</span><span class="w"></span>
<span class="w">                </span><span class="nf">JNE</span><span class="w">             </span><span class="no">.Loop</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>

<span class="nl">Ints.Debug.Desc.Prev:</span><span class="w"></span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">DS</span><span class="w">           </span><span class="c1">; Get current Descriptor</span>
<span class="nl">.Loop:</span><span class="w"></span>
<span class="w">                </span><span class="nf">SUB</span><span class="w">             </span><span class="no">AX</span><span class="p">,</span><span class="no">x86.Desc_size</span><span class="w"> </span><span class="c1">; Go to previous Descriptor</span>
<span class="w">                </span><span class="nf">CALL</span><span class="w">            </span><span class="no">Ints.Debug.Desc.Check</span><span class="w"></span>
<span class="w">                </span><span class="nf">JNE</span><span class="w">             </span><span class="no">.Loop</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>

<span class="nl">Ints.Debug.Desc.Check:</span><span class="w"></span>
<span class="c1">; This checks the current Descriptor for readability. If not, it simply returns.</span>
<span class="c1">; If it is readable, it sets up the necessary registers; in particular the</span>
<span class="c1">; values for Minimum and Maximum.</span>
<span class="c1">; One step it does take is to check the result of the just-completed Next or</span>
<span class="c1">; Prev. If that over- or under-flowed, it swaps to the other Descriptor Table</span>
<span class="c1">; (GDT or LDT). Also note that since there&#39;s no easy way to determine the size</span>
<span class="c1">; of the current LDT, or even the GDT, it is easiest to simply check all the</span>
<span class="c1">; Descriptors.</span>
<span class="w">                </span><span class="nf">JNC</span><span class="w">             </span><span class="no">.Readable</span><span class="w">       </span><span class="c1">; Didn&#39;t overflow: keep going</span>
<span class="w">                </span><span class="nf">XOR</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">x86.Seg.TI</span><span class="w">  </span><span class="c1">; Use other Descriptor Table</span>
<span class="nl">.Readable:</span><span class="w"></span>
<span class="w">                </span><span class="nf">VERR</span><span class="w">            </span><span class="no">AX</span><span class="w">              </span><span class="c1">; Can I read it?</span>
<span class="w">                </span><span class="nf">JNZ</span><span class="w">             </span><span class="no">.End</span><span class="w">            </span><span class="c1">; Nope. Keep looking!</span>

<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">DS</span><span class="p">,</span><span class="no">EAX</span><span class="w">          </span><span class="c1">; Found!</span>

<span class="w">                </span><span class="nf">LSL</span><span class="w">             </span><span class="no">EDX</span><span class="p">,</span><span class="no">EAX</span><span class="w">         </span><span class="c1">; Maximum address</span>
<span class="w">                </span><span class="nf">XOR</span><span class="w">             </span><span class="no">EBX</span><span class="p">,</span><span class="no">EBX</span><span class="w">         </span><span class="c1">; Minimum address</span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">ESI</span><span class="p">,</span><span class="no">EBX</span><span class="w">         </span><span class="c1">; Start at Minimum</span>

<span class="w">                </span><span class="nf">LAR</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">EAX</span><span class="w">         </span><span class="c1">; One more thing...</span>
<span class="w">                </span><span class="nf">TEST</span><span class="w">            </span><span class="no">AH</span><span class="p">,</span><span class="no">x86.Desc.Mem.Type.Code</span><span class="w">  </span><span class="c1">; Is it Code?</span>
<span class="w">                </span><span class="nf">JNZ</span><span class="w">             </span><span class="no">.Found</span><span class="w">                     </span><span class="c1">; OK, good</span>
<span class="w">                </span><span class="nf">TEST</span><span class="w">            </span><span class="no">AH</span><span class="p">,</span><span class="no">x86.Desc.Mem.Type.Stack</span><span class="w"> </span><span class="c1">; No. Is it a Stack?</span>
<span class="w">                </span><span class="nf">JZ</span><span class="w">              </span><span class="no">.Found</span><span class="w">                     </span><span class="c1">; No! Phew!</span>

<span class="w">                </span><span class="nf">XCHG</span><span class="w">            </span><span class="no">EBX</span><span class="p">,</span><span class="no">EDX</span><span class="w">         </span><span class="c1">; Yes, so everything&#39;s upside down!</span>
<span class="w">                </span><span class="nf">INC</span><span class="w">             </span><span class="no">EBX</span><span class="w">             </span><span class="c1">; Or off-by-one</span>
<span class="w">                </span><span class="nf">NOT</span><span class="w">             </span><span class="no">EDX</span><span class="w">             </span><span class="c1">; Or inverted!</span>
<span class="w">                </span><span class="c1">; Start at &quot;top&quot; of Segment, less a screenful</span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">ESI</span><span class="p">,</span><span class="mi">0</span><span class="p">-(</span><span class="no">Debug.Show.Height</span><span class="p">*</span><span class="no">Debug.BytesPerRow</span><span class="p">)</span><span class="w"> </span><span class="c1">; Screenful</span>

<span class="w">                </span><span class="nf">SHR</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="mi">16</span><span class="w">          </span><span class="c1">; Also need to check Gran byte</span>
<span class="w">                </span><span class="nf">TEST</span><span class="w">            </span><span class="no">AL</span><span class="p">,</span><span class="no">x86.Desc.Mem.Gran.Big</span><span class="w"> </span><span class="c1">; 32-bit?</span>
<span class="w">                </span><span class="nf">JNZ</span><span class="w">             </span><span class="no">.Found</span><span class="w">          </span><span class="c1">; Yes.</span>
<span class="w">                </span><span class="nf">MOV</span><span class="w">             </span><span class="no">AX</span><span class="p">,</span><span class="mi">0</span><span class="no">FFFFh</span><span class="w">       </span><span class="c1">; No. Need to mask off high word</span>
<span class="w">                </span><span class="nf">AND</span><span class="w">             </span><span class="no">EDX</span><span class="p">,</span><span class="no">EAX</span><span class="w">         </span><span class="c1">; Maximum address</span>
<span class="w">                </span><span class="nf">AND</span><span class="w">             </span><span class="no">ESI</span><span class="p">,</span><span class="no">EAX</span><span class="w">         </span><span class="c1">; Starting address</span>
<span class="nl">.Found:</span><span class="w"></span>
<span class="w">                </span><span class="nf">XOR</span><span class="w">             </span><span class="no">EAX</span><span class="p">,</span><span class="no">EAX</span><span class="w">         </span><span class="c1">; Set Z flag - Found!</span>
<span class="nl">.End:</span><span class="w"></span>
<span class="w">                </span><span class="nf">RET</span><span class="w"></span>
</pre></div>
<!-- 
NewPP limit report
Cached time: 20250211171158
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.020 seconds
Real time usage: 0.155 seconds
Preprocessor visited node count: 8/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 20430/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:3546-0!canonical and timestamp 20250211171158 and revision id 21451.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;oldid=21451">https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;oldid=21451</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../../../../Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="https://wiki.osdev.org/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Special:UserLogin&amp;returnto=User%3AJohnburger%2FDemo%2FInts%2FDebug%2FKey" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li><li id="pt-darkmode" class="mw-list-item"><a href="Key#" class="ext-darkmode-link"><span>Dark mode</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-user" class="selected mw-list-item"><a href="Key" title="View the user page [c]" accesskey="c"><span>User page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="https://wiki.osdev.org/index.php?title=User_talk:Johnburger/Demo/Ints/Debug/Key&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="Key"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.osdev.org/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search OSDev Wiki" aria-label="Search OSDev Wiki" autocapitalize="sentences" title="Search OSDev Wiki [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="../../../../index.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage" class="mw-list-item"><a href="../../../../index.html" title="Visit the main page [z]" accesskey="z"><span>Main Page</span></a></li><li id="n-portal" class="mw-list-item"><a href="http://forum.osdev.org/" rel="nofollow" title="About the project, what you can do, where to find things"><span>Forums</span></a></li><li id="n-FAQ" class="mw-list-item"><a href="../../../../Category:FAQ"><span>FAQ</span></a></li><li id="n-OS-Projects" class="mw-list-item"><a href="../../../../Projects"><span>OS Projects</span></a></li><li id="n-randompage" class="mw-list-item"><a href="https://wiki.osdev.org/Special:Random" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-about" class="vector-menu mw-portlet mw-portlet-about vector-menu-portal portal" aria-labelledby="p-about-label" role="navigation"  >
	<h3
		id="p-about-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">About</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-This-site" class="mw-list-item"><a href="../../../../OSDevWiki:About"><span>This site</span></a></li><li id="n-Joining" class="mw-list-item"><a href="../../../../OSDevWiki:Joining"><span>Joining</span></a></li><li id="n-Editing-help" class="mw-list-item"><a href="../../../../OSDevWiki:Editing"><span>Editing help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="../../../../Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="../../../../Special:WhatLinksHere/User:Johnburger/Demo/Ints/Debug/Key" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="https://wiki.osdev.org/Special:RecentChangesLinked/User:Johnburger/Demo/Ints/Debug/Key" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-contributions" class="mw-list-item"><a href="../../../../Special:Contributions/Johnburger" title="A list of contributions by this user"><span>User contributions</span></a></li><li id="t-log" class="mw-list-item"><a href="../../../../Special:Log/Johnburger"><span>Logs</span></a></li><li id="t-userrights" class="mw-list-item"><a href="../../../../Special:UserRights/Johnburger"><span>View user groups</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="../../../../Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;oldid=21451" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 29 August 2017, at 09:33.</li>
	<li id="footer-info-0">This page has been accessed 463 times.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="../../../../OSDev_Wiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../../../../OSDev_Wiki:About">About OSDev Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="../../../../OSDev_Wiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://wiki.osdev.org/index.php?title=User:Johnburger/Demo/Ints/Debug/Key&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="../../../../resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="../../../../resources/assets/poweredby_mediawiki_132x47.png 1.5x, ../../../../resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.020","walltime":"0.155","ppvisitednodes":{"value":8,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":20430,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20250211171158","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":264});});</script>
</body>
</html>