<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>COFF - OSDev Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"5d124810357f351636804e81","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"COFF","wgTitle":"COFF","wgCurRevisionId":27848,"wgRevisionId":27848,"wgArticleId":2811,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using deprecated source tags","Stubs","Executable Formats"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"COFF","wgRelevantArticleId":2811,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFDisplayWikibaseDescriptions":{
"search":false,"nearby":false,"watchlist":false,"tagline":false},"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgVector2022PreviewPages":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgEditSubmitButtonLabelPublish":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.DarkMode.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","mmv.head","mmv.bootstrap.autostart","ext.DarkMode","ext.moderation.notify","ext.moderation.ve","ext.moderation.ajaxhook","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=ext.DarkMode.styles%7Cext.pygments%7Cext.visualEditor.desktopArticleTarget.noscript%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.osdev.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.7"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OSDev Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="OSDev Wiki Atom feed" href="https://wiki.osdev.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-COFF rootpage-COFF skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">COFF</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From OSDev Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="COFF#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="COFF#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>COFF stands for Common Object File Format.  It is a file format used for storing compiled code, such as that outputted by a compiler or a linker.
</p><p>Like most compiler file formats, COFF defines structures within the file for storing information about the sections of the program, such as .text and .data, and about the symbols that the program declares or defines.
</p><p>COFF can be used to store individual functions or symbols, fragments of programs, libraries or entire executables.
</p><p>The Microsoft PE Executable format (strictly PE/COFF) contains a version of COFF.
</p><p>Whilst COFF is still around today, it is regarded as being overly complicated and in many cases its use has been replaced by <a href="ELF" title="ELF">ELF</a> or other executable file formats.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="COFF#Microsoft_PE/COFF"><span class="tocnumber">1</span> <span class="toctext">Microsoft PE/COFF</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="COFF#File_Format"><span class="tocnumber">2</span> <span class="toctext">File Format</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="COFF#File_Header"><span class="tocnumber">2.1</span> <span class="toctext">File Header</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="COFF#Optional_Header"><span class="tocnumber">2.2</span> <span class="toctext">Optional Header</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="COFF#Section_Header"><span class="tocnumber">2.3</span> <span class="toctext">Section Header</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="COFF#Relocation_Entries"><span class="tocnumber">2.4</span> <span class="toctext">Relocation Entries</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="COFF#Line_Number_Entries"><span class="tocnumber">2.5</span> <span class="toctext">Line Number Entries</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="COFF#Symbol_Table"><span class="tocnumber">2.6</span> <span class="toctext">Symbol Table</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="COFF#String_Table"><span class="tocnumber">2.7</span> <span class="toctext">String Table</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="COFF#Example"><span class="tocnumber">3</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="COFF#See_Also"><span class="tocnumber">4</span> <span class="toctext">See Also</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="COFF#External_Links"><span class="tocnumber">4.1</span> <span class="toctext">External Links</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span id="Microsoft_PE.2FCOFF"></span><span class="mw-headline" id="Microsoft_PE/COFF">Microsoft PE/COFF</span></h2>
<dl><dd><i>Main article:</i> <a href="PE" title="PE">PE</a></dd></dl>
<p>Most Microsoft EXE and DLL files use a file format that is based on COFF.
Microsoft's Portable Executable (PE/COFF) standard is largely compatible with the COFF specification with a few notable exceptions.  
</p><p>Firstly, the COFF File Header is not placed at the beginning of the file if the file is an image (executable) file.  In brief, a PE/COFF Image contains a pointer at offset 0x3C which points to the PE header.  The COFF File Header immediately follows this PE signature.  More information can be found in the <a href="PE" title="PE">PE</a> article.
</p><p>Secondly, the PE/COFF format also changes some of the COFF magic values (including the File Header one) and assigns them special meanings.
</p><p>More information can be found in the <a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows/win32/debug/pe-format">"Microsoft Portable Executable and Common Object File Format Specification"</a> document.
</p>
<h2><span class="mw-headline" id="File_Format">File Format</span></h2>
<p>COFF files contain a number of different tables, as well as areas of data that are referenced by the tables.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">

<tbody><tr>
<th>Structure
</th>
<th>Purpose
</th>
<th>Location
</th>
<th>Length
</th></tr>
<tr>
<td>File Header
</td>
<td>Stores the basic information about the file as well as pointers to the other structures.
</td>
<td>At the beginning of the file, except in Microsoft PE/COFF Image files (see above).
</td>
<td>Fixed structure length.
</td></tr>
<tr>
<td>Optional Header
</td>
<td>Stores additional information about the execution of the file.
</td>
<td>Only present if indicated by the File Header.  Immediately follows the File Header.
</td>
<td>Specified in the File Header
</td></tr>
<tr>
<td>Section Header
</td>
<td>Stores information about the different sections defined in the file.
</td>
<td>Immediately following the Optional Header.  If no Optional Header is provided, immediately follows the File Header.
</td>
<td>Calculated by the number of sections (specified in the File Header) multiplied by the fixed structure length.
</td></tr>
<tr>
<td>Section Relocation Table
</td>
<td>Allows the file to be relocated to any area of memory by providing information on which addresses need to be changed.
</td>
<td>At most one table exists for each Section.  Location is indicated by the corresponding Section Header.
</td>
<td>Calculated by the number of relocation entries (specified in the Section header) multiplied by the fixed structure length.
</td></tr>
<tr>
<td>Section Line Number Table
</td>
<td>Provides debugging information to map code addresses to source file line numbers.
</td>
<td>At most one table exists for each Section.  Location is indicated by the corresponding Section Header.
</td>
<td>Calculated by the number of line number entries (specified in the Section header) multiplied by the fixed structure length.
</td></tr>
<tr>
<td>Symbol Table
</td>
<td>Stores information on each symbol defined or declared by the code.
</td>
<td>Indicated to a pointer in the File Header.
</td>
<td>Calculated by the number of symbols (specified in the File Header) multiplied by the fixed structure length.
</td></tr>
<tr>
<td>String Table
</td>
<td>Stores any Section or Symbol names that are longer than eight characters.
</td>
<td>Immediately following the Symbol table.
</td>
<td>Indicated by the first 32 bits of the string table, evaluated as a long
</td></tr></tbody></table>
<p>Most COFF files contain additional space between the end of the Section table and the start of the Symbol table which stores the data for the sections themselves, although the location of this data relative to the Symbol (and String) table does not seem to be specified by the standard.
</p>
<h3><span class="mw-headline" id="File_Header">File Header</span></h3>
<p>The file header exists at the beginning of a COFF file (except in Microsoft PE/COFF Image files as noted above).  It contains a magic number field and other general information about the File.
</p><p>The structure of this header can be found in filehdr.h, and is 20 bytes longs.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> 	</span><span class="n">f_magic</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Magic number */</span><span class="w">	</span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> 	</span><span class="n">f_nscns</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Number of Sections */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w"> 		</span><span class="n">f_timdat</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Time &amp; date stamp */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w"> 		</span><span class="n">f_symptr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* File pointer to Symbol Table */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w"> 		</span><span class="n">f_nsyms</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Number of Symbols */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> 	</span><span class="n">f_opthdr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* sizeof(Optional Header) */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> 	</span><span class="n">f_flags</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Flags */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>The magic number varies from implementation to implementation, for example, DJGPP generates COFF files with the value 0x14C in this field.
</p><p>The number of sections indicates how many section structures should be expected in the Section table.
</p><p>The time and date stamp indicate when the COFF file was created.  This field is of the type time_t, being the number of seconds since epoch ( 1970-01-01 00:00:00 GMT ).
</p><p>The Symbol table pointer indicates the offset within the file where the Symbol table begins.
</p><p>The number of symbols indicate how many (fixed length) symbol structures are in the symbol table.  This value coupled with the Symbol table pointer allow you to calculate where the String table starts.
</p><p>The flags field usually indicates the state of the file.  Usually this is used to quickly lookup information that could be calculated from the rest of the file.  For example, one bit of this field indicates if relocation information has been removed from the file, another bit indicates if all the external symbols have been resolved, etc.
</p>
<h3><span class="mw-headline" id="Optional_Header">Optional Header</span></h3>
<p>The Optional header provides run-time information about the file and therefore is only present in executable COFF files.
</p><p>This header is only present in the file if the File header field f_opthdr is non-zero and, if present, immediately follows the File header.
</p><p>The structure of this header can be found in aouthdr.h, and is 28 bytes long.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> 	</span><span class="n">magic</span><span class="p">;</span><span class="w">          </span><span class="cm">/* Magic Number                    */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> 	</span><span class="n">vstamp</span><span class="p">;</span><span class="w">         </span><span class="cm">/* Version stamp                   */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> 	</span><span class="n">tsize</span><span class="p">;</span><span class="w">          </span><span class="cm">/* Text size in bytes              */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> 	</span><span class="n">dsize</span><span class="p">;</span><span class="w">          </span><span class="cm">/* Initialised data size           */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> 	</span><span class="n">bsize</span><span class="p">;</span><span class="w">          </span><span class="cm">/* Uninitialised data size         */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> 	</span><span class="n">entry</span><span class="p">;</span><span class="w">          </span><span class="cm">/* Entry point                     */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> 	</span><span class="n">text_start</span><span class="p">;</span><span class="w">     </span><span class="cm">/* Base of Text used for this file */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> 	</span><span class="n">data_start</span><span class="p">;</span><span class="w">     </span><span class="cm">/* Base of Data used for this file */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h3><span class="mw-headline" id="Section_Header">Section Header</span></h3>
<p>The Section table provides information about the individual section contained within the file.
</p><p>The Section table is an array of Section header structures.  It immediately follows the Optional header (or File header if no Optional header exists) and its length in Section header structures is given by the f_nscns field in the File header.
</p><p>Unlike most other tables, the Section table is 1-based, meaning that the first Section is referred to as Section 1 instead of Section 0.  This is done because in the Symbol table, a Section number of 0 has a special meaning.
</p><p>The structure of this header can be found in scnhdr.h, and is 40 bytes long.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="kt">char</span><span class="w">		</span><span class="n">s_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span><span class="w">	</span><span class="cm">/* Section Name */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_paddr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Physical Address */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_vaddr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Virtual Address */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_size</span><span class="p">;</span><span class="w">		</span><span class="cm">/* Section Size in Bytes */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_scnptr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* File offset to the Section data */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_relptr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* File offset to the Relocation table for this Section */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_lnnoptr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* File offset to the Line Number table for this Section */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w">	</span><span class="n">s_nreloc</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Number of Relocation table entries */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w">	</span><span class="n">s_nlnno</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Number of Line Number table entries */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">s_flags</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Flags for this section */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>The section name field stores the name of this section padded with NULL bytes if it is eight characters or fewer; otherwise, this field contains either a pointer into the String Table, or a special name that starts with `/` and is followed by the decimal digits representing the offset within the String Table where the section name may be found.  See the entry on the String Table below.
</p><p>The Physical address field stores the memory start address for this file.  If the file has been linked so that this section is to be loaded to a specific location in memory, this field will have been set to that value.
</p><p>The Virtual address field is equivalent to the Physical address field for the Virtual memory space.  However, in almost all instances, these two fields contain the same value.
</p><p>The s_size field contains the Section size in bytes.
</p><p>The Section pointer field contains the file offset where the raw data for this section begins.  This, coupled with the Section size, can be used to load the section data.  If this is a BSS Section (indicated in the Section's Flags field), the section may well have a size, but a Section pointer of zero.
</p><p>The s_relptr indicates the file offset for the Relocation information for this Section.  The number of entries in the Relocation table is given in the s_nreloc field.  If the s_nreloc field is zero, the section does not contain any Relocation information.
</p><p>Like the Relocation pointer, the s_lnnoptr field indicates the file offset to the Line number table for the section, whose length in entries is given in the s_nlnno field.  As with the s_nreloc, if the s_nlnno is zero then the Section contains no Line number information.
</p><p>The Flags field gives important information on how the Section should be handled when being processed.  The most important flag values relate to the type of field as follows:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">

<tbody><tr>
<th>Value
</th>
<th>Define
</th>
<th>Meaning if set
</th></tr>
<tr>
<td>0x0020
</td>
<td>STYP_TEXT
</td>
<td>The section contains executable code.
</td></tr>
<tr>
<td>0x0040
</td>
<td>STYP_DATA
</td>
<td>The section contains initialised data.
</td></tr>
<tr>
<td>0x0080
</td>
<td>STYP_BSS
</td>
<td>The COFF file contains no data for this section, but needs space to be allocated for it.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Relocation_Entries">Relocation Entries</span></h3>
<p>Using Relocation entries, it is possible to load a section of code into an arbitrary memory address and then modify the code so that the memory addresses for Symbols are correct.  This means you can take a COFF file, load the .text section of the file into one place, the .data section into another, the .bss section somewhere else again, and then update the .text section so that the code is able to find its values and function correctly.
</p><p>The Relocation Table is an array of Relocation Entry structures and is zero based.
</p><p>A COFF file can contain a Relocation table for each Section.  .text ( STYP_TEXT ) sections often have relocation information, it is also possible for .data ( STYP_DATA ) and other sections to have relocation information.
</p><p>The Relocation table for a section has its location and length stored in the Section's header.
</p><p>The structure of this header can be found in reloc.h, and is 10 bytes long.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">r_vaddr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Reference Address */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">r_symndx</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Symbol index */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w">	</span><span class="n">r_type</span><span class="p">;</span><span class="w">		</span><span class="cm">/* Type of relocation */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>The Address field gives the offset within the Section's raw data where the address starts.  The reference will almost always be a 32-bit value starting at the given address, but this is dependant on implementation and the r_type field.
</p><p>The Symbol index gives the (zero based) index in the Symbol table to which the reference refers.  Once you have loaded the COFF file into memory and know where each symbol is, you find the new updated address for the given symbol and update the reference accordingly.
</p><p>The r_type indicates how the address should be updated.  It is, unfortunately, implementation specific.  For an example, DJGPP can indicate that this be the 32-bit absolute address of the symbol (type 6), or it can specify a 32-bit address that is relative to the location of the reference (type 20).
</p>
<h3><span class="mw-headline" id="Line_Number_Entries">Line Number Entries</span></h3>
<p>Line number entries are used by debugging programs to relate symbols and physical instruction addresses to source file line numbers.
</p><p>The Line Number table is an array of Line Number Entry structures and is zero based.
</p><p>A COFF file can contain a Line number table for each Section, but it would be unusual to find line number information for anything other than .text ( STYP_TEXT ) Sections.
</p><p>Like the Relocation table, the Line Number table for a section has its location and length stored in the Section's header.
</p><p>The structure of this header can be found in linenum.h, and is 6 bytes long.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="k">union</span><span class="w"></span>
<span class="w">	</span><span class="p">{</span><span class="w"></span>
<span class="w">		</span><span class="kt">long</span><span class="w">		</span><span class="n">l_symndx</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Symbol Index */</span><span class="w"></span>
<span class="w">		</span><span class="kt">long</span><span class="w">		</span><span class="n">l_paddr</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Physical Address */</span><span class="w"></span>
<span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="n">l_addr</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w">		</span><span class="n">l_lnno</span><span class="p">;</span><span class="w">		</span><span class="cm">/* Line Number */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>In brief, The line number table will contain an entry with a line number of zero in which the l_symndx field will indicate the function name Symbol in the Symbol table.  This entry will be followed by additional entries with incrementing line numbers which indicate, through the l_paddr field, the byte offset into the section where this line starts.  Given this, an exception that occurs during processing of the COFF file can be traced back to a function and a line number within that function.
</p>
<h3><span class="mw-headline" id="Symbol_Table">Symbol Table</span></h3>
<p>The Symbol Table contains information on each symbol that is declared or defined by this file.  There will be symbols in this table for each function name, for each global variable, for each static variable, for each variable defined as extern, etc.  There are even symbols in this table that indicate the start of each section and further information about the file as a whole.
</p><p>The Symbol table is an array of Symbol Entry structures and is zero based.
</p><p>The Symbol table location is given in the File Header f_symptr field, and its length in entries is given in the File Header f_nsyms field.
</p><p>The structure of this header can be found in syms.h, and is 18 bytes long.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="kt">char</span><span class="w">		</span><span class="n">n_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span><span class="w">	</span><span class="cm">/* Symbol Name */</span><span class="w"></span>
<span class="w">	</span><span class="kt">long</span><span class="w">		</span><span class="n">n_value</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Value of Symbol */</span><span class="w"></span>
<span class="w">	</span><span class="kt">short</span><span class="w">		</span><span class="n">n_scnum</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Section Number */</span><span class="w"></span>
<span class="w">	</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w">	</span><span class="n">n_type</span><span class="p">;</span><span class="w">		</span><span class="cm">/* Symbol Type */</span><span class="w"></span>
<span class="w">	</span><span class="kt">char</span><span class="w">		</span><span class="n">n_sclass</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Storage Class */</span><span class="w"></span>
<span class="w">	</span><span class="kt">char</span><span class="w">		</span><span class="n">n_numaux</span><span class="p">;</span><span class="w">	</span><span class="cm">/* Auxiliary Count */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>The Symbol name field stores the name of this symbol if it is eight characters or fewer, otherwise this field contains a pointer into the String table.  See the entry on the String table below.
</p><p>Each symbol in the Symbol table can be followed by zero or more Auxiliary entries which provide further information about the symbol.  Each of these entries is the same length as the Symbol table entry, but has a different structure depending on the parent Symbol.
</p><p>The Section number field n_scnum indicates the Section to which this Symbol belongs.  If this value is greater than zero, it refers to a Section in the Section table (hence why the Section table is one-based).  I can also take one of the following special values:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">

<tbody><tr>
<th>n_scnum Value
</th>
<th>Meaning
</th></tr>
<tr>
<td>N_DEBUG (2)
</td>
<td>A debugging symbol.  In the example below, information about the file has been put into a symbol like this.
</td></tr>
<tr>
<td>N_ABS (1)
</td>
<td>An absolute symbol.  This means that the value of the n_value field is an absolute value.
</td></tr>
<tr>
<td>N_UNDEF (0)
</td>
<td>An undefined external symbol
</td></tr></tbody></table>
<p>The n_value, n_scnum and n_sclass fields in the table need to be considered together because they are interlinked.  A number of the more common combinations of these fields is given in the following table.  <i>(Much of the information in the following table is from observation and not from referenced sources.  It is incomplete and may not be accurate.)</i>
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">

<tbody><tr>
<th>n_sclass
</th>
<th>n_scnum
</th>
<th>n_value
</th>
<th>Meaning of n_value
</th>
<th>Typical use
</th></tr>
<tr>
<td rowspan="4">C_EXT (2)
</td>
<td>0
</td>
<td>0
</td>
<td>
</td>
<td>Unresolved external Symbol
</td></tr>
<tr>
<td>0
</td>
<td>&gt;0
</td>
<td>Size of variable
</td>
<td>Uninitialised global variable (not included in BSS)
</td></tr>
<tr>
<td>.text
</td>
<td>Any
</td>
<td>Offset into Section
</td>
<td>Function entry point
</td></tr>
<tr>
<td>.data
</td>
<td>Any
</td>
<td>Offset into Section
</td>
<td>Initialised global variable
</td></tr>
<tr>
<td rowspan="3">C_STAT (3)
</td>
<td>.text, .data, .bss
</td>
<td>0
</td>
<td>
</td>
<td>Section Symbol indicating start of Section
</td></tr>
<tr>
<td>.data
</td>
<td>Any
</td>
<td>Offset into Section
</td>
<td>Initialised static variable
</td></tr>
<tr>
<td>.bss
</td>
<td>Any
</td>
<td>Offset into Section
</td>
<td>Unitialised static variable
</td></tr></tbody></table>
<p><br />
As noted in the table, uninitialised global variables do not seem to be included in the size of the BSS section, only unitialised static variables.  If you are loading a COFF file into memory, it may be required to allocate space in addition to the BSS section size to cover these symbols.
</p>
<center>
<table style="border: 1px solid #cfcfbf; margin-top: 25px; margin-bottom: 25px; background-color: #f0f0ff; text-align: center;">
<tbody><tr>
<td>
<p><a href="./File:Stub.png" class="image" title="This article is a stub!"><img alt="This article is a stub!" src="images/f/fe/Stub.png" decoding="async" width="50" height="50" data-file-width="50" data-file-height="50" /></a>
This page or section is a <a href="./Category:Stubs" title="Category:Stubs">stub</a>. You can help the wiki by <i>accurately</i> <a rel="nofollow" class="external text" href="https://wiki.osdev.org/index.php?title=COFF&amp;action=edit">contributing</a> to it.
</p>
</td>
<td>
</td></tr></tbody></table>
</center>
<h3><span class="mw-headline" id="String_Table">String Table</span></h3>
<p>The String Table contains string names for any sections or symbols that are longer than eight characters.
</p><p>The String Table immediately follows the Symbol Table, and can be located by using the following formula:
</p>
<pre>String Table Offset = File Header.f_symptr + File Header.f_nsyms * sizeof( Symbol Table Entry )
	            = File Header.f_symptr + File Header.f_nsyms * 18
</pre>
<p>The first four bytes of the String Table are an integer indicating the overall size in bytes of the string table.  Each of the strings in the table are null terminated.
</p><p>The Section Table name field and the Symbol Table name field are actually more complicated than was detailed above, they in fact look more like this:
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="k">union</span><span class="w"></span>
<span class="w">	</span><span class="p">{</span><span class="w"></span>
<span class="w">		</span><span class="kt">char</span><span class="w">	</span><span class="n">name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span><span class="w"></span>
<span class="w">		</span><span class="k">struct</span><span class="w"></span>
<span class="w">		</span><span class="p">{</span><span class="w"></span>
<span class="w">			</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">zeroes</span><span class="p">;</span><span class="w"></span>
<span class="w">			</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span><span class="w"></span>
<span class="w">		</span><span class="p">}</span><span class="w"></span>
<span class="w">	</span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>If the name is eight characters or fewer, then the field "zeroes" will be non-zero, and "name" should be interpreted as a character array.  Note that this field is not null-terminated unless it is fewer than eight characters in length.
</p><p>If the name is more than eight characters, the "zeroes" field (the first four bytes of "name") will be zero.  In this case the "offset" field should be used as an offset value into the String table to locate the Symbol or Section name.
</p><p>NOTE: Some tools (like GCC) use a different format for the section name field.  Instead of the first four bytes being zero and the last four being an offset into the string table (as described just above), the first byte is a `/`, and the rest are the decimal digits of the offset within the string table where the section name may be found. For example, a section named ".name_thats_too_long" will have "/4" stored in its section name field, assuming this is the first string stored in the string table.
</p>
<h2><span class="mw-headline" id="Example">Example</span></h2>
<p>This is an example of a Symbol table and the source code to help illustrate some of the information above.  (This was compiled with DJGPP.)
</p>
<pre>Symbols
      e_zeroes     e_offset     e_value      e_scnum       e_sclass 
                                                    e_type     e_numaux
[00]  2E 66 69 6C  65 00 00 00  00 00 00 00  FE FF  00 00  67  01   .file.......þÿ..g.    
[01]  74 65 73 74  2E 6C 69 62  72 61 72 79  2E 63  00 00  00  00   test.library.c....    
[02]  00 00 00 00  04 00 00 00  08 00 00 00  02 00  00 00  03  00   ..................  _mStaticIntInit
[03]  00 00 00 00  14 00 00 00  0C 00 00 00  02 00  00 00  03  00   ..................  _mStaticShortInit
[04]  00 00 00 00  26 00 00 00  0E 00 00 00  02 00  00 00  03  00   ....&amp;.............  _mStaticCharInit
[05]  00 00 00 00  37 00 00 00  00 00 00 00  03 00  00 00  03  00   ....7.............  _mStaticInt
[06]  00 00 00 00  43 00 00 00  10 00 00 00  03 00  00 00  03  00   ....C.............  _mStaticShort
[07]  00 00 00 00  51 00 00 00  20 00 00 00  03 00  00 00  03  00   ....Q... .........  _mStaticChar
[08]  2E 74 65 78  74 00 00 00  00 00 00 00  01 00  00 00  03  01   .text.............  
[09]  33 00 00 00  03 00 00 00  00 00 00 00  00 00  00 00  00  00   3.................  
[0A]  2E 64 61 74  61 00 00 00  00 00 00 00  02 00  00 00  03  01   .data.............  
[0B]  0F 00 00 00  00 00 00 00  00 00 00 00  00 00  00 00  00  00   ..................  
[0C]  2E 62 73 73  00 00 00 00  00 00 00 00  03 00  00 00  03  01   .bss..............  
[0D]  30 00 00 00  00 00 00 00  00 00 00 00  00 00  00 00  00  00   0.................  
[0E]  2E 63 6F 6D  6D 65 6E 74  00 00 00 00  04 00  00 00  03  01   .comment..........  
[0F]  11 00 00 00  00 00 00 00  00 00 00 00  00 00  00 00  00  00   ..................  
[10]  00 00 00 00  5E 00 00 00  00 00 00 00  02 00  00 00  02  00   ....^.............  _mGlobalIntInit
[11]  00 00 00 00  6E 00 00 00  04 00 00 00  02 00  00 00  02  00   ....n.............  _mGlobalShortInit
[12]  00 00 00 00  80 00 00 00  06 00 00 00  02 00  00 00  02  00   ....€.............  _mGlobalCharInit
[13]  00 00 00 00  91 00 00 00  00 00 00 00  01 00  00 00  02  00   ....‘.............  _TestCall
[14]  5F 54 65 73  74 41 64 64  0A 00 00 00  01 00  00 00  02  00   _TestAdd..........  
[15]  00 00 00 00  9B 00 00 00  17 00 00 00  01 00  00 00  02  00   ....›.............  _TestSetValue
[16]  00 00 00 00  A9 00 00 00  10 00 00 00  00 00  00 00  02  00   ....©.............  _mTestValue
[17]  00 00 00 00  B5 00 00 00  29 00 00 00  01 00  00 00  02  00   ....µ...).........  _TestGetValue
[18]  00 00 00 00  C3 00 00 00  10 00 00 00  00 00  00 00  02  00   ....Ã.............  _mGlobalInt
[19]  00 00 00 00  CF 00 00 00  10 00 00 00  00 00  00 00  02  00   ....Ï.............  _mGlobalShort
[1A]  00 00 00 00  DD 00 00 00  10 00 00 00  00 00  00 00  02  00   ....Ý.............  _mGlobalChar
</pre>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">mGlobalInt</span><span class="p">;</span><span class="w"></span>
<span class="kt">short</span><span class="w"> </span><span class="n">mGlobalShort</span><span class="p">;</span><span class="w"></span>
<span class="kt">char</span><span class="w"> </span><span class="n">mGlobalChar</span><span class="p">;</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mStaticInt</span><span class="p">;</span><span class="w"></span>
<span class="k">static</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">mStaticShort</span><span class="p">;</span><span class="w"></span>
<span class="k">static</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">mStaticChar</span><span class="p">;</span><span class="w"></span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mGlobalIntInit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">mGlobalShortInit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">mGlobalCharInit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="kt">unsigned</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mStaticIntInit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">mStaticShortInit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">mStaticCharInit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">mTestValue</span><span class="p">;</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">TestCall</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">TestAdd</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pA</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pB</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">pA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pB</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">TestSetValue</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pValue</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="n">mTestValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pValue</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">mTestValue</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">TestGetValue</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">mTestValue</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<p>As you can see, the static global variables are defined in either section 2 (.data) for the initialised ones, or section 3 (.bss) for the uninitialised, with n_value being an offset into the relevant section.  The initialised global variables are also defined in section 2 (.data) with offsets.
</p><p>Note that the uninitialised global variables have a Section number of N_UNDEF (0) and as such are undefined, but as we a non-zero n_value field, we are being told the amount of space that we need to allocate for each symbol (16 bytes for each one in a slightly wasteful overallocation).
</p><p><br />
</p>
<center>
<table style="border: 1px solid #cfcfbf; margin-top: 25px; margin-bottom: 25px; background-color: #f0f0ff; text-align: center;">
<tbody><tr>
<td>
<p><a href="./File:Stub.png" class="image" title="This article is a stub!"><img alt="This article is a stub!" src="images/f/fe/Stub.png" decoding="async" width="50" height="50" data-file-width="50" data-file-height="50" /></a>
This page or section is a <a href="./Category:Stubs" title="Category:Stubs">stub</a>. You can help the wiki by <i>accurately</i> <a rel="nofollow" class="external text" href="https://wiki.osdev.org/index.php?title=COFF&amp;action=edit">contributing</a> to it.
</p>
</td>
<td>
</td></tr></tbody></table>
</center>
<p><br />
</p>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<h3><span class="mw-headline" id="External_Links">External Links</span></h3>
<ul><li><a rel="nofollow" class="external free" href="http://www.delorie.com/djgpp/doc/coff/">http://www.delorie.com/djgpp/doc/coff/</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20230703150217/https%3A%2F%2Fdownload.microsoft.com%2Fdownload%2F9%2Fc%2F5%2F9c5b2167-8017-4bae-9fde-d599bac8184a%2Fpecoff_v83.docx">Official Microsoft COFF Specification (2016)</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20250212010729
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.066 seconds
Real time usage: 1.119 seconds
Preprocessor visited node count: 118/1000000
Post‐expand include size: 1494/2097152 bytes
Template argument size: 2/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 21156/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 1086.447      1 -total
  0.09%    0.974      2 Template:Stub
  0.05%    0.494      1 Template:Main
  0.04%    0.395      4 Template:Wikitable
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:2811-0!canonical and timestamp 20250212010727 and revision id 27848.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.osdev.org/index.php?title=COFF&amp;oldid=27848">https://wiki.osdev.org/index.php?title=COFF&amp;oldid=27848</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://wiki.osdev.org/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li><li><a href="./Category:Stubs" title="Category:Stubs">Stubs</a></li><li><a href="./Category:Executable_Formats" title="Category:Executable Formats">Executable Formats</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Special:UserLogin&amp;returnto=COFF" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li><li id="pt-darkmode" class="mw-list-item"><a href="COFF#" class="ext-darkmode-link"><span>Dark mode</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="COFF" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Talk:COFF&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="COFF"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=COFF&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=COFF&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.osdev.org/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search OSDev Wiki" aria-label="Search OSDev Wiki" autocapitalize="sentences" title="Search OSDev Wiki [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="index.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage" class="mw-list-item"><a href="index.html" title="Visit the main page [z]" accesskey="z"><span>Main Page</span></a></li><li id="n-portal" class="mw-list-item"><a href="http://forum.osdev.org/" rel="nofollow" title="About the project, what you can do, where to find things"><span>Forums</span></a></li><li id="n-FAQ" class="mw-list-item"><a href="./Category:FAQ"><span>FAQ</span></a></li><li id="n-OS-Projects" class="mw-list-item"><a href="Projects"><span>OS Projects</span></a></li><li id="n-randompage" class="mw-list-item"><a href="https://wiki.osdev.org/Special:Random" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-about" class="vector-menu mw-portlet mw-portlet-about vector-menu-portal portal" aria-labelledby="p-about-label" role="navigation"  >
	<h3
		id="p-about-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">About</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-This-site" class="mw-list-item"><a href="./OSDevWiki:About"><span>This site</span></a></li><li id="n-Joining" class="mw-list-item"><a href="./OSDevWiki:Joining"><span>Joining</span></a></li><li id="n-Editing-help" class="mw-list-item"><a href="./OSDevWiki:Editing"><span>Editing help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="./Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="./Special:WhatLinksHere/COFF" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="./Special:RecentChangesLinked/COFF" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="./Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=COFF&amp;oldid=27848" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=COFF&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 3 July 2023, at 15:29.</li>
	<li id="footer-info-0">This page has been accessed 10,964 times.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="./OSDev_Wiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="./OSDev_Wiki:About">About OSDev Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="./OSDev_Wiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://wiki.osdev.org/index.php?title=COFF&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.066","walltime":"1.119","ppvisitednodes":{"value":118,"limit":1000000},"postexpandincludesize":{"value":1494,"limit":2097152},"templateargumentsize":{"value":2,"limit":2097152},"expansiondepth":{"value":4,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":21156,"limit":5000000},"timingprofile":["100.00% 1086.447      1 -total","  0.09%    0.974      2 Template:Stub","  0.05%    0.494      1 Template:Main","  0.04%    0.395      4 Template:Wikitable"]},"cachereport":{"timestamp":"20250212010729","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":1218});});</script>
</body>
</html>