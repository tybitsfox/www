<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Ext4 - OSDev Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"eba90810b2c0540e110a0ae7","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Ext4","wgTitle":"Ext4","wgCurRevisionId":27720,"wgRevisionId":27720,"wgArticleId":3001,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using duplicate arguments in template calls","Stubs"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Ext4","wgRelevantArticleId":3001,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFDisplayWikibaseDescriptions":{"search":
false,"nearby":false,"watchlist":false,"tagline":false},"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgVector2022PreviewPages":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgEditSubmitButtonLabelPublish":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.vector.styles.legacy":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.DarkMode.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","mmv.head","mmv.bootstrap.autostart","ext.DarkMode","ext.moderation.notify","ext.moderation.ve","ext.moderation.ajaxhook","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=ext.DarkMode.styles%7Cext.visualEditor.desktopArticleTarget.noscript%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.osdev.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.7"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OSDev Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="OSDev Wiki Atom feed" href="https://wiki.osdev.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ext4 rootpage-Ext4 skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Ext4</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From OSDev Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="Ext4#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="Ext4#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><center>
<table style="border: 1px solid #cfcfbf; margin-top: 25px; margin-bottom: 25px; background-color: #f0f0ff; text-align: center;">
<tbody><tr>
<td>
<p><a href="./File:Stub.png" class="image" title="This article is a stub!"><img alt="This article is a stub!" src="images/f/fe/Stub.png" decoding="async" width="50" height="50" data-file-width="50" data-file-height="50" /></a>
This page or section is a <a href="./Category:Stubs" title="Category:Stubs">stub</a>. You can help the wiki by <i>accurately</i> <a rel="nofollow" class="external text" href="https://wiki.osdev.org/index.php?title=Ext4&amp;action=edit">contributing</a> to it.
</p>
</td>
<td>
</td></tr></tbody></table>
</center>
<table style="font-size:95%; line-height:1.5em; padding:0.25em; float:right; margin: 0 0 8px 15px; clear: right; border:1px solid #aaaaaa; background:#eee; text-align:center; width:200px; ;"><tbody><tr><th style="background:#ffce7b; padding:0.3em; font-size:1.1em;"><a href="File_Systems" title="File Systems">Filesystems</a></th></tr><tr><th>Virtual Filesystems</th></tr><tr><td><div>
<p><a href="VFS" title="VFS">VFS</a><br />
</p>
</div></td></tr><tr><th>Disk Filesystems</th></tr><tr><td><div>
<p><a href="FAT" title="FAT">FAT</a> <a href="FAT12" class="mw-redirect" title="FAT12">12</a>/<a href="FAT16" class="mw-redirect" title="FAT16">16</a>/<a href="FAT32" class="mw-redirect" title="FAT32">32</a>, <a href="VFAT" class="mw-redirect" title="VFAT">VFAT</a>, <a href="ExFAT" title="ExFAT">ExFAT</a><br />
<a href="Ext2" title="Ext2">Ext 2</a>/<a href="Ext3" title="Ext3">3</a>/<a class="mw-selflink selflink">4</a><br />
<a href="LEAN" title="LEAN">LEAN</a><br />
<a href="HPFS" title="HPFS">HPFS</a><br />
<a href="NTFS" title="NTFS">NTFS</a><br />
<a href="HFS" title="HFS">HFS</a><br />
<a href="HFS+" title="HFS+">HFS+</a><br />
<a href="MFS" title="MFS">MFS</a><br />
<a href="ReiserFS" title="ReiserFS">ReiserFS</a><br />
<a href="FFS_(Amiga)" title="FFS (Amiga)">FFS (Amiga)</a><br />
<a href="FFS_(BSD)" class="mw-redirect" title="FFS (BSD)">FFS (BSD)</a>/<a href="UFS" title="UFS">UFS</a><br />
<a href="BeFS" title="BeFS">BeFS</a><br />
<a href="BFS" title="BFS">BFS</a><br />
<a href="XFS" title="XFS">XFS</a><br />
<a href="SFS" title="SFS">SFS</a><br />
<a href="ZDSFS" title="ZDSFS">ZDSFS</a><br />
<a href="ZFS" title="ZFS">ZFS</a><br />
<a href="USTAR" title="USTAR">USTAR</a><br />
</p>
</div></td></tr><tr><th>CD/DVD Filesystems</th></tr><tr><td><div>
<p><a href="ISO_9660" title="ISO 9660">ISO 9660</a><br />
<a href="Joliet" title="Joliet">Joliet</a><br />
<a href="UDF" title="UDF">UDF</a><br />
</p>
</div></td></tr><tr><th><a href="./Category:Network_Filesystems" title="Category:Network Filesystems">Network Filesystems</a></th></tr><tr><td><div>
<p><a href="NFS" title="NFS">NFS</a><br />
<a href="RFS" title="RFS">RFS</a><br />
<a href="AFS" title="AFS">AFS</a><br />
</p>
</div></td></tr><tr><th>Flash Filesystems</th></tr><tr><td><div>
<p><a href="JFFS2" title="JFFS2">JFFS2</a><br />
<a href="YAFFS" title="YAFFS">YAFFS</a><br />
</p>
</div></td></tr></tbody></table>
<p>While the ext4 filesystem originated a series of patches to the <a href="Ext3" title="Ext3">ext3</a> filesystem, it was later rebranded as a dedicated filesystem design that shares design with <a href="Ext2" title="Ext2">ext2</a> and <a href="Ext3" title="Ext3">ext3</a>. Like ext3, it supports <a href="Journaling" title="Journaling">journaling</a>. Amongst the upgrades are larger maximums (file size, filesystem size, files per folder, folders per folder etc), and features that were inspired from existing filesystems like <a href="XFS" title="XFS">XFS</a>.
</p><p><i>This information is based off the Ext4 implementation as of Linux 5.9rc3. Ext4 is subject to change, so one may wish to also check the latest kernel headers for new information.</i>
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Ext4#Basic_Concepts"><span class="tocnumber">1</span> <span class="toctext">Basic Concepts</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Ext4#Superblock"><span class="tocnumber">2</span> <span class="toctext">Superblock</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Ext4#Block_Group_Descriptor"><span class="tocnumber">3</span> <span class="toctext">Block Group Descriptor</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="Ext4#Locating_the_Block_Group_Descriptors"><span class="tocnumber">3.1</span> <span class="toctext">Locating the Block Group Descriptors</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Ext4#Block_Group_Descriptor_2"><span class="tocnumber">3.2</span> <span class="toctext">Block Group Descriptor</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="Ext4#Multiple_Mount_Protection"><span class="tocnumber">4</span> <span class="toctext">Multiple Mount Protection</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="Ext4#MMP_structure"><span class="tocnumber">4.1</span> <span class="toctext">MMP structure</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="Ext4#Journaling"><span class="tocnumber">5</span> <span class="toctext">Journaling</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="Ext4#Journal_Superblock_Fields"><span class="tocnumber">5.1</span> <span class="toctext">Journal Superblock Fields</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="Ext4#Journal_Header"><span class="tocnumber">5.2</span> <span class="toctext">Journal Header</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="Ext4#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="Ext4#External_Links"><span class="tocnumber">6.1</span> <span class="toctext">External Links</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Basic_Concepts">Basic Concepts</span></h2>
<center>
<table style="border: 1px solid #cfcfbf; margin-top: 25px; margin-bottom: 25px; background-color: #f0f0ff; text-align: center;">
<tbody><tr>
<td>
<p><a href="./File:Stub.png" class="image" title="This article is a stub!"><img alt="This article is a stub!" src="images/f/fe/Stub.png" decoding="async" width="50" height="50" data-file-width="50" data-file-height="50" /></a>
This page or section is a <a href="./Category:Stubs" title="Category:Stubs">stub</a>. You can help the wiki by <i>accurately</i> <a rel="nofollow" class="external text" href="https://wiki.osdev.org/index.php?title=Ext4&amp;action=edit">contributing</a> to it.
</p>
</td>
<td>
</td></tr></tbody></table>
</center>
<h2><span class="mw-headline" id="Superblock">Superblock</span></h2>
<p>See <a href="Ext2#Superblock" title="Ext2">Ext2</a> wiki page for an easier introduction to the concept of a superblock. All values are little endian unless otherwise specified.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
</th>
<th>Description
</th></tr>
<tr>
<td>0</td>
<td>3</td>
<td>4</td>
<td>Total number of inodes in file system
</td></tr>
<tr>
<td>4</td>
<td>7</td>
<td>4</td>
<td>Total number of blocks in file system
</td></tr>
<tr>
<td>8</td>
<td>11</td>
<td>4</td>
<td>Number of reserved blocks
</td></tr>
<tr>
<td>12</td>
<td>15</td>
<td>4</td>
<td>Total number of unallocated blocks
</td></tr>
<tr>
<td>16</td>
<td>19</td>
<td>4</td>
<td>Total number of unallocated inodes
</td></tr>
<tr>
<td>20</td>
<td>23</td>
<td>4</td>
<td>Block number of the block containing the superblock. This is 1 on 1024 byte block size filesystems, and 0 for all others.
</td></tr>
<tr>
<td>24</td>
<td>27</td>
<td>4</td>
<td><i>log</i><sub>2</sub> (block size) - 10. (In other words, the number to shift 1,024 to the left by to obtain the block size)
</td></tr>
<tr>
<td>28</td>
<td>31</td>
<td>4</td>
<td><i>log</i><sub>2</sub> (fragment size) - 10. (In other words, the number to shift 1,024 to the left by to obtain the fragment size)
</td></tr>
<tr>
<td>32</td>
<td>35</td>
<td>4</td>
<td>Number of blocks in each block group
</td></tr>
<tr>
<td>36</td>
<td>39</td>
<td>4</td>
<td>Number of fragments in each block group
</td></tr>
<tr>
<td>40</td>
<td>43</td>
<td>4</td>
<td>Number of inodes in each block group
</td></tr>
<tr>
<td>44</td>
<td>47</td>
<td>4</td>
<td>Last mount time (in <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Unix_time">POSIX time</a>)
</td></tr>
<tr>
<td>48</td>
<td>51</td>
<td>4</td>
<td>Last written time (in <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Unix_time">POSIX time</a>)
</td></tr>
<tr>
<td>52</td>
<td>53</td>
<td>2</td>
<td>Number of times the volume has been mounted since its last consistency check (<a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Fsck">fsck</a>)
</td></tr>
<tr>
<td>54</td>
<td>55</td>
<td>2</td>
<td>Number of mounts allowed before a consistency check (<a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Fsck">fsck</a>) must be done
</td></tr>
<tr>
<td>56</td>
<td>57</td>
<td>2</td>
<td>Magic signature (0xef53), used to help confirm the presence of Ext4 on a volume
</td></tr>
<tr>
<td>58</td>
<td>59</td>
<td>2</td>
<td>File system state.
</td></tr>
<tr>
<td>60</td>
<td>61</td>
<td>2</td>
<td>What to do when an error is detected
</td></tr>
<tr>
<td>62</td>
<td>63</td>
<td>2</td>
<td>Minor portion of version (combine with Major portion below to construct full version field)
</td></tr>
<tr>
<td>64</td>
<td>67</td>
<td>4</td>
<td><a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Unix_time">POSIX time</a> of last consistency check (<a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Fsck">fsck</a>)
</td></tr>
<tr>
<td>68</td>
<td>71</td>
<td>4</td>
<td>Interval (in <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Unix_time">POSIX time</a>) between forced consistency checks (<a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Fsck">fsck</a>)
</td></tr>
<tr>
<td>72</td>
<td>75</td>
<td>4</td>
<td>Operating system ID from which the filesystem on this volume was created (<a href="Ext4#Creator_Operating_System_IDs">see below</a>)
</td></tr>
<tr>
<td>76</td>
<td>79</td>
<td>4</td>
<td>Major portion of version (combine with Minor portion above to construct full version field)
</td></tr>
<tr>
<td>80</td>
<td>81</td>
<td>2</td>
<td>User ID that can use reserved blocks
</td></tr>
<tr>
<td>82</td>
<td>83</td>
<td>2</td>
<td>Group ID that can use reserved blocks
</td></tr></tbody></table>
<p>These fields are for ext4 dynamic superblocks only. If a bit is set in the required feature set it does not recognize, it must refuse to mount the filesystem. Filesystem checks, however, must abort on <b>any</b> unrecognized flag in the optional or required features.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
<p>in Bytes
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>84</td>
<td>87</td>
<td>4</td>
<td>First non-reserved inode in file system.
</td></tr>
<tr>
<td>88</td>
<td>89</td>
<td>2</td>
<td>Size of each inode structure in bytes.
</td></tr>
<tr>
<td>90</td>
<td>91</td>
<td>2</td>
<td>Block group that this superblock is part of for backup copies.
</td></tr>
<tr>
<td>92</td>
<td>95</td>
<td>4</td>
<td>Optional features present.
</td></tr>
<tr>
<td>96</td>
<td>99</td>
<td>4</td>
<td>Required features present.
</td></tr>
<tr>
<td>100</td>
<td>103</td>
<td>4</td>
<td>Features that if not supported the volume must be mounted read-only.
</td></tr>
<tr>
<td>104</td>
<td>119</td>
<td>16</td>
<td>File system UUID.
</td></tr>
<tr>
<td>120</td>
<td>135</td>
<td>16</td>
<td>Volume name.
</td></tr>
<tr>
<td>136</td>
<td>199</td>
<td>64</td>
<td>Path Volume was last mounted to.
</td></tr>
<tr>
<td>200</td>
<td>203</td>
<td>4</td>
<td>Compression algorithm used.
</td></tr>
<tr>
<td>204</td>
<td>204</td>
<td>1</td>
<td>Amount of blocks to preallocate for files
</td></tr>
<tr>
<td>205</td>
<td>205</td>
<td>1</td>
<td>Amount of blocks to preallocate for directories.
</td></tr>
<tr>
<td>206</td>
<td>207</td>
<td>2</td>
<td>Amount of reserved GDT entries for filesystem expansion.
</td></tr>
<tr>
<td>208</td>
<td>223</td>
<td>16</td>
<td>Journal UUID.
</td></tr>
<tr>
<td>224</td>
<td>227</td>
<td>4</td>
<td>Journal Inode.
</td></tr>
<tr>
<td>228</td>
<td>231</td>
<td>4</td>
<td>Journal Device number.
</td></tr>
<tr>
<td>232</td>
<td>235</td>
<td>4</td>
<td>Head of orphan inode list.
</td></tr>
<tr>
<td>236</td>
<td>251</td>
<td>16</td>
<td>HTREE hash seed in an array of 32 bit integers.
</td></tr>
<tr>
<td>252</td>
<td>252</td>
<td>1</td>
<td>Hash algorithm to use for directories.
</td></tr>
<tr>
<td>253</td>
<td>253</td>
<td>1</td>
<td>Journal blocks field contains a copy of the inode's block array and size.
</td></tr>
<tr>
<td>254</td>
<td>255</td>
<td>2</td>
<td>Size of group descriptors in bytes, for 64 bit mode.
</td></tr>
<tr>
<td>256</td>
<td>259</td>
<td>4</td>
<td>Mount options.
</td></tr>
<tr>
<td>260</td>
<td>263</td>
<td>4</td>
<td>First metablock block group, if enabled.
</td></tr>
<tr>
<td>264</td>
<td>267</td>
<td>4</td>
<td>Filesystem Creation Time.
</td></tr>
<tr>
<td>268</td>
<td>335</td>
<td>68</td>
<td>Journal Inode Backup in an array of 32 bit integers.
</td></tr></tbody></table>
<p>Valid if the 64bit feature is set.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
<p>in Bytes
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>336</td>
<td>339</td>
<td>4</td>
<td>High 32-bits of the total number of blocks.
</td></tr>
<tr>
<td>340</td>
<td>343</td>
<td>4</td>
<td>High 32-bits of the total number of reserved blocks.
</td></tr>
<tr>
<td>344</td>
<td>347</td>
<td>4</td>
<td>High 32-bits of the total number of unallocated blocks.
</td></tr>
<tr>
<td>348</td>
<td>349</td>
<td>2</td>
<td>Minimum inode size.
</td></tr>
<tr>
<td>350</td>
<td>351</td>
<td>2</td>
<td>Minimum inode reservation size.
</td></tr>
<tr>
<td>352</td>
<td>355</td>
<td>4</td>
<td>Misc flags, such as sign of directory hash or development status.
</td></tr>
<tr>
<td>356</td>
<td>357</td>
<td>2</td>
<td>Amount logical blocks read or written per disk in a RAID array.
</td></tr>
<tr>
<td>358</td>
<td>359</td>
<td>2</td>
<td>Amount of seconds to wait in Multi-mount prevention checking.
</td></tr>
<tr>
<td>360</td>
<td>367</td>
<td>8</td>
<td>Block to multi-mount prevent.
</td></tr>
<tr>
<td>368</td>
<td>371</td>
<td>4</td>
<td>Amount of blocks to read or write before returning to the current disk in a RAID array. Amount of disks * stride.
</td></tr>
<tr>
<td>372</td>
<td>372</td>
<td>1</td>
<td><i>log</i><sub>2</sub> (groups per flex) - 10. (In other words, the number to shift 1,024 to the left by to obtain the groups per flex block group)
</td></tr>
<tr>
<td>373</td>
<td>373</td>
<td>1</td>
<td>Metadata checksum algorithm used. Linux only supports crc32.
</td></tr>
<tr>
<td>374</td>
<td>374</td>
<td>1</td>
<td>Encryption version level.
</td></tr>
<tr>
<td>375</td>
<td>375</td>
<td>1</td>
<td>Reserved padding.
</td></tr>
<tr>
<td>376</td>
<td>383</td>
<td>8</td>
<td>Amount of kilobytes written over the filesystem's lifetime.
</td></tr>
<tr>
<td>384</td>
<td>387</td>
<td>4</td>
<td>Inode number of the active snapshot.
</td></tr>
<tr>
<td>388</td>
<td>391</td>
<td>4</td>
<td>Sequential ID of active snapshot.
</td></tr>
<tr>
<td>392</td>
<td>399</td>
<td>8</td>
<td>Number of blocks reserved for active snapshot.
</td></tr>
<tr>
<td>400</td>
<td>403</td>
<td>4</td>
<td>Inode number of the head of the disk snapshot list.
</td></tr>
<tr>
<td>404</td>
<td>407</td>
<td>4</td>
<td>Amount of errors detected.
</td></tr>
<tr>
<td>408</td>
<td>411</td>
<td>4</td>
<td>First time an error occurred in POSIX time.
</td></tr>
<tr>
<td>412</td>
<td>415</td>
<td>4</td>
<td>Inode number in the first error.
</td></tr>
<tr>
<td>416</td>
<td>423</td>
<td>8</td>
<td>Block number in the first error.
</td></tr>
<tr>
<td>424</td>
<td>455</td>
<td>32</td>
<td>Function where the first error occurred.
</td></tr>
<tr>
<td>456</td>
<td>459</td>
<td>4</td>
<td>Line number where the first error occurred.
</td></tr>
<tr>
<td>460</td>
<td>463</td>
<td>4</td>
<td>Most recent time an error occurred in POSIX time.
</td></tr>
<tr>
<td>464</td>
<td>467</td>
<td>4</td>
<td>Inode number in the last error.
</td></tr>
<tr>
<td>468</td>
<td>475</td>
<td>8</td>
<td>Block number in the last error.
</td></tr>
<tr>
<td>476</td>
<td>507</td>
<td>32</td>
<td>Function where the most recent error occurred.
</td></tr>
<tr>
<td>508</td>
<td>511</td>
<td>4</td>
<td>Line number where the most recent error occurred.
</td></tr>
<tr>
<td>512</td>
<td>575</td>
<td>64</td>
<td>Mount options. (C-style string: characters terminated by a 0 byte)
</td></tr>
<tr>
<td>576</td>
<td>579</td>
<td>4</td>
<td>Inode number for user quota file.
</td></tr>
<tr>
<td>580</td>
<td>583</td>
<td>4</td>
<td>Inode number for group quota file.
</td></tr>
<tr>
<td>584</td>
<td>587</td>
<td>4</td>
<td>Overhead blocks/clusters in filesystem. Zero means the kernel calculates it at runtime.
</td></tr>
<tr>
<td>588</td>
<td>595</td>
<td>8</td>
<td>Block groups with backup Superblocks, if the sparse superblock flag is set.
</td></tr>
<tr>
<td>596</td>
<td>599</td>
<td>4</td>
<td>Encryption algorithms used, as a array of unsigned char.
</td></tr>
<tr>
<td>600</td>
<td>615</td>
<td>16</td>
<td>Salt for the `string2key` algorithm.
</td></tr>
<tr>
<td>616</td>
<td>619</td>
<td>4</td>
<td>Inode number of the lost+found directory.
</td></tr>
<tr>
<td>620</td>
<td>623</td>
<td>4</td>
<td>Inode number of the project quota tracker.
</td></tr>
<tr>
<td>624</td>
<td>627</td>
<td>4</td>
<td>Checksum of the UUID, used for the checksum seed. (crc32c(~0, UUID))
</td></tr>
<tr>
<td>628</td>
<td>628</td>
<td>1</td>
<td>High 8-bits of the last written time field.
</td></tr>
<tr>
<td>629</td>
<td>629</td>
<td>1</td>
<td>High 8-bits of the last mount time field.
</td></tr>
<tr>
<td>630</td>
<td>630</td>
<td>1</td>
<td>High 8-bits of the Filesystem creation time field.
</td></tr>
<tr>
<td>631</td>
<td>631</td>
<td>1</td>
<td>High 8-bits of the last consistency check time field.
</td></tr>
<tr>
<td>632</td>
<td>632</td>
<td>1</td>
<td>High 8-bits of the first time an error occurred time field.
</td></tr>
<tr>
<td>633</td>
<td>633</td>
<td>1</td>
<td>High 8-bits of the latest time an error occurred time field.
</td></tr>
<tr>
<td>634</td>
<td>634</td>
<td>1</td>
<td>Error code of the first error.
</td></tr>
<tr>
<td>635</td>
<td>635</td>
<td>1</td>
<td>Error code of the latest error.
</td></tr>
<tr>
<td>636</td>
<td>637</td>
<td>2</td>
<td>Filename charset encoding.
</td></tr>
<tr>
<td>638</td>
<td>639</td>
<td>2</td>
<td>Filename charset encoding flags.
</td></tr>
<tr>
<td>640</td>
<td>1019</td>
<td>380</td>
<td>Padding.
</td></tr>
<tr>
<td>1020</td>
<td>1023</td>
<td>4</td>
<td>Checksum of the superblock.
</td></tr></tbody></table>
<p>Required Features:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Flag
<p>Value
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>0x0001</td>
<td>Compression is used.
</td></tr>
<tr>
<td>0x00002</td>
<td>Directory entries contain a type field.
</td></tr>
<tr>
<td>0x00004</td>
<td>Filesystem needs to replay the Journal to recover data.
</td></tr>
<tr>
<td>0x00008</td>
<td>Filesystem uses a journal device.
</td></tr>
<tr>
<td>0x00010</td>
<td>Filesystem uses Meta Block Groups.
</td></tr>
<tr>
<td>0x00040</td>
<td>Filesystem uses extents for files.
</td></tr>
<tr>
<td>0x00080</td>
<td>Filesystem uses 64 bit features.
</td></tr>
<tr>
<td>0x00100</td>
<td>Filesystem uses Multiple Mount Protection.
</td></tr>
<tr>
<td>0x00200</td>
<td>Filesystem uses Flex Block Groups.
</td></tr>
<tr>
<td>0x00400</td>
<td>Filesystem uses Extended Attributes in Inodes.
</td></tr>
<tr>
<td>0x01000</td>
<td>Filesystem uses Data in Directory Entries. This is not implemented as of Linux 5.9rc3.
</td></tr>
<tr>
<td>0x02000</td>
<td>Filesystem stores the metadata checksum seed in the superblock. This allows for changing the UUID wihtout rewriting all of the metadata blocks.
</td></tr>
<tr>
<td>0x04000</td>
<td>Directories may be larger than 4GiB and have a maximum HTREE depth of 3.
</td></tr>
<tr>
<td>0x08000</td>
<td>Data may be stored in the inode. See <a href="Ext4#Inline_Data" title="Ext4">Inline Data</a> for an discussion of this feature.
</td></tr>
<tr>
<td>0x10000</td>
<td>Filesystem uses Encryption.
</td></tr>
<tr>
<td>0x20000</td>
<td>Filesystem uses case folding, storing the filesystem-wide encoding in inodes.
</td></tr></tbody></table>
<p>Optional Features:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Flag
<p>Value
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>0x0001</td>
<td>Preallocate some number of blocks (see byte 205 in the superblock) to a directory when creating a new one.
</td></tr>
<tr>
<td>0x0002</td>
<td>Possibly unused, "imagic inodes"
</td></tr>
<tr>
<td>0x0004</td>
<td>Filesystem uses a Journal
</td></tr>
<tr>
<td>0x0008</td>
<td>Inodes have Extended Attributes.
</td></tr>
<tr>
<td>0x0010</td>
<td>Filesystem can resize itself for larger partitions.
</td></tr>
<tr>
<td>0x0020</td>
<td>Directories use hash index.
</td></tr>
<tr>
<td>0x0200</td>
<td>Backup the superblock in other block groups.
</td></tr>
<tr>
<td>0x0800</td>
<td>Inode numbers do not change during resize.
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Block_Group_Descriptor">Block Group Descriptor</span></h2>
<p>See <a href="Ext2#Block_Group_Descriptor_Table" title="Ext2">Ext2</a> wiki page for an introduction to block group descriptor tables.
</p><p>In Ext4, the block descriptors, in addition to their role in Ext2 as information of important data structures, have new features such as flex block groups and meta block groups.
</p><p>In a flex block group, multiple block groups are grouped together into a flex block group, as the group descriptor records the location of both bitmaps and the inode table. This allows for better data locality.
</p><p>In a meta block group, the filesystem is partitioned into multiple 'metablock' groups. This allows the metadata of the block group descriptors to be stored in one block. This strategy also increases the maximum filesystem size to 512PiB from 256TiB without metablock groups.
</p>
<h3><span class="mw-headline" id="Locating_the_Block_Group_Descriptors">Locating the Block Group Descriptors</span></h3>
<p>Locating the Block Group Descriptors is similar to Ext2, except for metablock and flex block group locations.
</p><p><br />
One can check for flex block groups by checking the required option 'Flex Block Group'. The structure for that is found in the superblock data structure.
</p><p>Flex Block Group info Structure, these fields are atomic integers:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
<p>in Bytes
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>0</td>
<td>7</td>
<td>8</td>
<td>Atomic 64 bit free clusters.
</td></tr>
<tr>
<td>8</td>
<td>11</td>
<td>4</td>
<td>Atomic free inodes.
</td></tr>
<tr>
<td>12</td>
<td>15</td>
<td>4</td>
<td>Atomic used directories.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Block_Group_Descriptor_2">Block Group Descriptor</span></h3>
<p>Block group descriptor Structure:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
<p>in Bytes
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>0</td>
<td>3</td>
<td>4</td>
<td>Low 32bits of block address of block usage bitmap.
</td></tr>
<tr>
<td>4</td>
<td>7</td>
<td>4</td>
<td>Low 32bits of block address of inode usage bitmap.
</td></tr>
<tr>
<td>8</td>
<td>11</td>
<td>4</td>
<td>Low 32bits of starting block address of inode table.
</td></tr>
<tr>
<td>12</td>
<td>13</td>
<td>2</td>
<td>Low 16bits of number of unallocated blocks in group.
</td></tr>
<tr>
<td>14</td>
<td>15</td>
<td>2</td>
<td>Low 16bits of number of unallocated inodes in group.
</td></tr>
<tr>
<td>16</td>
<td>17</td>
<td>2</td>
<td>Low 16bits of number of directories in group.
</td></tr>
<tr>
<td>18</td>
<td>19</td>
<td>2</td>
<td>Block group features present.
</td></tr>
<tr>
<td>20</td>
<td>23</td>
<td>4</td>
<td>Low 32-bits of block address of snapshot exclude bitmap.
</td></tr>
<tr>
<td>24</td>
<td>25</td>
<td>2</td>
<td>Low 16-bits of Checksum of the block usage bitmap.
</td></tr>
<tr>
<td>26</td>
<td>27</td>
<td>2</td>
<td>Low 16-bits of Checksum of the inode usage bitmap.
</td></tr>
<tr>
<td>28</td>
<td>29</td>
<td>2</td>
<td>Low 16-bits of amount of free inodes. This allows us to optimize inode searching.
</td></tr>
<tr>
<td>30</td>
<td>31</td>
<td>2</td>
<td>Checksum of the block group, <a href="https://wiki.osdev.org/index.php?title=CRC16&amp;action=edit&amp;redlink=1" class="new" title="CRC16 (page does not exist)">CRC16</a>(UUID+group+desc).
</td></tr></tbody></table>
<p>These fields are valid if the 64bit feature is set and the superblock's group desciptor size is greater than 32.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
<p>in Bytes
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>32</td>
<td>35</td>
<td>4</td>
<td>High 32-bits of block address of block usage bitmap.
</td></tr>
<tr>
<td>36</td>
<td>39</td>
<td>4</td>
<td>High 32-bits of block address of inode usage bitmap.
</td></tr>
<tr>
<td>40</td>
<td>43</td>
<td>4</td>
<td>High 32-bits of starting block address of inode table.
</td></tr>
<tr>
<td>44</td>
<td>45</td>
<td>2</td>
<td>High 16-bits of number of unallocated blocks in group.
</td></tr>
<tr>
<td>46</td>
<td>47</td>
<td>2</td>
<td>High 16-bits of number of unallocated inodes in group.
</td></tr>
<tr>
<td>48</td>
<td>49</td>
<td>2</td>
<td>High 16-bits of number of directories in group.
</td></tr>
<tr>
<td>50</td>
<td>51</td>
<td>2</td>
<td>High 16-bits of amount of free inodes.
</td></tr>
<tr>
<td>52</td>
<td>55</td>
<td>4</td>
<td>High 32-bits of block address of snapshot exclude bitmap.
</td></tr>
<tr>
<td>56</td>
<td>57</td>
<td>2</td>
<td>High 16-bits of checksum of the block usage bitmap.
</td></tr>
<tr>
<td>58</td>
<td>59</td>
<td>2</td>
<td>High 16-bits of checksum of the inode usage bitmap.
</td></tr>
<tr>
<td>60</td>
<td>63</td>
<td>4</td>
<td>Reserved as of Linux 5.9rc3.
</td></tr></tbody></table>
<p>block group flags:
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Flag
<p>Value
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>0x0001</td>
<td>Block group's inode bitmap/table is unused.
</td></tr>
<tr>
<td>0x0002</td>
<td>Block groups's block bitmap is unused.
</td></tr>
<tr>
<td>0x0004</td>
<td>Block groups's inode table is zeroed.
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Multiple_Mount_Protection">Multiple Mount Protection</span></h2>
<p>Multiple Mount Protection (MMP) protects filesystems being mounted multiple times leading to dangerous data races. This feature writes a sequence number into the block referenced in the MMP block superblock field.
</p><p>To check for MMP, check the required feature flag Multiple Mount Protection, and the magic field in the block referenced by the MMP block superblock field.
</p><p>In MMP, the driver checks the sequence number in the MMP block . If the sequence number is fs check running or any unknown code above maximum MMP value, the drive is not safe to mount, even if the timestamp is outdated.
</p><p>While running, the driver checks the MMP block sequence number at the interval specified in the MMP check superblock field. If this does not match the in-memory sequence number, a different host has mounted the filesystem, requiring the driver to remount as readonly. If it does match, the driver increments the number in memory and on disk. The driver also writes the hostname and mount path in the MMP block on open() success.
</p><p>The minimum interval to MMP check is 5 seconds and the maximum interval is 300.
</p>
<h3><span class="mw-headline" id="MMP_structure">MMP structure</span></h3>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
<p>in Bytes
</p>
</th>
<th>Description
</th></tr>
<tr>
<td>0</td>
<td>3</td>
<td>4</td>
<td>MMP signature (0x004d4d50)
</td></tr>
<tr>
<td>4</td>
<td>7</td>
<td>4</td>
<td>Sequence Number (<a href="Ext4#MMP_Sequences">see below</a>)
</td></tr>
<tr>
<td>8</td>
<td>15</td>
<td>8</td>
<td>Last updated time (does not affect algorithm)
</td></tr>
<tr>
<td>16</td>
<td>79</td>
<td>64</td>
<td>Hostname of system that open() the filesystem (does not affect algorithm)
</td></tr>
<tr>
<td>80</td>
<td>111</td>
<td>32</td>
<td>Mount path of system that open() the filesystem (does not affect algorithm)
</td></tr>
<tr>
<td>112</td>
<td>113</td>
<td>2</td>
<td>Interval to check MMP block
</td></tr>
<tr>
<td>114</td>
<td>115</td>
<td>2</td>
<td>Padding.
</td></tr>
<tr>
<td>116</td>
<td>1019</td>
<td>904</td>
<td>Padding.
</td></tr>
<tr>
<td>1020</td>
<td>1023</td>
<td>4</td>
<td>Checksum (crc32c(UUID+MMP Block number))
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Journaling">Journaling</span></h2>
<p>See <a href="Journaling" title="Journaling">Journaling</a> for a high level description of a filesystem journal.
</p><p>Ext4 uses the <a href="Jbd2" title="Jbd2">Jbd2</a> Journaling layer.
</p><p>Ext4 defines the journal inode as inode 8. The superblock contains the first 68 bytes of the journal. The journal is a hidden file in the filesystem, usually using an entire block group, but it is preferred to be in the middle of the volume.
</p><p>The optional feature filesystem journal protects against filesystem corruption if the system crashes. The filesystem journal writes important data to a small contigous sliver of disk. Once this is flushed to disk, the driver writes a record of the data to be written to the journal. Later, the driver can write the transactions to disk. If the system crashes during the second write, it can simply replay the journal to the last sync. If the write succeedes, the write's record is removed from the journal.
</p><p>The default journaling strategy is 'ordered', writing only filesystem metadata through journaling. If stronger guarantees are preferred, the filesystem can be use the 'journal' strategy, writing both metadata and data through the journal, slowing operation. The filesystem can also use the 'writeback' strategy, where data is not flushed to the disk before a metadata update.
</p><p>Ext4 may also use a seperate journal device, specified in the superblock's journal UUID. The separate journal device will have 1024 bytes of padding, then an ext4 superblock with a matching UUID. The journal follows on the next complete block.
</p>
<h3><span class="mw-headline" id="Journal_Superblock_Fields">Journal Superblock Fields</span></h3>
<p>Ext4 uses <a href="Jbd2" title="Jbd2">Jbd2</a> as the journal.
</p><p>All fields are big endian unless otherwise specified.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
</th>
<th>Description
</th></tr>
<tr>
<td>0</td>
<td>11</td>
<td>12</td>
<td>Journal header (<a href="Ext4#Journal_Header">see below</a>)
</td></tr>
<tr>
<td>12</td>
<td>15</td>
<td>4</td>
<td>Block size of the journal device.
</td></tr>
<tr>
<td>16</td>
<td>19</td>
<td>4</td>
<td>Total number of blocks in the journal device.
</td></tr>
<tr>
<td>20</td>
<td>23</td>
<td>4</td>
<td>First block of journal information.
</td></tr>
<tr>
<td>24</td>
<td>27</td>
<td>4</td>
<td>First journal transaction expected.
</td></tr>
<tr>
<td>28</td>
<td>31</td>
<td>4</td>
<td>First block of the journal.
</td></tr>
<tr>
<td>32</td>
<td>35</td>
<td>4</td>
<td>Errno, if the journal has an error.
</td></tr>
<tr>
<td>36</td>
<td>39</td>
<td>4</td>
<td>Required features present.
</td></tr>
<tr>
<td>40</td>
<td>43</td>
<td>4</td>
<td>Optional features present.
</td></tr>
<tr>
<td>44</td>
<td>47</td>
<td>4</td>
<td>Features that if not supported the journal must be mounted read-only. There are no read-only features as of Linux 5.9rc3.
</td></tr>
<tr>
<td>48</td>
<td>63</td>
<td>16</td>
<td>Journal UUID.
</td></tr>
<tr>
<td>64</td>
<td>67</td>
<td>4</td>
<td>Number of filesystems using this journal.
</td></tr>
<tr>
<td>68</td>
<td>71</td>
<td>4</td>
<td>Block number of the journal superblock copy.
</td></tr>
<tr>
<td>72</td>
<td>75</td>
<td>4</td>
<td>Maximum journal blocks per transaction. This is unused as of Linux 5.9rc3.
</td></tr>
<tr>
<td>76</td>
<td>79</td>
<td>4</td>
<td>Maximum data blocks per transaction. This is unused as of Linux 5.9rc3.
</td></tr>
<tr>
<td>80</td>
<td>80</td>
<td>1</td>
<td>Checksum algorithm.
</td></tr>
<tr>
<td>81</td>
<td>83</td>
<td>3</td>
<td>Padding.
</td></tr>
<tr>
<td>84</td>
<td>251</td>
<td>168</td>
<td>Padding.
</td></tr>
<tr>
<td>252</td>
<td>255</td>
<td>4</td>
<td>Checksum of the journal superblock.
</td></tr>
<tr>
<td>256</td>
<td>1023</td>
<td>768</td>
<td>UUID of filesystem
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Journal_Header">Journal Header</span></h3>
<p>All fields are big endian unless otherwise specified.
</p>
<table border="2" cellpadding="4" cellspacing="0" style="margin-top:1em; margin-bottom:1em; background:#f9f9f9; border:1px #aaa solid; border-collapse:collapse; &#123;&#123;&#123;1&#125;&#125;&#125;">
<tbody><tr>
<th>Starting
<p>Byte
</p>
</th>
<th>Ending
<p>Byte
</p>
</th>
<th>Size
</th>
<th>Description
</th></tr>
<tr>
<td>0</td>
<td>3</td>
<td>4</td>
<td>Magic signature (0xc03b3998)
</td></tr>
<tr>
<td>4</td>
<td>7</td>
<td>4</td>
<td>Block Type (<a href="Ext4#Journal_Block_Type">see below</a>)
</td></tr>
<tr>
<td>8</td>
<td>11</td>
<td>4</td>
<td>Journal transaction for this block.
</td></tr></tbody></table>
<p><br />
</p>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<h3><span class="mw-headline" id="External_Links">External Links</span></h3>
<ul><li><a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a> - detailed description of ext4 from the Linux kernel documentation.</li>
<li><a rel="nofollow" class="external text" href="https://github.com/torvalds/linux/blob/master/fs/ext4/ext4.h">Linux ext4 header</a> - This header contains useful definitions and declarations.</li></ul>
<!-- 
NewPP limit report
Cached time: 20250211125757
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.051 seconds
Real time usage: 0.052 seconds
Preprocessor visited node count: 429/1000000
Post‐expand include size: 6005/2097152 bytes
Template argument size: 2358/2097152 bytes
Highest expansion depth: 8/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    8.150      1 -total
 76.32%    6.220      1 Template:Filesystems
 67.36%    5.490      1 Template:SmallNavBox
 50.93%    4.151     20 Template:If
 34.36%    2.800     20 Template:Show1
 10.31%    0.840      2 Template:Stub
  5.69%    0.464     12 Template:Wikitable
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:3001-0!canonical and timestamp 20250211125757 and revision id 27720.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.osdev.org/index.php?title=Ext4&amp;oldid=27720">https://wiki.osdev.org/index.php?title=Ext4&amp;oldid=27720</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://wiki.osdev.org/index.php?title=Category:Pages_using_duplicate_arguments_in_template_calls&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using duplicate arguments in template calls (page does not exist)">Pages using duplicate arguments in template calls</a></li><li><a href="./Category:Stubs" title="Category:Stubs">Stubs</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Special:UserLogin&amp;returnto=Ext4" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li><li id="pt-darkmode" class="mw-list-item"><a href="Ext4#" class="ext-darkmode-link"><span>Dark mode</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="Ext4" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Talk:Ext4&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="Ext4"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Ext4&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Ext4&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.osdev.org/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search OSDev Wiki" aria-label="Search OSDev Wiki" autocapitalize="sentences" title="Search OSDev Wiki [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="index.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage" class="mw-list-item"><a href="index.html" title="Visit the main page [z]" accesskey="z"><span>Main Page</span></a></li><li id="n-portal" class="mw-list-item"><a href="http://forum.osdev.org/" rel="nofollow" title="About the project, what you can do, where to find things"><span>Forums</span></a></li><li id="n-FAQ" class="mw-list-item"><a href="./Category:FAQ"><span>FAQ</span></a></li><li id="n-OS-Projects" class="mw-list-item"><a href="Projects"><span>OS Projects</span></a></li><li id="n-randompage" class="mw-list-item"><a href="https://wiki.osdev.org/Special:Random" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-about" class="vector-menu mw-portlet mw-portlet-about vector-menu-portal portal" aria-labelledby="p-about-label" role="navigation"  >
	<h3
		id="p-about-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">About</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-This-site" class="mw-list-item"><a href="./OSDevWiki:About"><span>This site</span></a></li><li id="n-Joining" class="mw-list-item"><a href="./OSDevWiki:Joining"><span>Joining</span></a></li><li id="n-Editing-help" class="mw-list-item"><a href="./OSDevWiki:Editing"><span>Editing help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="./Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="./Special:WhatLinksHere/Ext4" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="./Special:RecentChangesLinked/Ext4" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="./Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Ext4&amp;oldid=27720" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Ext4&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-lang" class="vector-menu mw-portlet mw-portlet-lang vector-menu-portal portal" aria-labelledby="p-lang-label" role="navigation"  >
	<h3
		id="p-lang-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">In other languages</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li class="interlanguage-link interwiki-de mw-list-item"><a href="http://www.lowlevel.eu/wiki/Ext4" title="Ext4 – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target"><span>Deutsch</span></a></li></ul>
		
	</div>
</nav>

</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 2 April 2023, at 12:22.</li>
	<li id="footer-info-0">This page has been accessed 5,867 times.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="./OSDev_Wiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="./OSDev_Wiki:About">About OSDev Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="./OSDev_Wiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://wiki.osdev.org/index.php?title=Ext4&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.051","walltime":"0.052","ppvisitednodes":{"value":429,"limit":1000000},"postexpandincludesize":{"value":6005,"limit":2097152},"templateargumentsize":{"value":2358,"limit":2097152},"expansiondepth":{"value":8,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    8.150      1 -total"," 76.32%    6.220      1 Template:Filesystems"," 67.36%    5.490      1 Template:SmallNavBox"," 50.93%    4.151     20 Template:If"," 34.36%    2.800     20 Template:Show1"," 10.31%    0.840      2 Template:Stub","  5.69%    0.464     12 Template:Wikitable"]},"cachereport":{"timestamp":"20250211125757","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":162});});</script>
</body>
</html>