<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>NE - OSDev Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"2b1c8ab3a1bf571a5355d9a0","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"NE","wgTitle":"NE","wgCurRevisionId":29195,"wgRevisionId":29195,"wgArticleId":1957,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using duplicate arguments in template calls","Pages using deprecated source tags","Stubs","Executable Formats"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"NE","wgRelevantArticleId":1957,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],
"wgRestrictionMove":[],"wgMFDisplayWikibaseDescriptions":{"search":false,"nearby":false,"watchlist":false,"tagline":false},"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgVector2022PreviewPages":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgEditSubmitButtonLabelPublish":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.DarkMode.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","mmv.head","mmv.bootstrap.autostart","ext.DarkMode","ext.moderation.notify","ext.moderation.ve","ext.moderation.ajaxhook","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=ext.DarkMode.styles%7Cext.pygments%7Cext.visualEditor.desktopArticleTarget.noscript%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.osdev.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.7"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OSDev Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="OSDev Wiki Atom feed" href="https://wiki.osdev.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-NE rootpage-NE skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NE</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From OSDev Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="NE#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="NE#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><center>
<table style="border: 1px solid #cfcfbf; margin-top: 25px; margin-bottom: 25px; background-color: #f0f0ff; text-align: center;">
<tbody><tr>
<td>
<p><a href="./File:Stub.png" class="image" title="This article is a stub!"><img alt="This article is a stub!" src="images/f/fe/Stub.png" decoding="async" width="50" height="50" data-file-width="50" data-file-height="50" /></a>
This page or section is a <a href="./Category:Stubs" title="Category:Stubs">stub</a>. You can help the wiki by <i>accurately</i> <a rel="nofollow" class="external text" href="https://wiki.osdev.org/index.php?title=NE&amp;action=edit">contributing</a> to it.
</p>
</td>
<td>
</td></tr></tbody></table>
</center>
<table style="font-size:95%; line-height:1.5em; padding:0.25em; float:right; margin: 0 0 8px 15px; clear: right; border:1px solid #aaaaaa; background:#eee; text-align:center; width:200px; ;"><tbody><tr><th style="background:#ffce7b; padding:0.3em; font-size:1.1em;"><a href="Executable_Formats" title="Executable Formats">Executable Formats</a></th></tr><tr><th>Microsoft</th></tr><tr><td><div>
<p><b>16 bit:</b><br />
<a href="COM" title="COM">COM</a><br />
<a href="MZ" title="MZ">MZ</a><br />
<a class="mw-selflink selflink">NE</a><br />
<b>Mixed (16/32 bit):</b><br />
<a href="LE" title="LE">LE</a><br />
<b>32/64 bit:</b><br />
<a href="PE" title="PE">PE</a><br />
<a href="COFF" title="COFF">COFF</a><br />
</p>
</div></td></tr><tr><th>*nix</th></tr><tr><td><div>
<p><a href="A.out" title="A.out">a.out</a><br />
<a href="ELF" title="ELF">ELF</a><br />
</p>
</div></td></tr><tr><th>Apple</th></tr><tr><td><div>
<p><a href="Mach-O" title="Mach-O">Mach-O</a><br />
</p>
</div></td></tr></tbody></table>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="NE#NE"><span class="tocnumber">1</span> <span class="toctext">NE</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="NE#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="NE#Support"><span class="tocnumber">1.2</span> <span class="toctext">Support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="NE#Inside_the_NE_file"><span class="tocnumber">2</span> <span class="toctext">Inside the NE file</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="NE#Overview"><span class="tocnumber">2.1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="NE#DOS_Stub"><span class="tocnumber">2.1.1</span> <span class="toctext">DOS Stub</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="NE#NE_Header"><span class="tocnumber">2.1.2</span> <span class="toctext">NE Header</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="NE#See_Also"><span class="tocnumber">2.2</span> <span class="toctext">See Also</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="NE#NE_2"><span class="tocnumber">2.2.1</span> <span class="toctext">NE</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="NE#Similar_Formats"><span class="tocnumber">2.2.2</span> <span class="toctext">Similar Formats</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="NE">NE</span></h1>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The WIN-NE executable format, designed for Windows 3.x, was the "NE", or "New Executable" format. Again, a 16bit format, it alleviated the maximum size restrictions that the <a href="MZ" title="MZ">MZ</a> format had.
</p>
<h2><span class="mw-headline" id="Support">Support</span></h2>
<p>Operating Systems that use it: Windows 1.01 through 3.xx.
The format <b>can</b> be run on later 32 bit windows systems (in a VDM), but is not the native format.<br />
Because of 64 bit lack of v8086, support is discarded on 64 bit windows.
</p>
<h1><span class="mw-headline" id="Inside_the_NE_file">Inside the NE file</span></h1>
<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<h3><span class="mw-headline" id="DOS_Stub">DOS Stub</span></h3>
<p>The DOS stub is a valid <a href="MZ" title="MZ">MZ</a> exe. This enables the developer to package both an MS-DOS and Win16 version of the program, but normally just prints "This Program requires Microsoft Windows". The e_lfanew field (offset 0x3C) points to the NE header.
</p>
<h3><span class="mw-headline" id="NE_Header">NE Header</span></h3>
<p>The NE header is a relatively large structure with multiple characteristics. Because of the age of the format some items are unclear in meaning. The structure is as below (some comments may be wrong. If so please change):
</p>
<div class="mw-highlight mw-highlight-lang-cpp mw-content-ltr" dir="ltr"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">NE_header</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">sig</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w">                 </span><span class="c1">// {&#39;N&#39;, &#39;E&#39;}</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">MajLinkerVersion</span><span class="p">;</span><span class="w">    </span><span class="c1">//The major linker version</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">MinLinkerVersion</span><span class="p">;</span><span class="w">    </span><span class="c1">//The minor linker version</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">EntryTableOffset</span><span class="p">;</span><span class="w">   </span><span class="c1">//Offset of entry table, see below</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">EntryTableLength</span><span class="p">;</span><span class="w">   </span><span class="c1">//Length of entry table in bytes</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FileLoadCRC</span><span class="p">;</span><span class="w">        </span><span class="c1">//32-bit CRC of entire contents of file</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">FlagWord</span><span class="p">;</span><span class="w">            </span><span class="c1">// Uses the FlagWord enum</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">AutoDataSegIndex</span><span class="p">;</span><span class="w">   </span><span class="c1">//The automatic data segment index</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">InitHeapSize</span><span class="p">;</span><span class="w">       </span><span class="c1">//The initial local heap size</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">InitStackSize</span><span class="p">;</span><span class="w">      </span><span class="c1">//The initial stack size</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">EntryPoint</span><span class="p">;</span><span class="w">         </span><span class="c1">//CS:IP entry point, CS is index into segment table</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">InitStack</span><span class="p">;</span><span class="w">          </span><span class="c1">//SS:SP initial stack pointer, SS is index into segment table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">SegCount</span><span class="p">;</span><span class="w">           </span><span class="c1">//Number of segments in segment table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ModRefs</span><span class="p">;</span><span class="w">            </span><span class="c1">//Number of module references (DLLs)</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">NoResNamesTabSiz</span><span class="p">;</span><span class="w">   </span><span class="c1">//Size of non-resident names table, in bytes (Please clarify non-resident names table)</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">SegTableOffset</span><span class="p">;</span><span class="w">     </span><span class="c1">//Offset of Segment table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ResTableOffset</span><span class="p">;</span><span class="w">     </span><span class="c1">//Offset of resources table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ResidNamTable</span><span class="p">;</span><span class="w">      </span><span class="c1">//Offset of resident names table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ModRefTable</span><span class="p">;</span><span class="w">        </span><span class="c1">//Offset of module reference table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ImportNameTable</span><span class="p">;</span><span class="w">    </span><span class="c1">//Offset of imported names table (array of counted strings, terminated with string of length 00h)</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">OffStartNonResTab</span><span class="p">;</span><span class="w">  </span><span class="c1">//Offset from start of file to non-resident names table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">MovEntryCount</span><span class="p">;</span><span class="w">      </span><span class="c1">//Count of moveable entry point listed in entry table</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">FileAlnSzShftCnt</span><span class="p">;</span><span class="w">   </span><span class="c1">//File alignment size shift count (0=9(default 512 byte pages))</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">nResTabEntries</span><span class="p">;</span><span class="w">     </span><span class="c1">//Number of resource table entries</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">targOS</span><span class="p">;</span><span class="w">              </span><span class="c1">//Target OS</span>

<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// The rest of these are not defined in the Windows 3.0 standard and</span>
<span class="w">    </span><span class="c1">// appear to be specific to OS/2.</span>

<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">OS2EXEFlags</span><span class="p">;</span><span class="w">         </span><span class="c1">//Other OS/2 flags</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">retThunkOffset</span><span class="p">;</span><span class="w">     </span><span class="c1">//Offset to return thunks or start of gangload area - what is gangload?</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">segrefthunksoff</span><span class="p">;</span><span class="w">    </span><span class="c1">//Offset to segment reference thunks or size of gangload area</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">mincodeswap</span><span class="p">;</span><span class="w">        </span><span class="c1">//Minimum code swap area size</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">expctwinver</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w">      </span><span class="c1">//Expected windows version (minor first)</span>
<span class="p">};</span><span class="w"></span>

<span class="c1">//</span>
<span class="c1">// In 16-bit DOS/Windows terminology, DGROUP is a segment class that referring</span>
<span class="c1">// to segments that are used for data.</span>
<span class="c1">//</span>
<span class="c1">// Win16 used segmentation to permit a DLL or program to have multiple</span>
<span class="c1">// instances along with an instance handle and manage multiple data</span>
<span class="c1">// segments. This allowed one NOTEPAD.EXE code segment to execute</span>
<span class="c1">// multiple instances of the notepad application.</span>
<span class="c1">//</span>
<span class="k">enum</span><span class="w"> </span><span class="nc">FlagWord</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">NOAUTODATA</span><span class="p">,</span><span class="w">     </span><span class="c1">//</span>
<span class="w">    </span><span class="n">SINGLEDATA</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">MULTIPLEDATA</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">LINKERROR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x2000</span><span class="p">,</span><span class="w"> </span><span class="c1">// Linker error, module cannot lode</span>
<span class="w">    </span><span class="n">LIBMODULE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x8000</span><span class="w"></span>
<span class="w">    </span><span class="c1">// The file is a DLL/Library. NE_header.InitStack</span>
<span class="w">    </span><span class="c1">// is therefore invalid (DLLs are libraries) so they</span>
<span class="w">    </span><span class="c1">// do not get their own stacks. CS:IP points to </span>
<span class="w">    </span><span class="c1">// the load procedure.</span>
<span class="p">};</span><span class="w"></span>

<span class="c1">// The type is a 3-bit integer or&#39;ed together with the other flags.</span>
<span class="cp">#define SEGFLAGS_HAS_RELOCS 0x0100</span>
<span class="cp">#define SEGFLAGS_DISCARD    0xF000</span>
<span class="cp">#define SEGFLAGS_TYPE_CODE  0</span>
<span class="cp">#define SEGFLAGS_TYPE_DATA  1</span>

<span class="c1">// Segment table entry</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w">    </span><span class="n">SectorBase</span><span class="p">;</span><span class="w"> </span><span class="c1">// See NE_header.FileAlnSzShftCnt</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w">    </span><span class="n">SegBytes</span><span class="p">;</span><span class="w">   </span><span class="c1">// Segment bytes located in the file</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w">    </span><span class="n">SegFlags</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w">    </span><span class="n">MinAlloc</span><span class="p">;</span><span class="w">   </span><span class="c1">// Minimum number of bytes to allocate.</span>
<span class="p">}</span><span class="n">NE_SegEnt</span><span class="p">;</span><span class="w"></span>

<span class="cp">#define GLOBINIT 1&lt;&lt;2     </span><span class="c1">//global initialization</span>
<span class="cp">#define PMODEONLY 1&lt;&lt;3    </span><span class="c1">//Protected mode only</span>
<span class="cp">#define INSTRUC86 1&lt;&lt;4    </span><span class="c1">//8086 instructions</span>
<span class="cp">#define INSTRU286 1&lt;&lt;5    </span><span class="c1">//80286 instructions</span>
<span class="cp">#define INSTRU386 1&lt;&lt;6    </span><span class="c1">//80386 instructions</span>
<span class="cp">#define INSTRUx87 1&lt;&lt;7    </span><span class="c1">//80x87 (FPU) instructions</span>

<span class="c1">//Application flags</span>
<span class="c1">//Application type</span>
<span class="k">enum</span><span class="w"> </span><span class="nc">apptype</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">none</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">fullscreeen</span><span class="p">,</span><span class="w">    </span><span class="c1">//fullscreen (not aware of Windows/P.M. API)</span>
<span class="w">    </span><span class="n">winpmcompat</span><span class="p">,</span><span class="w">    </span><span class="c1">//compatible with Windows/P.M. API</span>
<span class="w">    </span><span class="n">winpmuses</span><span class="w">       </span><span class="c1">//uses Windows/P.M. API</span>
<span class="p">};</span><span class="w"></span>

<span class="c1">// #define OS2APP 1&lt;&lt;3    //OS/2 family application</span>
<span class="c1">// //bit 4 reserved?</span>
<span class="c1">// #define IMAGEERROR 1&lt;&lt;5    //errors in image/executable</span>
<span class="c1">// #define NONCONFORM 1&lt;&lt;6    //non-conforming program?</span>
<span class="c1">// #define DLL        1&lt;&lt;7</span>

<span class="c1">//Target Operating System</span>
<span class="k">enum</span><span class="w"> </span><span class="nc">targetos</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">unknown</span><span class="p">,</span><span class="w">    </span><span class="c1">//Obvious&#160;;)</span>
<span class="w">    </span><span class="n">os2</span><span class="p">,</span><span class="w">        </span><span class="c1">//OS/2 (as if you hadn&#39;t worked that out!)</span>
<span class="w">    </span><span class="n">win</span><span class="p">,</span><span class="w">        </span><span class="c1">//Windows (Win16)</span>
<span class="w">    </span><span class="n">dos4</span><span class="p">,</span><span class="w">       </span><span class="c1">//European DOS  4.x</span>
<span class="w">    </span><span class="n">win386</span><span class="p">,</span><span class="w">     </span><span class="c1">//Windows for the 80386 (Win32s). 32 bit code.</span>
<span class="w">    </span><span class="n">BOSS</span><span class="w">        </span><span class="c1">//The boss, a.k.a Borland Operating System Services</span>
<span class="p">};</span><span class="w"></span>
<span class="c1">//Other OS/2 flags</span>
<span class="cp">#define LFN 1        </span><span class="c1">//OS/2 Long File Names (finally, no more 8.3 conversion&#160;:) )</span>
<span class="cp">#define PMODE 1&lt;&lt;1   </span><span class="c1">//OS/2 2.x Protected Mode executable</span>
<span class="cp">#define PFONT 1&lt;&lt;2   </span><span class="c1">//OS/2 2.x Proportional Fonts</span>
<span class="cp">#define GANGL 1&lt;&lt;3   </span><span class="c1">//OS/2 Gangload area</span>
</pre></div><p>If the module is a DLL, the CS:IP in the header is instead the load procedure of the DLL and SS:SP is unused (since libraries do not get their own stacks). It takes the module handle in AX, which is an opaque data type that represents an EXE or a DLL when loaded in memory. On return it outputs a AX!=0 for SUCCESS and AX==0 for failure, which is unusual but very important.
</p><h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<h3><span class="mw-headline" id="NE_2">NE</span></h3>
<ul><li><a rel="nofollow" class="external text" href="http://benoit.papillault.free.fr/c/disc2/exefmt.txt">Executable-File Header Format</a></li>
<li><a rel="nofollow" class="external text" href="http://www.fileformat.info/format/exe/corion-ne.htm">fileformat.info</a></li></ul>
<h3><span class="mw-headline" id="Similar_Formats">Similar Formats</span></h3>
<ul><li><a href="MZ" title="MZ">MZ</a></li>
<li><a href="PE" title="PE">PE</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20250211122723
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.035 seconds
Real time usage: 0.170 seconds
Preprocessor visited node count: 347/1000000
Post‐expand include size: 2088/2097152 bytes
Template argument size: 922/2097152 bytes
Highest expansion depth: 8/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 14879/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    7.076      1 -total
 87.97%    6.225      1 Template:File_formats
 78.87%    5.581      1 Template:SmallNavBox
 59.62%    4.219     20 Template:If
 40.13%    2.840     20 Template:Show1
 11.14%    0.788      1 Template:Stub
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1957-0!canonical and timestamp 20250211122722 and revision id 29195.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.osdev.org/index.php?title=NE&amp;oldid=29195">https://wiki.osdev.org/index.php?title=NE&amp;oldid=29195</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://wiki.osdev.org/index.php?title=Category:Pages_using_duplicate_arguments_in_template_calls&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using duplicate arguments in template calls (page does not exist)">Pages using duplicate arguments in template calls</a></li><li><a href="https://wiki.osdev.org/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li><li><a href="./Category:Stubs" title="Category:Stubs">Stubs</a></li><li><a href="./Category:Executable_Formats" title="Category:Executable Formats">Executable Formats</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Special:UserLogin&amp;returnto=NE" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li><li id="pt-darkmode" class="mw-list-item"><a href="NE#" class="ext-darkmode-link"><span>Dark mode</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="NE" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="mw-list-item"><a href="./Talk:NE" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="NE"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=NE&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=NE&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.osdev.org/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search OSDev Wiki" aria-label="Search OSDev Wiki" autocapitalize="sentences" title="Search OSDev Wiki [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="index.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage" class="mw-list-item"><a href="index.html" title="Visit the main page [z]" accesskey="z"><span>Main Page</span></a></li><li id="n-portal" class="mw-list-item"><a href="http://forum.osdev.org/" rel="nofollow" title="About the project, what you can do, where to find things"><span>Forums</span></a></li><li id="n-FAQ" class="mw-list-item"><a href="./Category:FAQ"><span>FAQ</span></a></li><li id="n-OS-Projects" class="mw-list-item"><a href="Projects"><span>OS Projects</span></a></li><li id="n-randompage" class="mw-list-item"><a href="https://wiki.osdev.org/Special:Random" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-about" class="vector-menu mw-portlet mw-portlet-about vector-menu-portal portal" aria-labelledby="p-about-label" role="navigation"  >
	<h3
		id="p-about-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">About</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-This-site" class="mw-list-item"><a href="./OSDevWiki:About"><span>This site</span></a></li><li id="n-Joining" class="mw-list-item"><a href="./OSDevWiki:Joining"><span>Joining</span></a></li><li id="n-Editing-help" class="mw-list-item"><a href="./OSDevWiki:Editing"><span>Editing help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="./Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="./Special:WhatLinksHere/NE" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="./Special:RecentChangesLinked/NE" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="./Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=NE&amp;oldid=29195" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=NE&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 22 July 2024, at 07:10.</li>
	<li id="footer-info-0">This page has been accessed 6,837 times.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="./OSDev_Wiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="./OSDev_Wiki:About">About OSDev Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="./OSDev_Wiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://wiki.osdev.org/index.php?title=NE&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.035","walltime":"0.170","ppvisitednodes":{"value":347,"limit":1000000},"postexpandincludesize":{"value":2088,"limit":2097152},"templateargumentsize":{"value":922,"limit":2097152},"expansiondepth":{"value":8,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":14879,"limit":5000000},"timingprofile":["100.00%    7.076      1 -total"," 87.97%    6.225      1 Template:File_formats"," 78.87%    5.581      1 Template:SmallNavBox"," 59.62%    4.219     20 Template:If"," 40.13%    2.840     20 Template:Show1"," 11.14%    0.788      1 Template:Stub"]},"cachereport":{"timestamp":"20250211122723","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":281});});</script>
</body>
</html>