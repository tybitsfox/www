<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>UDI Environment - OSDev Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"4597b6052b0a3964f3240e37","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"UDI_Environment","wgTitle":"UDI Environment","wgCurRevisionId":23112,"wgRevisionId":23112,"wgArticleId":4255,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using deprecated source tags","Uniform Driver Interface"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"UDI_Environment","wgRelevantArticleId":4255,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],
"wgMFDisplayWikibaseDescriptions":{"search":false,"nearby":false,"watchlist":false,"tagline":false},"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgVector2022PreviewPages":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgEditSubmitButtonLabelPublish":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.DarkMode.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.DarkMode","ext.moderation.notify","ext.moderation.ve","ext.moderation.ajaxhook","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=ext.DarkMode.styles%7Cext.pygments%7Cext.visualEditor.desktopArticleTarget.noscript%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://wiki.osdev.org/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://wiki.osdev.org/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.7"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OSDev Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="OSDev Wiki Atom feed" href="https://wiki.osdev.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-UDI_Environment rootpage-UDI_Environment skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">UDI Environment</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From OSDev Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="UDI_Environment#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="UDI_Environment#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="UDI_Environment#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="UDI_Environment#Development"><span class="tocnumber">2</span> <span class="toctext">Development</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="UDI_Environment#Interfaces"><span class="tocnumber">3</span> <span class="toctext">Interfaces</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="UDI_Environment#Fundamental_Types"><span class="tocnumber">3.1</span> <span class="toctext">Fundamental Types</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="UDI_Environment#Specific-length_Types"><span class="tocnumber">3.1.1</span> <span class="toctext">Specific-length Types</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="UDI_Environment#Abstract_Types"><span class="tocnumber">3.1.2</span> <span class="toctext">Abstract Types</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="UDI_Environment#Size_Type"><span class="tocnumber">3.1.2.1</span> <span class="toctext">Size Type</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="UDI_Environment#Index_Type"><span class="tocnumber">3.1.2.2</span> <span class="toctext">Index Type</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9"><a href="UDI_Environment#Opaque_Types"><span class="tocnumber">3.1.3</span> <span class="toctext">Opaque Types</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="UDI_Environment#Self-contained_Opaque_Types"><span class="tocnumber">3.1.4</span> <span class="toctext">Self-contained Opaque Types</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="UDI_Environment#Semi-Opaque_Types"><span class="tocnumber">3.2</span> <span class="toctext">Semi-Opaque Types</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="UDI_Environment#Control_Blocks"><span class="tocnumber">3.2.1</span> <span class="toctext">Control Blocks</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="UDI_Environment#Buffers"><span class="tocnumber">3.2.2</span> <span class="toctext">Buffers</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="UDI_Environment#Structures_with_Fixed-binary_representation"><span class="tocnumber">3.3</span> <span class="toctext">Structures with Fixed-binary representation</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="UDI_Environment#Commonly_Used_Derived_Types"><span class="tocnumber">3.4</span> <span class="toctext">Commonly Used Derived Types</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="UDI_Environment#UDI_Status"><span class="tocnumber">3.4.1</span> <span class="toctext">UDI Status</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The UDI Environment is described, by the definition in the real documentation, as a description and its corresponding implementation of all interfaces provided to UDI-compliant drivers which include the system services, implicit scheduling and synchronization, and inter-module communication infrastructure. The environment is the means by which the Uniform Driver Interface provides a software and hardware independent nature to its drivers. The UDI specs provide a complete environment for the development of compliant driver.
</p><p>The drivers use the services of the UDI environment by <b>service calls</b>. These are implemented as functions which are <b>exported to all UDI driver instances</b>. This makes them common to all UDI drivers. The environment must provide two types of service calls - asynchronous and synchronous.
</p>
<h2><span class="mw-headline" id="Development">Development</span></h2>
<p>UDI environments are generally tied to the OS and are more platform-dependent. They can be developed by looking into the UDI specifications. The UDI environment must implement some <b>core services</b> and <b>utility functions</b>. For source code compatibility, the interface must be compacted into two header files - <b>udi.h</b> and <b>udi_physio.h</b> (see Physical I/O Specifications).
</p>
<h2><span class="mw-headline" id="Interfaces">Interfaces</span></h2>
<h3><span class="mw-headline" id="Fundamental_Types">Fundamental Types</span></h3>
<p>The UDI environment provides utility functions &amp; <b>types</b>.
</p><p>The fundamental types given by UDI are -
</p>
<h4><span class="mw-headline" id="Specific-length_Types">Specific-length Types</span></h4>
<p>The Uniform Driver Interface declares specific-length types for use in arithmetic and logical operations. They have fixed lengths that don't change between different platforms.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w">	</span><span class="kt">uint8_t</span><span class="w">		</span><span class="n">udi_ubit8_t</span><span class="p">;</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w">	</span><span class="n">udi_ubit16_t</span><span class="p">;</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w">	</span><span class="n">udi_ubit32_t</span><span class="p">;</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int8_t</span><span class="w">		</span><span class="n">udi_sbit8_t</span><span class="p">;</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int16_t</span><span class="w">		</span><span class="n">udi_sbit16_t</span><span class="p">;</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int32_t</span><span class="w">		</span><span class="n">udi_sbit32_t</span><span class="p">;</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">bool</span><span class="w">		</span><span class="n">udi_bool_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p>The driver must use these types while passing arguments and returning variables. They can also use the fast ints instead of the fixed width ones.
</p>
<h4><span class="mw-headline" id="Abstract_Types">Abstract Types</span></h4>
<p>These are <b>integral types</b> whose size is defined by the implementation. By keeping the size of these types abstract, the Uniform Driver Interface is able to maintain source portability between different platforms and also allow drivers to adapt to newer architectures. Specifically, for binary portability, their size is defined by the corresponding ABI specification.
</p>
<h5><span class="mw-headline" id="Size_Type">Size Type</span></h5>
<p>This type is used for referring to the size to any <b>buffer</b> or <b>object</b>. It can also store offsets in buffers and memory itself. It is flexible and can <b>represent different ranges in different domains</b> which means that its size can change between different domains. That is why it is a <b>non-transferable</b> variable across domain boundaries.
</p><p>It must have at least 16 bits in size, for following guidelines.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="o">&lt;</span><span class="n">INTEGRAL</span><span class="w"> </span><span class="n">TYPE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">udi_size_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<h5><span class="mw-headline" id="Index_Type">Index Type</span></h5>
<p>This is <b>used by the driver</b> to access indices of object stored in an array. It holds values in the range 0 to 255 (is zero-based) for the driver. As indices to environment object are global for the driver, it is transferable across domain boundaries.
</p><p>I think is type need not have a 1 byte size as the UDI environment <b>may encrypt</b> the index to hide it from the driver (information presented in this statement is not guaranteed).
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="o">&lt;</span><span class="n">INTEGRAL</span><span class="w"> </span><span class="n">TYPE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">udi_index_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p><b>i) Control Block Index</b>
</p><p>The index type can be used to refer to a control that was registered through <b>udi_cb_init_t</b> structure. It can be used for allocating control blocks and getting hold of scratch space sizes and configuring other properties of UDI control blocks.
</p><p>Note that zero is a invalid value currently, and is reserved for future usage.
</p><p><b>ii) Metalanguage Index</b>
</p><p>The index type can also be used for holding metalanguage indices. It can be used for figuring out the metalanguages used by a driver. These indexes as associated with <b>meta</b> declarations in Static Driver Properties. These are of importance while the UDI Build System compiles and bundles the drivers.
</p><p><b>iii) Ops Index</b>
</p><p>It can also be used to point to a channel operations vector by using the <b>udi_ops_init_t</b> function. It can be used to anchor channels and set default channel types by the driver.
</p><p>Zero is a reserved value here also, and is booked for future usage.
</p><p><b>iv) Region Index</b>
</p><p>A region-index is used to refer to a driver-defined region and is used for manipulating attributes of regions created by or on behalf of the driver instance.
</p><p>The zero value refers to the <b>primary region</b> of the driver while other values refer to <b>secondary regions</b>.
</p>
<h4><span class="mw-headline" id="Opaque_Types">Opaque Types</span></h4>
<p>These types are not for direct access by drivers. They are essentially handles (like in Windows NT, just relating man) which are passed to service calls to refer to actual objects. They are used to protect system data and prevent malicious code from corrupt valuable data. The size of these handles are specified in the ABI bindings, so these handles have the size of long on IA32/64 architectures.
</p><p>A rather simple implementation will use just the address of the object in the handle. But for better security, determined projects could use a value that is the result of the operation between the ID given to a UDI driver and a index into a handle table. After undoing the effect of that operation, the environment will get the address of the object by accessing a handle table.
</p><p>Each <b>opaque handle type</b> will have a corresponding <b>null</b> value. It is used for referring to null objects that don't really exist. This value need not be zero and thus the <b>UDI_HANDLE_IS_NULL macro</b> is provided for testing whether the handle carries a null value. null handles are not to be passed to service calls and will be treated as invalid operands. Also, the driver should never expect to receive a null value from a returning service call.
</p><p>These handles may or may not be transferable depending on the object being referred to.
</p><p><b>i) Channels &amp; udi_channel_t</b>
</p>
<p><b>File</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;udi.h&quot;</span><span class="cp"></span>
</pre></div>
<p><b>Declaration</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="o">&lt;</span><span class="n">HANDLE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">udi_channel_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p><b>NullHandle</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#define UDI_NULL_CHANNEL &lt;NULL HANDLE VALUE&gt;</span>
</pre></div>
<p><b>udi_channel_t</b> is used to refer to UDI Channels (described on another page) and are <b>transferrable opaque handles</b>. They are used for bi-directional communication between different drivers and with the environment.
</p><p><b>ii) Buffer Path Routing Handle &amp; udi_buf_path_t</b>
</p>
<p><b>File</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;udi.h&quot;</span><span class="cp"></span>
</pre></div>
<p><b>Declaration</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="o">&lt;</span><span class="n">HANDLE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">udi_buf_path_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p><b>NullHandle</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#define UDI_NULL_BUF_PATH &lt;NULL HANDLE VALUE&gt;</span>
</pre></div>
<p>All UDI buffers are associated with buffer path handles. They indicate destinations for incoming data and are explicitly allocated by the driver. They are <b>not transferable between regions</b>.
</p><p><b>iii) Origin Handles &amp; udi_origin_handle_t</b>
</p>
<p><b>File</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;udi.h&quot;</span><span class="cp"></span>
</pre></div>
<p><b>Declaration</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="o">&lt;</span><span class="n">HANDLE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">udi_origin_handle_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p><b>NullHandle</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#define UDI_NULL_ORIGIN &lt;NULL HANDLE VALUE&gt;</span>
</pre></div>
<p>Environments should use <b>origin handles</b> to hold information about origination of user requests. UDI drivers are responsible for copying the origin handle from received control blocks into control blocks generated on behalf of that control block. This is used by the environment to track quota usage, resource distribution, etc. in the system.
</p><p>The UDI_NULL_ORIGIN may be set for the origin of any control block instead of copying it from another source, but drivers can't allocate or delete origin handles on their own. They are <b>transferable opaque handles</b>.
</p>
<h4><span class="mw-headline" id="Self-contained_Opaque_Types">Self-contained Opaque Types</span></h4>
<p>These are special opaque-like types that can be interpreted by the environment implementation only, but they are stored locally and have value semantics. Normal opaque handles have reference semantics but here the case is different. Assignment will make a copy of the whole object.
</p><p>These are <b>not transferable between regions</b>.
</p><p><b>i) Timestamp Type</b> - This is used to refer to a point in time and is relative to a starting point that is implementation defined. The driver cannot make use of it on its own and it is for determining relative differences in time. The implementation should use the <b>kernel-timestamp</b> maintained by the kernel for scheduling use. It should be able to do so effectively by mapping the time variable in user-space itself.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="o">&lt;</span><span class="n">OPAQUE</span><span class="w"> </span><span class="n">TYPE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">udi_timestamp_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<h3><span class="mw-headline" id="Semi-Opaque_Types">Semi-Opaque Types</span></h3>
<p>UDI also levers the advantages of object that have a driver-visible part and implementation-dependent part too. The visible part is a C structure and is kept with a pointer by the driver.
</p><p>These are allocated by the environment because the driver ain't knowing what the size of the object is.
</p>
<h4><span class="mw-headline" id="Control_Blocks">Control Blocks</span></h4>
<p>The Uniform Driver Interface provides a _control block_ type to provide a context for asynchronous service calls and channel operations. These are semi-opaque object and are <b>transferable</b>.
</p><p>They will be discussed on another page.
</p>
<h4><span class="mw-headline" id="Buffers">Buffers</span></h4>
<p>UDI also provides a buffer type for storing object and protocol data in dynamic memory on the fly. They need to be logically continuous and any machine or OS differences need to hidden. This should not be hard to implement - all you need is a large &amp; small memory allocator.
</p><p>We'll have another page on UDI buffer 'management'.
</p>
<h3><span class="mw-headline" id="Structures_with_Fixed-binary_representation">Structures with Fixed-binary representation</span></h3>
<p>Driver usually don't need to be concern with the binary representation of bits or endian-ness of the number while operating in software-defined data structures. But hardware-defined structures have a <b>fixed endian-ness</b> which causes architectural dependencies in binary files if not taken care of. That is why UDI also provides functions in the environment for the drivers to store and manipulate hardware-defined types with specified binary representation. Drivers have to follow certain rules while declaring C hardware-defined structs.
</p>
<h3><span class="mw-headline" id="Commonly_Used_Derived_Types">Commonly Used Derived Types</span></h3>
<p>These types are not fundamental and are derived from other UDI types, but are not implementation dependent.
</p>
<h4><span class="mw-headline" id="UDI_Status">UDI Status</span></h4>
<p>This type is used for providing a uniform method of reporting status or error within the I/O system.
</p>
<p><b>File</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;udi.h&gt;</span><span class="cp"></span>
</pre></div>
<p><b>Declaration</b> - </p><div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="n">udi_ubit32_t</span><span class="w"> </span><span class="n">udi_status_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p><b>MaskValues &amp; Flags</b> -
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#define UDI_STATUS_CODE_MASK               0x0000FFFF</span>
<span class="cp">#define UDI_STAT_META_SPECIFIC             0x00008000</span>
<span class="cp">#define UDI_SPECIFIC_STATUS_MASK           0x00007FFF</span>
<span class="cp">#define UDI_CORRELATE_OFFSET               0x16</span>
<span class="cp">#define UDI_CORRELATE_MASK                 0xFFFF0000</span>
</pre></div>
<p><b>StatusValues</b> -
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr" dir="ltr"><pre><span></span><span class="cp">#define UDI_OK                             0  </span><span class="c1">// request was successfully completed without any errors</span>
<span class="cp">#define UDI_STAT_NOT_SUPPORTED             1  </span><span class="c1">// this operation is not supported or given parameters are not handled by the environment</span>
<span class="cp">#define UDI_STAT_NOT_UNDERSTOOD            2  </span><span class="c1">// parameters given exceed a range or don&#39;t make sense in this context, used in channel operations</span>
<span class="cp">#define UDI_STAT_INVALID_STATE             3  </span><span class="c1">// request understand and supported, but parameters don&#39;t make sense here; for channel operations</span>
<span class="cp">#define UDI_STAT_MISTAKEN_IDENTITY         4  </span><span class="c1">// request is implemented and understood, but not applicable for the device or object concerned</span>
<span class="cp">#define UDI_STAT_ABORTED                   5  </span><span class="c1">// operation was successfully aborted on requesting cancellation</span>
<span class="cp">#define UDI_STAT_TIMEOUT                   6  </span><span class="c1">// operation timeout passed due to which it was aborted</span>
<span class="cp">#define UDI_STAT_BUSY                      7  </span><span class="c1">// the device or object concerned is being used by another process or is busy</span>
<span class="cp">#define UDI_STAT_RESOURCE_UNAVAIL          8  </span><span class="c1">// the system cannot provide anymore resources for the given request</span>
<span class="cp">#define UDI_STAT_HW_PROBLEM                9  </span><span class="c1">// system has detected a hardware problem due to which the request could not execute</span>
<span class="cp">#define UDI_STAT_NOT_RESPONDING            10 </span><span class="c1">// device is not present or not responding</span>
<span class="cp">#define UDI_STAT_DATA_UNDERRUN             11 </span><span class="c1">// data transfer from device is less than required or expected</span>
<span class="cp">#define UDI_STAT_DATA_OVERRUN              12 </span><span class="c1">// data transfer from device is more than required or expected</span>
<span class="cp">#define UDI_STAT_DATA_ERROR                13 </span><span class="c1">// data transfer error occurred from device</span>
<span class="cp">#define UDI_STAT_PARENT_DRV_ERROR          14 </span><span class="c1">// parent device has faced an error due to this request failing</span>
<span class="cp">#define UDI_STAT_CANNOT_BIND               15 </span><span class="c1">// driver tried to bind with its parent, but was denied; also used by the parent to indicate denying</span>
<span class="cp">#define UDI_STAT_CANNOT_BIND_EXCL          16 </span><span class="c1">// driver cannot bind exclusively to the parent as another child is already bound</span>
<span class="cp">#define UDI_STAT_TOO_MANY_PARENTS          17 </span><span class="c1">// this device cannot bind with the parent as the parent already has maximum supported children</span>
<span class="cp">#define UDI_STAT_INVALID_PARENT            18 </span><span class="c1">// the parent-binding request cannot execute as meta-language of parent is not supported by driver</span>
<span class="cp">#define UDI_STAT_TERMINATED                19 </span><span class="c1">// request ended abruptly due to termination of the region without notice</span>
<span class="cp">#define UDI_STAT_ATTR_MISMATCH             20 </span><span class="c1">// the driver has been given a custom attribute that it cannot apply on its device</span>
</pre></div>
<p>UDI Status is a 32-bit type composed of two separate 16-bit values as seen in the two different sets of macros given. They are '<b>status code'</b> field and a '<b>correlation field'</b>.
</p><p>When a error must be signaled then the driver must put an proper status code and assign it to the <b>udi_status_t</b> variable. The correlation field must be 0 for new errors. It is to be set for errors that are derived from other errors or which have meta-language specific semantics.
</p><p>The STATUS_CODE_MASK is used for filtering out the correlation field and getting out the status field. The UDI_STAT_META_SPECIFIC macro is used for telling that the <b>status code used is not of the common status codes given and is meta-language specific</b>. Those are not defined here, not.
</p>
<!-- 
NewPP limit report
Cached time: 20250211170024
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.069 seconds
Real time usage: 2.012 seconds
Preprocessor visited node count: 125/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 10387/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:4255-0!canonical and timestamp 20250211170022 and revision id 23112.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.osdev.org/index.php?title=UDI_Environment&amp;oldid=23112">https://wiki.osdev.org/index.php?title=UDI_Environment&amp;oldid=23112</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://wiki.osdev.org/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li><li><a href="./Category:Uniform_Driver_Interface" title="Category:Uniform Driver Interface">Uniform Driver Interface</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-login" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=Special:UserLogin&amp;returnto=UDI+Environment" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li><li id="pt-darkmode" class="mw-list-item"><a href="UDI_Environment#" class="ext-darkmode-link"><span>Dark mode</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="UDI_Environment" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="mw-list-item"><a href="./Talk:UDI_Environment" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="UDI_Environment"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=UDI_Environment&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=UDI_Environment&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="https://wiki.osdev.org/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search OSDev Wiki" aria-label="Search OSDev Wiki" autocapitalize="sentences" title="Search OSDev Wiki [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="index.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage" class="mw-list-item"><a href="index.html" title="Visit the main page [z]" accesskey="z"><span>Main Page</span></a></li><li id="n-portal" class="mw-list-item"><a href="http://forum.osdev.org/" rel="nofollow" title="About the project, what you can do, where to find things"><span>Forums</span></a></li><li id="n-FAQ" class="mw-list-item"><a href="./Category:FAQ"><span>FAQ</span></a></li><li id="n-OS-Projects" class="mw-list-item"><a href="Projects"><span>OS Projects</span></a></li><li id="n-randompage" class="mw-list-item"><a href="https://wiki.osdev.org/Special:Random" title="Load a random page [x]" accesskey="x"><span>Random page</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-about" class="vector-menu mw-portlet mw-portlet-about vector-menu-portal portal" aria-labelledby="p-about-label" role="navigation"  >
	<h3
		id="p-about-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">About</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-This-site" class="mw-list-item"><a href="./OSDevWiki:About"><span>This site</span></a></li><li id="n-Joining" class="mw-list-item"><a href="./OSDevWiki:Joining"><span>Joining</span></a></li><li id="n-Editing-help" class="mw-list-item"><a href="./OSDevWiki:Editing"><span>Editing help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="./Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="./Special:WhatLinksHere/UDI_Environment" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="https://wiki.osdev.org/Special:RecentChangesLinked/UDI_Environment" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="./Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=UDI_Environment&amp;oldid=23112" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="https://wiki.osdev.org/index.php?title=UDI_Environment&amp;action=info" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 1 December 2018, at 02:42.</li>
	<li id="footer-info-0">This page has been accessed 797 times.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="./OSDev_Wiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="./OSDev_Wiki:About">About OSDev Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="./OSDev_Wiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://wiki.osdev.org/index.php?title=UDI_Environment&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.069","walltime":"2.012","ppvisitednodes":{"value":125,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":100},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":10387,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20250211170024","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":106});});</script>
</body>
</html>