<HTML
><HEAD
><TITLE
>字符集支持</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）"
HREF="index.html"><LINK
REL="UP"
TITLE="区域"
HREF="charset.html"><LINK
REL="PREVIOUS"
TITLE="区域"
HREF="charset.html"><LINK
REL="NEXT"
TITLE="日常数据库维护工作"
HREF="maintenance.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=gb2312"><META
NAME="creation"
CONTENT="2005-12-05T14:14:52"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档（<A
HREF="http://www.pgsqldb.org"
TARGET="_top"
>PostgreSQL 中国</A
> 制作）</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="charset.html"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="charset.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>Chapter 21. 区域</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="charset.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="maintenance.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="MULTIBYTE"
>21.2. 字符集支持</A
></H1
><A
NAME="AEN22098"
></A
><P
>	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 里面的字符集支持你能够以各种字符集存储文本，
	包括单字节的字符集，比如 ISO 8859 系列和 <SPAN
CLASS="ACRONYM"
>EUC</SPAN
> （扩展 Unix 编码 Extended Unix Code），UTF-8 和
	Mule 国际编码。所有字符集都可以在服务器上透明地使用。
	（如果你使用了来自其它数据源地扩展函数，那么它取决于他们是否正确地书写了代码。）
	缺省的字符集是在使用 <TT
CLASS="COMMAND"
>initdb</TT
> 初始化你的 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 数据库集群的时候选择的。
	在你的使用 <TT
CLASS="COMMAND"
>createdb</TT
> 或者 SQL 命令 <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>
	的时候是可以覆盖这个缺省的。因此，你可以有多个数据库，每个都有不同的字符集。
   </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="MULTIBYTE-CHARSET-SUPPORTED"
>21.2.1. 支持字符集编码</A
></H2
><P
>	<A
HREF="multibyte.html#CHARSET-TABLE"
>Table 21-1</A
> 显示了可以用在服务器的字符集。
    </P
><DIV
CLASS="TABLE"
><A
NAME="CHARSET-TABLE"
></A
><P
><B
>Table 21-1. 服务器字符集</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>名字</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>语言</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>字节/字符</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>别名</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>BIG5</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>大五</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>繁体中文</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-2</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN950</TT
>, <TT
CLASS="LITERAL"
>Windows950</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_CN</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>扩展的 UNIX 代码-CN</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>简体中文</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-3</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_JP</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>扩展的 UNIX 代码-JP</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>日文</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-3</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_KR</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>扩展的 UNIX 代码-KR</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>韩文</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-3</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_TW</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>扩展的 UNIX 代码-TW</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>繁体中文，中国台湾省</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-3</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>GB18030</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>国家标准</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>中文</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-2</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>GBK</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>扩展的国家标准</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>简体中文</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-2</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN936</TT
>, <TT
CLASS="LITERAL"
>Windows936</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_5</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-5, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 113</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>拉丁/西里尔语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_6</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-6, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 114</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>拉丁/阿拉伯语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_7</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-7, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 118</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>拉丁/希腊语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-8, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 121</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>拉丁/希伯莱语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>JOHAB</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><SPAN
CLASS="ACRONYM"
>JOHAB</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>韩语（Hangul）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-3</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>KOI8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><SPAN
CLASS="ACRONYM"
>KOI</SPAN
>8-R(U)</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>西里尔语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>KOI8R</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN1</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-1, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 94</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>西欧语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO88591</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN2</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-2, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 94</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>中欧语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO88592</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN3</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-3, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 94</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>南欧语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO88593</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-4, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 94</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>北欧语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO88594</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN5</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-9, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 128</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>土耳其语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO88599</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN6</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-10, <SPAN
CLASS="ACRONYM"
>ECMA</SPAN
> 144</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>北欧，日耳曼语（Nordic）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO885910</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN7</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-13</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>波罗的海语（Baltic）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO885913</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-14</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>凯尔特语（Celtic）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO885914</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN9</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-15</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>带有欧洲语系和语调的 LATIN1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO885915</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN10</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ISO 8859-16, <SPAN
CLASS="ACRONYM"
>ASRO</SPAN
> SR 14111</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>罗马尼亚语（Romanian）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO885916</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Mule 国际编码</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>多语种 Emacs</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-4</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>SJIS</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Shift JIS</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>日语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-2</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>Mskanji</TT
>, <TT
CLASS="LITERAL"
>ShiftJIS</TT
>, <TT
CLASS="LITERAL"
>WIN932</TT
>, <TT
CLASS="LITERAL"
>Windows932</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>SQL_ASCII</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>未声明（见文本）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>任意</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>UHC</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>统一韩语（Hangul）编码</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>韩语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-2</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN949</TT
>, <TT
CLASS="LITERAL"
>Windows949</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>UTF8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Unicode, 8-bit</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>全部</I
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1-4</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>Unicode</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN866</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP866</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>西里尔语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ALT</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN874</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP874</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>泰国语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1250</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP1250</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>中欧语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1251</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP1251</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>西里尔语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1252</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP1252</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>西欧语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1256</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP1256</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>阿拉伯语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1258</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Windows CP1258</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>越南语</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ABC</TT
>, <TT
CLASS="LITERAL"
>TCVN</TT
>, <TT
CLASS="LITERAL"
>TCVN5712</TT
>, <TT
CLASS="LITERAL"
>VSCII</TT
></TD
></TR
></TBODY
></TABLE
></DIV
><P
>	并非所有<SPAN
CLASS="ACRONYM"
>API</SPAN
>支持上面列出的编码。比如，
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> JDBC 驱动就不支持<TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>，
	<TT
CLASS="LITERAL"
>LATIN6</TT
>，<TT
CLASS="LITERAL"
>LATIN8</TT
> 和
	<TT
CLASS="LITERAL"
>LATIN10</TT
>。
    </P
><P
>      <TT
CLASS="LITERAL"
>SQL_ASCII</TT
> 设置与其它设置表现得相当不同。如果服务器字符集是 <TT
CLASS="LITERAL"
>SQL_ASCII</TT
>，
      服务器把字节值 0-127 的数值根据 ASCII 标准解析，而字节值未 128-255 的则当作未解析的字符。
      如果设置为 <TT
CLASS="LITERAL"
>SQL_ASCII</TT
>，就不会有编码转换。因此，这个设置基本不是用来声明所使用的编码的，
      因为这个声明会忽略编码。在大多数情况下，如果你使用了任何非 ASCII 数据，那么使用 <TT
CLASS="LITERAL"
>SQL_ASCII</TT
>
      设置都是不明智的，因为 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 会无法帮助你转换或者校验非 ASCII 字符。
     </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN22421"
>21.2.2. 设置字符集</A
></H2
><P
>     <SPAN
CLASS="APPLICATION"
>initdb</SPAN
> 为一个
     <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 集群定义缺省的字符集，比如：

</P><PRE
CLASS="SCREEN"
>initdb -E EUC_JP</PRE
><P>

	把缺省字符集设置为 <TT
CLASS="LITERAL"
>EUC_JP</TT
>
	（用于日文的扩展的 Unix 编码）。
	如果你喜欢用长选项声明的话，你可以用 <TT
CLASS="OPTION"
>--encoding</TT
> 代替 
	<TT
CLASS="OPTION"
>-E</TT
>。
	如果没有给出<TT
CLASS="OPTION"
>-E</TT
>或者<TT
CLASS="OPTION"
>--encoding</TT
>选项，
	<TT
CLASS="COMMAND"
>initdb</TT
> 将基于制定的区域或者缺省区域试图判断合适的编码。
    </P
><P
>	你可以创建一个有着不同编码的数据库：

</P><PRE
CLASS="SCREEN"
>createdb -E EUC_KR korean</PRE
><P>

	将创建一个使用<TT
CLASS="LITERAL"
>EUC_KR</TT
>字符集的名字叫
	<SPAN
CLASS="DATABASE"
>korean</SPAN
> 的数据库。
	另外一种实现方法是使用 SQL 命令：

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE DATABASE korean WITH ENCODING 'EUC_KR';</PRE
><P>

	数据库的编码是用系统表 <TT
CLASS="LITERAL"
>pg_database</TT
> 里的一个
	<I
CLASS="FIRSTTERM"
>编码字段</I
>代表的。
	你可以用<TT
CLASS="COMMAND"
>psql</TT
>的<TT
CLASS="OPTION"
>-l</TT
>选项或
	<TT
CLASS="COMMAND"
>\l</TT
>命令列出这些编码。

</P><PRE
CLASS="SCREEN"
>$ <TT
CLASS="USERINPUT"
><B
>psql -l</B
></TT
>
            List of databases
   Database    |  Owner  |   Encoding
---------------+---------+---------------
 euc_cn        | t-ishii | EUC_CN
 euc_jp        | t-ishii | EUC_JP
 euc_kr        | t-ishii | EUC_KR
 euc_tw        | t-ishii | EUC_TW
 mule_internal | t-ishii | MULE_INTERNAL
 postgres      | t-ishii | EUC_JP
 regression    | t-ishii | SQL_ASCII
 template1     | t-ishii | EUC_JP
 test          | t-ishii | EUC_JP
 utf8          | t-ishii | UTF8
(9 rows)</PRE
><P>
    </P
><DIV
CLASS="IMPORTANT"
><BLOCKQUOTE
CLASS="IMPORTANT"
><P
><B
>Important: </B
>      虽然你可以给一个数据库声明你需要的任何编码，但选择一个与你选择的区域不一致的编码还是不妥的做法。
      <TT
CLASS="LITERAL"
>LC_COLLATE</TT
> 和 <TT
CLASS="LITERAL"
>LC_CTYPE</TT
> 设置暗示一个特定的编码，
      与区域相关的操作（比如排序）在不兼容的编码里很有可能产生错误的解析。
     </P
><P
>      因为这些区域设置都是由 <TT
CLASS="COMMAND"
>initdb</TT
> 冻结的，
      所以在不同的数据库里使用不同的编码更多是理论而不是现实。
      这些机制很有可能在将来版本的 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 得到改进。
     </P
><P
>      一个安全使用多种编码的方法是在 <TT
CLASS="COMMAND"
>initdb</TT
> 的时候把区域设置为
      <TT
CLASS="LITERAL"
>C</TT
> 或者 <TT
CLASS="LITERAL"
>POSIX</TT
>，这样旧关闭了任何实际的区域敏感性。
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN22456"
>21.2.3. 服务器和客户端之间的自动字符集转换</A
></H2
><P
>	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 支持一些编码在服务器和前端之间的自动编码转换。
	转换信息在系统表 <TT
CLASS="LITERAL"
>pg_conversion</TT
> 中存储。
	你可以使用 SQL 命令 <TT
CLASS="COMMAND"
>CREATE CONVERSION</TT
> 创建一个新的转换。
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>带着一些预定义的转换。它们在
	<A
HREF="multibyte.html#MULTIBYTE-TRANSLATION-TABLE"
>Table 21-2</A
> 中列出。
    </P
><DIV
CLASS="TABLE"
><A
NAME="MULTIBYTE-TRANSLATION-TABLE"
></A
><P
><B
>Table 21-2. 客户/服务器字符集转换</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>服务器字符集</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>可用客户端字符集</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>BIG5</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>不支持做服务器端编码</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_CN</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>EUC_CN</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_JP</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>EUC_JP</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>SJIS</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_KR</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>EUC_KR</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>EUC_TW</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>EUC_TW</I
>,
         <TT
CLASS="LITERAL"
>BIG5</TT
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>GB18030</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>不支持做服务器端编码</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>GBK</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>不支持做服务器端编码</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_5</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>ISO_8859_5</I
>,
         <TT
CLASS="LITERAL"
>KOI8</TT
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>,
         <TT
CLASS="LITERAL"
>WIN866</TT
>,
         <TT
CLASS="LITERAL"
>WIN1251</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_6</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>ISO_8859_6</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_7</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>ISO_8859_7</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>ISO_8859_8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>ISO_8859_8</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>JOHAB</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>JOHAB</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>KOI8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>KOI8</I
>,
         <TT
CLASS="LITERAL"
>ISO_8859_5</TT
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>,
         <TT
CLASS="LITERAL"
>WIN866</TT
>,
         <TT
CLASS="LITERAL"
>WIN1251</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN1</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN1</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN2</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN2</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>,
         <TT
CLASS="LITERAL"
>WIN1250</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN3</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN3</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN4</I
>,
         <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN5</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN5</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN6</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN6</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN7</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN7</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN8</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN9</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN9</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>LATIN10</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>LATIN10</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>MULE_INTERNAL</I
>,
          <TT
CLASS="LITERAL"
>BIG5</TT
>,
          <TT
CLASS="LITERAL"
>EUC_CN</TT
>,
          <TT
CLASS="LITERAL"
>EUC_JP</TT
>,
          <TT
CLASS="LITERAL"
>EUC_KR</TT
>,
          <TT
CLASS="LITERAL"
>EUC_TW</TT
>,
          <TT
CLASS="LITERAL"
>ISO_8859_5</TT
>,
          <TT
CLASS="LITERAL"
>KOI8</TT
>,
          <TT
CLASS="LITERAL"
>LATIN1</TT
> to <TT
CLASS="LITERAL"
>LATIN4</TT
>,
          <TT
CLASS="LITERAL"
>SJIS</TT
>,
          <TT
CLASS="LITERAL"
>WIN866</TT
>,
          <TT
CLASS="LITERAL"
>WIN1250</TT
>,
          <TT
CLASS="LITERAL"
>WIN1251</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>SJIS</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>不支持做服务器端编码</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>SQL_ASCII</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>任意（不会发生编码转换）</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>UHC</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>不支持做服务器端编码</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>UTF8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>所有支持的编码</I
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN866</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN866</I
>,
          <TT
CLASS="LITERAL"
>ISO_8859_5</TT
>,
          <TT
CLASS="LITERAL"
>KOI8</TT
>,
          <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
          <TT
CLASS="LITERAL"
>UTF8</TT
>,
          <TT
CLASS="LITERAL"
>WIN1251</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN874</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN874</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1250</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN1250</I
>,
          <TT
CLASS="LITERAL"
>LATIN2</TT
>,
          <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
          <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1251</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN1251</I
>,
          <TT
CLASS="LITERAL"
>ISO_8859_5</TT
>,
          <TT
CLASS="LITERAL"
>KOI8</TT
>,
          <TT
CLASS="LITERAL"
>MULE_INTERNAL</TT
>,
          <TT
CLASS="LITERAL"
>UTF8</TT
>,
          <TT
CLASS="LITERAL"
>WIN866</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1252</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN1252</I
>,
          <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1256</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN1256</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>WIN1258</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>WIN1258</I
>,
         <TT
CLASS="LITERAL"
>UTF8</TT
>
         </TD
></TR
></TBODY
></TABLE
></DIV
><P
>	要想打开自动字符集转换功能，你必须告诉 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
	你想在客户端使用的字符集（编码）。你可以用好几种方法实现这个目的。

     <P
></P
></P><UL
><LI
><P
>	用 <SPAN
CLASS="APPLICATION"
>psql</SPAN
> 里的 <TT
CLASS="COMMAND"
>\encoding</TT
> 命令。
	<TT
CLASS="COMMAND"
>\encoding</TT
> 允许你动态修改客户端编码。
	比如，把编码改变为 <TT
CLASS="LITERAL"
>SJIS</TT
>，键入：

</P><PRE
CLASS="PROGRAMLISTING"
>\encoding SJIS</PRE
><P>
       </P
></LI
><LI
><P
>	使用 <SPAN
CLASS="APPLICATION"
>libpq</SPAN
> 函数。
	<TT
CLASS="COMMAND"
>\encoding</TT
> 在做此用途的时候实际上是调用
	<TT
CLASS="FUNCTION"
>PQsetClientEncoding()</TT
>。

</P><PRE
CLASS="SYNOPSIS"
>int PQsetClientEncoding(PGconn *<TT
CLASS="REPLACEABLE"
><I
>conn</I
></TT
>, const char *<TT
CLASS="REPLACEABLE"
><I
>encoding</I
></TT
>);</PRE
><P>

	这里 <TT
CLASS="REPLACEABLE"
><I
>conn</I
></TT
> 与后端的联接，而
	<TT
CLASS="REPLACEABLE"
><I
>encoding</I
></TT
> 是你想用的编码。如果编码设置成功它返回 0，否则返回 -1。本次联接的当前编码可以用下面函数显示：

</P><PRE
CLASS="SYNOPSIS"
>int PQclientEncoding(const PGconn *<TT
CLASS="REPLACEABLE"
><I
>conn</I
></TT
>);</PRE
><P>

	请注意它只返回编码 ID，而不是象 <TT
CLASS="LITERAL"
>EUC_JP</TT
> 这样的编码符号字串。
	要把编码 ID 转换为编码符号，你可以用：

</P><PRE
CLASS="SYNOPSIS"
>char *pg_encoding_to_char(int <TT
CLASS="REPLACEABLE"
><I
>encoding_id</I
></TT
>);</PRE
><P>
       </P
></LI
><LI
><P
>	使用 <TT
CLASS="COMMAND"
>SET client_encoding TO</TT
>。
	可以用 SQL 命令设置客户端编码：

</P><PRE
CLASS="PROGRAMLISTING"
>SET CLIENT_ENCODING TO '<TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>';</PRE
><P>

	你还可以把 SQL 语法里的 <TT
CLASS="LITERAL"
>SET NAMES</TT
>用于这个目的：

</P><PRE
CLASS="PROGRAMLISTING"
>SET NAMES '<TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>';</PRE
><P>

	查询当前客户端编码：

</P><PRE
CLASS="PROGRAMLISTING"
>SHOW client_encoding;</PRE
><P>

	返回缺省编码：

</P><PRE
CLASS="PROGRAMLISTING"
>RESET client_encoding;</PRE
><P>
       </P
></LI
><LI
><P
>	使用 <TT
CLASS="ENVAR"
>PGCLIENTENCODING</TT
>。
	如果在客户端的环境里定义了 <TT
CLASS="ENVAR"
>PGCLIENTENCODING</TT
> 环境变量，
	那么在与服务器进行联接时将自动选择客户端编码。
	（这个编码随后可以用上面谈到的任何其它方法覆盖。）
       </P
></LI
><LI
><P
>	使用<A
HREF="runtime-config-client.html#GUC-CLIENT-ENCODING"
>client_encoding</A
>配置变量。
	如果在 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 里设置了 <TT
CLASS="VARNAME"
>client_encoding</TT
> 变量，
	那么在与服务器建立了联接之后，这个客户端编码将自动选定。（这个设置随后可以被上面提到
	的其他方法覆盖。）
       </P
></LI
></UL
><P>
    </P
><P
>	假如无法进行特定的字符转换  &mdash;  比如，
	你选的服务器编码是<TT
CLASS="LITERAL"
>EUC_JP</TT
>，
	客户端是<TT
CLASS="LITERAL"
>LATIN1</TT
>，那么有些日文字符不能转换成<TT
CLASS="LITERAL"
>LATIN1</TT
>。这时，
	不能用<TT
CLASS="LITERAL"
>LATIN1</TT
>字符集表示的字母将被转换成圆括弧包围的十六进制，像，<TT
CLASS="LITERAL"
>(826C)</TT
> 这样。
    </P
><P
>     如果客户端字符集定义成了 <TT
CLASS="LITERAL"
>SQL_ASCII</TT
>，那么编码转换会被关闭，
     不管服务器的字符集是什么都一样。和服务器一样，除非你的工作环境全部是 ASCII 数据，
     否则使用 <TT
CLASS="LITERAL"
>SQL_ASCII</TT
> 是不明智的。
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN22770"
>21.2.4. 进一步阅读</A
></H2
><P
>	下面是学习各种类型的编码系统的好地方。

     <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
HREF="http://www.i18ngurus.com/docs/984813247.html"
TARGET="_top"
>http://www.i18ngurus.com/docs/984813247.html</A
></DT
><DD
><P
>	 一整套有关字符集，编码以及代码页的文档。
        </P
></DD
><DT
><A
HREF="ftp://ftp.ora.com/pub/examples/nutshell/ujip/doc/cjk.inf"
TARGET="_top"
>ftp://ftp.ora.com/pub/examples/nutshell/ujip/doc/cjk.inf</A
></DT
><DD
><P
>	详细地解释了第3.2节出现的<TT
CLASS="LITERAL"
>EUC_JP</TT
>，
	<TT
CLASS="LITERAL"
>EUC_CN</TT
>，<TT
CLASS="LITERAL"
>EUC_KR</TT
>，<TT
CLASS="LITERAL"
>EUC_TW</TT
>。
       </P
></DD
><DT
><A
HREF="http://www.unicode.org/"
TARGET="_top"
>http://www.unicode.org/</A
></DT
><DD
><P
>	Unicode 的家目录。
       </P
></DD
><DT
>RFC 2044</DT
><DD
><P
>	定义了<SPAN
CLASS="ACRONYM"
>UTF</SPAN
>-8。
       </P
></DD
></DL
></DIV
><P>
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="charset.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="maintenance.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>区域</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="charset.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>日常数据库维护工作</TD
></TR
></TABLE
></DIV
><script src="http://count1.chinaitlab.com/mystat.asp?siteid=32"></script></body></HTML
>