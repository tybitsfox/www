<HTML
><HEAD
><TITLE
>几何函数和操作符</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）"
HREF="index.html"><LINK
REL="UP"
TITLE="函数和操作符"
HREF="functions.html"><LINK
REL="PREVIOUS"
TITLE="时间/日期函数和操作符"
HREF="functions-datetime.html"><LINK
REL="NEXT"
TITLE="网络地址类型函数和操作符"
HREF="functions-net.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=gb2312"><META
NAME="creation"
CONTENT="2005-12-05T14:14:52"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档（<A
HREF="http://www.pgsqldb.org"
TARGET="_top"
>PostgreSQL 中国</A
> 制作）</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions-datetime.html"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. 函数和操作符</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions-net.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="FUNCTIONS-GEOMETRY"
>9.10. 几何函数和操作符</A
></H1
><P
>	有许多内置函数和操作符支持
	几何类型<TT
CLASS="TYPE"
>point</TT
>，<TT
CLASS="TYPE"
>box</TT
>，<TT
CLASS="TYPE"
>lseg</TT
>，
	<TT
CLASS="TYPE"
>line</TT
>，<TT
CLASS="TYPE"
>path</TT
>，<TT
CLASS="TYPE"
>polygon</TT
> 和
	<TT
CLASS="TYPE"
>circle</TT
> 等，
	在<A
HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-OP-TABLE"
>Table 9-28</A
>，
	<A
HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-FUNC-TABLE"
>Table 9-29</A
>，和
	<A
HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-CONV-TABLE"
>Table 9-30</A
>。
   </P
><DIV
CLASS="CAUTION"
><P
></P
><TABLE
CLASS="CAUTION"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Caution</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>     请注意<SPAN
CLASS="QUOTE"
>"相同"</SPAN
>操作符，<TT
CLASS="LITERAL"
>~=</TT
>，
     表示 <TT
CLASS="TYPE"
>point</TT
>，<TT
CLASS="TYPE"
>box</TT
>，<TT
CLASS="TYPE"
>polygon</TT
>，和 <TT
CLASS="TYPE"
>circle</TT
>
     类型的一般意义的相同。这些类型有些还有一个 <TT
CLASS="LITERAL"
>=</TT
> 操作符，
     不过它只是比较相同的<I
CLASS="EMPHASIS"
>面积</I
>。其它的标量比较操作符
     （<TT
CLASS="LITERAL"
>&lt;=</TT
> 等等）也是为这些类型比较面积。
    </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-GEOMETRY-OP-TABLE"
></A
><P
><B
>Table 9-28. 几何函数和操作符</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>操作符</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>例子</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>+</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平移</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(1,1))' + point '(2.0,0)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>-</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平移</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(1,1))' - point '(2.0,0)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>*</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>伸缩/旋转</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(1,1))' * point '(2.0,0)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>/</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>伸缩/旋转</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(2,2))' / point '(2.0,0)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>#</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>交点或者交面</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>'((1,-1),(-1,1))' # '((1,1),(-1,-1))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>#</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>路径或多边形顶点数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
># '((1,0),(0,1),(-1,0))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>@-@</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>长度或者周长</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>@-@ path '((0,0),(1,0))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>@@</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>中心</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>@@ circle '((0,0),10)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>##</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>第一个操作数相对第二个操作数的最近点</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point '(0,0)' ## lseg '((2,0),(0,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&lt;-&gt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>间距</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle '((0,0),1)' &lt;-&gt; circle '((5,0),1)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>&amp;&amp;</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>重叠？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(1,1))' &amp;&amp; box '((0,0),(2,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&lt;&lt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是否严格在左？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle '((0,0),1)' &lt;&lt; circle '((5,0),1)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&gt;&gt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是否严格在右？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle '((5,0),1)' &gt;&gt; circle '((0,0),1)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>&amp;&lt;</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是否没有延伸到右边？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(1,1))' &amp;&lt; box '((0,0),(2,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>&amp;&gt;</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是否没有延伸到左边？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(3,3))' &amp;&gt; box '((0,0),(2,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>&lt;&lt;|</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>严格在下方？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(3,3))' &lt;&lt;| box '((3,4),(5,5))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>|&gt;&gt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>严格在上？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((3,4),(5,5))' |&gt;&gt; box '((0,0),(3,3))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&amp;&lt;|</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>没有延伸到上面？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(1,1))' &amp;&lt;| box '((0,0),(2,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>|&amp;&gt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>没有延伸到下面？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box '((0,0),(3,3))' |&amp;&gt; box '((0,0),(2,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>&lt;^</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>低于（允许接触）？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle '((0,0),1)' &lt;^ circle '((0,5),1)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>&gt;^</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>高于（允许接触）？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle '((0,5),1)' &gt;^ circle '((0,0),1)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?#</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>相交？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>lseg '((-1,0),(1,0))' ?# box '((-2,-2),(2,2))';</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?-</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>水平？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?- lseg '((-1,0),(1,0))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>?-</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是水平对齐吗？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point '(1,0)' ?- point '(0,0)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?|</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>竖直？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?| lseg '((-1,0),(1,0))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?|</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>竖直对齐吗？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point '(0,1)' ?| point '(0,0)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?-|</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>垂直？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>lseg '((0,0),(0,1))' ?-| lseg '((0,0),(1,0))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>?||</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平行？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>lseg '((-1,0),(1,0))' ?|| lseg '((-1,2),(1,2))'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>~</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>包含？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle '((0,0),2)' ~ point '(1,1)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>@</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>包含或在...上？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point '(1,1)' @ circle '((0,0),2)'</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>~=</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>与...相同？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>polygon '((0,0),(1,1))' ~= polygon '((1,1),(0,0))'</TT
></TD
></TR
></TBODY
></TABLE
></DIV
><A
NAME="AEN11734"
></A
><A
NAME="AEN11736"
></A
><A
NAME="AEN11738"
></A
><A
NAME="AEN11740"
></A
><A
NAME="AEN11742"
></A
><A
NAME="AEN11744"
></A
><A
NAME="AEN11746"
></A
><A
NAME="AEN11748"
></A
><A
NAME="AEN11750"
></A
><A
NAME="AEN11752"
></A
><A
NAME="AEN11754"
></A
><A
NAME="AEN11756"
></A
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-GEOMETRY-FUNC-TABLE"
></A
><P
><B
>Table 9-29. 几何函数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>函数</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>返回类型</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>例子</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>area</TT
>(<TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>目标的面积</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>area(box '((0,0),(1,1))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>box_intersect</TT
>(<TT
CLASS="TYPE"
>box</TT
>, <TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>box</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>方的交</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box_intersect(box '((0,0),(1,1))',box '((0.5,0.5),(2,2))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>center</TT
>(<TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>对象中心</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>center(box '((0,0),(1,2))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>diameter</TT
>(<TT
CLASS="TYPE"
>circle</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>圆直径</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>diameter(circle '((0,0),2.0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>height</TT
>(<TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>方的竖直高度</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>height(box '((0,0),(1,1))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>isclosed</TT
>(<TT
CLASS="TYPE"
>path</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是闭合路径吗？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>isclosed(path '((0,0),(1,1),(2,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>isopen</TT
>(<TT
CLASS="TYPE"
>path</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>是开环路径吗？</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>isopen(path '[(0,0),(1,1),(2,0)]')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>length</TT
>(<TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>长度</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>length(path '((-1,0),(1,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>npoints</TT
>(<TT
CLASS="TYPE"
>polygon</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>点数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>npoints(path '[(0,0),(1,1),(2,0)]')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>npoints</TT
>(<TT
CLASS="TYPE"
>polygon</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>点数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>npoints(polygon '((1,1),(0,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>pclose</TT
>(<TT
CLASS="TYPE"
>path</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>path</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>把路径转换为闭合</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>pclose(path '[(0,0),(1,1),(2,0)]')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>popen</TT
>(<TT
CLASS="TYPE"
>path</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>path</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>把路径转换为开放的</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>popen(path '((0,0),(1,1),(2,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>radius</TT
>(<TT
CLASS="TYPE"
>circle</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>圆半径</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>radius(circle '((0,0),2.0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>width</TT
>(<TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>方的水平尺寸</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>width(box '((0,0),(1,1))')</TT
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-GEOMETRY-CONV-TABLE"
></A
><P
><B
>Table 9-30. 几何类型转换函数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>函数</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>返回类型</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>例子</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>box</TT
>(<TT
CLASS="TYPE"
>circle</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>box</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>将圆转换成长方形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box(cricle '((0,0),2.0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>box</TT
>(<TT
CLASS="TYPE"
>point</TT
>, <TT
CLASS="TYPE"
>point</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>box</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>将点转换成长方形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box(point '(0,0)', point '(1,1)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>box</TT
>(<TT
CLASS="TYPE"
>polygon</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>box</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>将多边形转换成长方形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>box(polygon '((0,0),(1,1),(2,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>circle</TT
>(<TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>circle</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>方转换成圆</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle(box '((0,0),(1,1))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>circle</TT
>(<TT
CLASS="TYPE"
>point</TT
>, <TT
CLASS="TYPE"
>double precision</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>circle</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>圆心和半径</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>circle(point '(0,0)',2.0)</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>lseg</TT
>(<TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>lseg</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>长方形对角线转化成线段</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>lseg(box '((-1,0),(1,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>lseg</TT
>(<TT
CLASS="TYPE"
>point</TT
>, <TT
CLASS="TYPE"
>point</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>lseg</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>点转换成线段</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>lseg(point '(-1,0)',point '(1,0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>path</TT
>(<TT
CLASS="TYPE"
>polygon</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>多边形转换成路径</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>path(polygon '((0,0),(1,1),(2,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>point</TT
>(<TT
CLASS="TYPE"
>double
         precision</TT
>, <TT
CLASS="TYPE"
>double precision</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>结点</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point(23.4, -44.5)</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>point</TT
>(<TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>方的中心</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point(box '((-1,0),(1,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>point</TT
>(<TT
CLASS="TYPE"
>circle</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>圆心</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point(circle '((0,0),2.0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>point</TT
>(<TT
CLASS="TYPE"
>lseg</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>线段的中心</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point(lseg '((-1,0),(1,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>point</TT
>(<TT
CLASS="TYPE"
>lseg</TT
>, <TT
CLASS="TYPE"
>lseg</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>转换成点（相交）</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point(lseg '((-1,0),(1,0))', lseg '((-2,-2),(2,2))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>point</TT
>(<TT
CLASS="TYPE"
>polygon</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>多边形中心</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>point(polygon '((0,0),(1,1),(2,0))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>polygon</TT
>(<TT
CLASS="TYPE"
>box</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>polygon</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>方形转换成4点多边形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>polygon(box '((0,0),(1,1))')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>polygon</TT
>(<TT
CLASS="TYPE"
>circle</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>polygon</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>圆转换成12点多边形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>polygon(circle '((0,0),2.0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>polygon</TT
>(<TT
CLASS="REPLACEABLE"
><I
>npts</I
></TT
>, <TT
CLASS="TYPE"
>circle</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>polygon</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>圆转换成<TT
CLASS="REPLACEABLE"
><I
>npts</I
></TT
> 点多边形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>polygon(12, circle '((0,0),2.0)')</TT
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
><TT
CLASS="FUNCTION"
>polygon</TT
>(<TT
CLASS="TYPE"
>path</TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>polygon</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>路径转换成多边形</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>polygon(path '((0,0),(1,1),(2,0))')</TT
></TD
></TR
></TBODY
></TABLE
></DIV
><P
>	我们可以把一个 <TT
CLASS="TYPE"
>point</TT
> 的两个组成部分当作索引分别为 0 和 1
	的数组元素进行访问。比如，如果 <TT
CLASS="LITERAL"
>t.p</TT
> 是一个 <TT
CLASS="TYPE"
>point</TT
>
	字段，那么 <TT
CLASS="LITERAL"
>SELECT p[0] from t</TT
> 检索 X 座标而
	<TT
CLASS="LITERAL"
>UPDATE t SET p[1] = ...</TT
> 改变 Y 座标。同样，
	<TT
CLASS="TYPE"
>box</TT
> 或者 <TT
CLASS="TYPE"
>lseg</TT
> 的值可以当作两个 <TT
CLASS="TYPE"
>point</TT
> 的数组值看待。
    </P
><P
>     函数 <TT
CLASS="FUNCTION"
>area</TT
> 可以用于类型 <TT
CLASS="TYPE"
>box</TT
>，<TT
CLASS="TYPE"
>circle</TT
>，和 <TT
CLASS="TYPE"
>path</TT
>。
     <TT
CLASS="FUNCTION"
>area</TT
> 函数操作 <TT
CLASS="TYPE"
>path</TT
> 数据类型的时候，
     只有在 <TT
CLASS="TYPE"
>path</TT
> 的点没有交叉的情况下才可用。
     比如，<TT
CLASS="TYPE"
>path</TT
> <TT
CLASS="LITERAL"
>'((0,0),(0,1),(2,1),(2,2),(1,2),(1,0),(0,0))'::PATH</TT
> 是不行的，
     而下面的视觉等效
     <TT
CLASS="TYPE"
>path</TT
><TT
CLASS="LITERAL"
>'((0,0),(0,1),(1,1),(1,2),(2,2),(2,1),(1,1),(1,0),(0,0))'::PATH</TT
> 就可以。
     如果交叉和不交叉的 <TT
CLASS="TYPE"
>path</TT
> 概念让你胡涂，那么把上面两个 <TT
CLASS="TYPE"
>path</TT
> 都画在一张纸上，你就明白了。
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions-datetime.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions-net.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>时间/日期函数和操作符</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="functions.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>网络地址类型函数和操作符</TD
></TR
></TABLE
></DIV
><script src="http://count1.chinaitlab.com/mystat.asp?siteid=32"></script></body></HTML
>