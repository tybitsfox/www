<HTML
><HEAD
><TITLE
>CVS 仓库</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）"
HREF="index.html"><LINK
REL="UP"
TITLE="附录"
HREF="appendixes.html"><LINK
REL="PREVIOUS"
TITLE="Postgres95版本 0.01"
HREF="release-0-01.html"><LINK
REL="NEXT"
TITLE="CVS 树的组织"
HREF="cvs-tree.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=gb2312"><META
NAME="creation"
CONTENT="2005-12-05T14:14:52"></HEAD
><BODY
CLASS="APPENDIX"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档（<A
HREF="http://www.pgsqldb.org"
TARGET="_top"
>PostgreSQL 中国</A
> 制作）</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-0-01.html"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="docguide.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="cvs-tree.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="APPENDIX"
><H1
><A
NAME="CVS"
>Appendix F. <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 仓库</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>F.1. <A
HREF="cvs.html#ANONCVS"
>通过匿名<SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
>获取源代码</A
></DT
><DT
>F.2. <A
HREF="cvs-tree.html"
><SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 树的组织</A
></DT
><DT
>F.3. <A
HREF="cvsup.html"
>通过 <SPAN
CLASS="PRODUCTNAME"
>CVSup</SPAN
>获取源代码</A
></DT
></DL
></DIV
><P
>  <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 的源代码是使用
  <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 代码管理系统进行存储和管理的。
 </P
><P
>        至少有两个方法：匿名匿名 CVS 和
        <SPAN
CLASS="PRODUCTNAME"
>CVSup</SPAN
>，可以用于从
         <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 服务器把
        <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 代码树拉到你的本地机器上。
 </P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ANONCVS"
>F.1. 通过匿名<SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
>获取源代码</A
></H1
><P
>        如果你想经常地跟上目前的代码，你可以从我们的
        <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 服务器上把它们抓下来，然后用
        <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 经常地检索更新。
  </P
><DIV
CLASS="PROCEDURE"
><P
><B
>匿名 CVS</B
></P
><OL
TYPE="1"
><LI
><P
>     你需要一个本地 <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
>
     （并行版本控制系统 Concurrent Version Control System）的拷贝，你可以从
     <A
HREF="http://www.nongnu.org/cvs/"
TARGET="_top"
>http://www.nongnu.org/cvs/</A
>
     （官方站点上有最新版本）或者任意 GNU 软件归档站点获得（版本通常有点旧）。
        我们目前建议版本是 1.10 （在我们书写这些的时候是最新版）。
        许多系统缺省安装时已经带有最新的 <SPAN
CLASS="APPLICATION"
>cvs</SPAN
>。
    </P
></LI
><LI
><P
>     向 <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
>  服务器做一次初始化登录：

</P><PRE
CLASS="PROGRAMLISTING"
>$ cvs -d :pserver:anoncvs@anoncvs.postgresql.org:/projects/cvsroot login</PRE
><P>

     你将会被提问口令；你可以输入任何东西，只要不是空字串就行。
    </P
></LI
><LI
><P
>     抓取 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 源文件：
</P><PRE
CLASS="PROGRAMLISTING"
>cvs -z3 -d :pserver:anoncvs@anoncvs.postgresql.org:/projects/cvsroot co -P pgsql</PRE
><P>

     这样将把 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 源文件安装到你当前目录的子目录
         <TT
CLASS="FILENAME"
>pgsql</TT
> 里。

     </P><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>注意: </B
>        如果你与互联网的联接速度很快，你可能不需要
       <TT
CLASS="OPTION"
>-z3</TT
>，这个开关告诉
       <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 对待传输数据使用 gzip压缩。
        不过对于使用猫拨号上网的速度，这样做很有好处。
      </P
></BLOCKQUOTE
></DIV
><P>
    </P
><P
>        这样的初始化检查比简单地下载一个
        <TT
CLASS="FILENAME"
>tar.gz</TT
> 文件要慢一些，
        如果你有一个 28.8K 的猫（调制解调器）；
        这一步大约要花掉你 40 分钟左右。
     <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
>
        的先进性只有在你以后需要更新文件时才显示出来。
    </P
></LI
><LI
><P
>     当你想要更新最新的 <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 源文件时，
     <TT
CLASS="COMMAND"
>cd</TT
> 到
         <TT
CLASS="FILENAME"
>pgsql</TT
> 子目录，然后使用命令
</P><PRE
CLASS="PROGRAMLISTING"
>$ cvs -z3 update -d -P</PRE
><P>

     这样将只抓取上次你访问以来的更新。
        即使在用猫上网的情况下，你也只需要几分钟就可以更新完毕。
    </P
></LI
><LI
><P
>     你可以通过在你的家目录里面的 <TT
CLASS="FILENAME"
>.cvsrc</TT
>
        加上下面几行来节约几次敲键

</P><PRE
CLASS="PROGRAMLISTING"
>cvs -z3
update -d -P</PRE
><P>

     这样对所有 cvs 命令应用 <TT
CLASS="OPTION"
>-z3</TT
> 选项，以及给 cvs 更新附加
     <TT
CLASS="OPTION"
>-d</TT
> 和 <TT
CLASS="OPTION"
>-P</TT
> 选项。然后你只需要说
</P><PRE
CLASS="PROGRAMLISTING"
>$ cvs update</PRE
><P>

     就可以更新你的文件了。
    </P
></LI
></OL
></DIV
><DIV
CLASS="CAUTION"
><P
></P
><TABLE
CLASS="CAUTION"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Caution</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>    有些老版本的 <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 有一个臭虫，
        赋予你所检出的文件以所有人可写的权限存储在你的目录里。
        如果你发现这样的事情，你可以做一些象下面的事情
</P><PRE
CLASS="PROGRAMLISTING"
>$ chmod -R go-w pgsql</PRE
><P>
        以正确地设置权限。这个臭虫在
    <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 版本 1.9.28 就被修补了。
   </P
></TD
></TR
></TABLE
></DIV
><P
>   <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 还可以做很多其他事情，象抓取以前版本的
        <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 源码而不是最新版本的源码。
        更多的信息，请参考
   <SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
>随机文档，或者检查在
   <A
HREF="http://www.nongnu.org/cvs/"
TARGET="_top"
>http://www.nongnu.org/cvs/</A
>
        的在线文档。
  </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-0-01.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="cvs-tree.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="PRODUCTNAME"
>Postgres95</SPAN
>版本 0.01</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="appendixes.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="PRODUCTNAME"
>CVS</SPAN
> 树的组织</TD
></TR
></TABLE
></DIV
><script src="http://count1.chinaitlab.com/mystat.asp?siteid=32"></script></body></HTML
>