<HTML
><HEAD
><TITLE
>数据类型</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）"
HREF="index.html"><LINK
REL="UP"
TITLE="SQL 语言"
HREF="sql.html"><LINK
REL="PREVIOUS"
TITLE="LIMIT 和 OFFSET"
HREF="queries-limit.html"><LINK
REL="NEXT"
TITLE="货币类型"
HREF="datatype-money.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=gb2312"><META
NAME="creation"
CONTENT="2005-12-05T14:14:52"></HEAD
><BODY
CLASS="CHAPTER"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档（<A
HREF="http://www.pgsqldb.org"
TARGET="_top"
>PostgreSQL 中国</A
> 制作）</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="queries-limit.html"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="queries.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="datatype-money.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="DATATYPE"
>Chapter 8. 数据类型</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>8.1. <A
HREF="datatype.html#DATATYPE-NUMERIC"
>数值类型</A
></DT
><DD
><DL
><DT
>8.1.1. <A
HREF="datatype.html#DATATYPE-INT"
>整数类型</A
></DT
><DT
>8.1.2. <A
HREF="datatype.html#DATATYPE-NUMERIC-DECIMAL"
>任意精度数值</A
></DT
><DT
>8.1.3. <A
HREF="datatype.html#DATATYPE-FLOAT"
>浮点数类型</A
></DT
><DT
>8.1.4. <A
HREF="datatype.html#DATATYPE-SERIAL"
>Serial（序号）类型</A
></DT
></DL
></DD
><DT
>8.2. <A
HREF="datatype-money.html"
>货币类型</A
></DT
><DT
>8.3. <A
HREF="datatype-character.html"
>字符类型</A
></DT
><DT
>8.4. <A
HREF="datatype-binary.html"
>二进制数据类型</A
></DT
><DT
>8.5. <A
HREF="datatype-datetime.html"
>日期/时间类型</A
></DT
><DD
><DL
><DT
>8.5.1. <A
HREF="datatype-datetime.html#DATATYPE-DATETIME-INPUT"
>日期/时间输入</A
></DT
><DT
>8.5.2. <A
HREF="datatype-datetime.html#DATATYPE-DATETIME-OUTPUT"
>日期/时间输出</A
></DT
><DT
>8.5.3. <A
HREF="datatype-datetime.html#DATATYPE-TIMEZONES"
>时区</A
></DT
><DT
>8.5.4. <A
HREF="datatype-datetime.html#DATATYPE-DATETIME-INTERNALS"
>内部</A
></DT
></DL
></DD
><DT
>8.6. <A
HREF="datatype-boolean.html"
>布尔类型</A
></DT
><DT
>8.7. <A
HREF="datatype-geometric.html"
>几何类型</A
></DT
><DD
><DL
><DT
>8.7.1. <A
HREF="datatype-geometric.html#AEN5211"
>Point（点）</A
></DT
><DT
>8.7.2. <A
HREF="datatype-geometric.html#AEN5224"
>线段</A
></DT
><DT
>8.7.3. <A
HREF="datatype-geometric.html#AEN5250"
>Box（方）</A
></DT
><DT
>8.7.4. <A
HREF="datatype-geometric.html#AEN5278"
>Path（路径）</A
></DT
><DT
>8.7.5. <A
HREF="datatype-geometric.html#AEN5311"
>Polygon（多边形）</A
></DT
><DT
>8.7.6. <A
HREF="datatype-geometric.html#AEN5336"
>Circle（圆）</A
></DT
></DL
></DD
><DT
>8.8. <A
HREF="datatype-net-types.html"
>网络地址数据类型</A
></DT
><DD
><DL
><DT
>8.8.1. <A
HREF="datatype-net-types.html#DATATYPE-INET"
><TT
CLASS="TYPE"
>inet</TT
></A
></DT
><DT
>8.8.2. <A
HREF="datatype-net-types.html#DATATYPE-CIDR"
><TT
CLASS="TYPE"
>cidr</TT
></A
></DT
><DT
>8.8.3. <A
HREF="datatype-net-types.html#DATATYPE-INET-VS-CIDR"
><TT
CLASS="TYPE"
>inet</TT
> 与 <TT
CLASS="TYPE"
>cidr</TT
> 对比</A
></DT
><DT
>8.8.4. <A
HREF="datatype-net-types.html#DATATYPE-MACADDR"
><TT
CLASS="TYPE"
>macaddr</TT
></A
></DT
></DL
></DD
><DT
>8.9. <A
HREF="datatype-bit.html"
>位串类型</A
></DT
><DT
>8.10. <A
HREF="arrays.html"
>数组</A
></DT
><DD
><DL
><DT
>8.10.1. <A
HREF="arrays.html#AEN5596"
>数组类型的声明</A
></DT
><DT
>8.10.2. <A
HREF="arrays.html#AEN5617"
>数组值输入</A
></DT
><DT
>8.10.3. <A
HREF="arrays.html#AEN5650"
>访问数组</A
></DT
><DT
>8.10.4. <A
HREF="arrays.html#AEN5684"
>修改数组</A
></DT
><DT
>8.10.5. <A
HREF="arrays.html#AEN5720"
>在数组中检索</A
></DT
><DT
>8.10.6. <A
HREF="arrays.html#AEN5730"
>数组输入和输出语法</A
></DT
></DL
></DD
><DT
>8.11. <A
HREF="rowtypes.html"
>复合类型</A
></DT
><DD
><DL
><DT
>8.11.1. <A
HREF="rowtypes.html#AEN5778"
>声明复合类型</A
></DT
><DT
>8.11.2. <A
HREF="rowtypes.html#AEN5793"
>复合类型值输入</A
></DT
><DT
>8.11.3. <A
HREF="rowtypes.html#AEN5814"
>访问复合类型</A
></DT
><DT
>8.11.4. <A
HREF="rowtypes.html#AEN5825"
>修改复合类型</A
></DT
><DT
>8.11.5. <A
HREF="rowtypes.html#AEN5836"
>复合类型输入和输出语法</A
></DT
></DL
></DD
><DT
>8.12. <A
HREF="datatype-oid.html"
>对象标识符类型</A
></DT
><DT
>8.13. <A
HREF="datatype-pseudo.html"
>伪类型</A
></DT
></DL
></DIV
><A
NAME="AEN3566"
></A
><A
NAME="AEN3568"
></A
><P
>   <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 有着丰富的数据类型可用。
   用户可以使用 <A
HREF="sql-createtype.html"
><I
>CREATE TYPE</I
></A
> 命令为
   <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 增加新的数据类型。
  </P
><P
>	<A
HREF="datatype.html#DATATYPE-TABLE"
>Table 8-1</A
> 显示了所有内置的普通数据类型。
	在<SPAN
CLASS="QUOTE"
>"别名"</SPAN
>列里列出的大多数可选名字都是因历史原因
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 在内部使用的名字。
	另外，还有一些内部使用的或者废弃的类型也可以用，但没有在这里列出。
  </P
><DIV
CLASS="TABLE"
><A
NAME="DATATYPE-TABLE"
></A
><P
><B
>Table 8-1. 数据类型</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>名字</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>别名</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bigint</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>有符号 8 字节整数</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bigserial</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>serial8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>自增八字节整数</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bit [ (<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>) ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>定长位串</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bit varying [ (<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>) ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>varbit</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变长位串</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bool</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>逻辑布尔量 （真/假）</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>box</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的长方形</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bytea</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>二进制数据（<SPAN
CLASS="QUOTE"
>"字节数组"</SPAN
>）</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>character varying [ (<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>) ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>varchar [ (<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>) ] </TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变长字符串</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>character [ (<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>) ] </TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>char [ (<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>) ] </TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>定长字符串</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>cidr</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>IPv4 或者 IPv6 网络地址</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>circle</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的圆</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>date</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>日历日期（年，月，日）</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>float8</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>双精度浮点数字</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>inet</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>IPv4 或者 IPv6 网络地址</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>integer</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int</TT
>，<TT
CLASS="TYPE"
>int4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>四字节长有符号整数</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>interval [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>) ] </TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>时间间隔</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>line</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的无限长直线</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>lseg</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的线段</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>macaddr</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>MAC 地址</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>money</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>货币金额</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>numeric [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>,
       <TT
CLASS="REPLACEABLE"
><I
>s</I
></TT
>) ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>decimal [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>,
       <TT
CLASS="REPLACEABLE"
><I
>s</I
></TT
>) ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>可选精度的准确数字</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>path</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的几何路径</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>point</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的点</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>polygon</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>平面中的封闭几何路径</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>real</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>float4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>单精度浮点数</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>smallint</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int2</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>有符号两字节整数</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>serial</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>serial4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>自增四字节整数</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变长字符串</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>time [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>) ] [ without time zone ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>一天里的时间</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>time [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>) ] with time zone</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>timetz</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>一天里的时间，包括时区</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>timestamp [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>) ] [ without time zone ]</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>日期和时间</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>timestamp [ (<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>) ] with time zone</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>timestamptz</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>日期和时间</TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>兼容性: </B
>        下列类型（或者那样拼写的）是<SPAN
CLASS="ACRONYM"
>SQL</SPAN
>声明的：
    <TT
CLASS="TYPE"
>bit</TT
>，<TT
CLASS="TYPE"
>bit varying</TT
>，<TT
CLASS="TYPE"
>boolean</TT
>，
    <TT
CLASS="TYPE"
>char</TT
>，<TT
CLASS="TYPE"
>character</TT
>，<TT
CLASS="TYPE"
>character
    varying</TT
>，<TT
CLASS="TYPE"
>varchar</TT
>，<TT
CLASS="TYPE"
>date</TT
>，
    <TT
CLASS="TYPE"
>double precision</TT
>，<TT
CLASS="TYPE"
>integer</TT
>，
    <TT
CLASS="TYPE"
>interval</TT
>，<TT
CLASS="TYPE"
>numeric</TT
>，<TT
CLASS="TYPE"
>decimal</TT
>，
    <TT
CLASS="TYPE"
>real</TT
>，<TT
CLASS="TYPE"
>smallint</TT
>，<TT
CLASS="TYPE"
>time</TT
> （包括有时区和无时区的），
    <TT
CLASS="TYPE"
>timestamp</TT
> （包括有时区和无时区的）。
   </P
></BLOCKQUOTE
></DIV
><P
>	每种数据类型都有一个由其输入和输出函数决定的外部表现形式。
	许多内建的类型有明显的格式。不过，许多类型要么是
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 所特有的，比如几何路径，要么可能是有几种不同的格式，比如日期和时间类型。
	有些输入和输出函数是不可逆的。也就是说，输出函数的输出结果和原始的输入比较的时候可能丢失精度。
  </P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DATATYPE-NUMERIC"
>8.1. 数值类型</A
></H1
><A
NAME="AEN3802"
></A
><P
>	数值类型由2、4或8字节的整数以及4或8字节的浮点数和可选精度小数组成。
	<A
HREF="datatype.html#DATATYPE-NUMERIC-TABLE"
>Table 8-2</A
> 列出了所有可用类型。
   </P
><DIV
CLASS="TABLE"
><A
NAME="DATATYPE-NUMERIC-TABLE"
></A
><P
><B
>Table 8-2. 数值类型</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>名字</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>存储空间</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>范围</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>smallint</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>2 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>小范围整数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>-32768 到 +32767</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>integer</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>4 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>常用的整数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>-2147483648 到 +2147483647</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bigint</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>8 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>大范围的整数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>-9223372036854775808 到 9223372036854775807</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>decimal</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变长</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>用户声明精度，精确</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>无限制</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>numeric</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变长</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>用户声明精度，精确</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>无限制</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>real</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>4 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变精度，不精确</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>6 位十进制数字精度</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>8 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>变精度，不精确</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>15 位十进制数字精度</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>serial</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>4 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>自增整数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1 到 +2147483647</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>bigserial</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>8 字节</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>大范围的自增整数</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1 到 9223372036854775807</TD
></TR
></TBODY
></TABLE
></DIV
><P
>        数值类型常量的语法在
        <A
HREF="sql-syntax.html#SQL-SYNTAX-CONSTANTS"
>Section 4.1.2</A
> 里描述。
        数值类型对应有一套完整的数学操作符和函数。相关信息请参考
        <A
HREF="functions.html"
>Chapter 9</A
>。
	下面的几节详细描述这些类型。
   </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-INT"
>8.1.1. 整数类型</A
></H2
><A
NAME="AEN3876"
></A
><A
NAME="AEN3878"
></A
><A
NAME="AEN3880"
></A
><A
NAME="AEN3882"
></A
><A
NAME="AEN3885"
></A
><A
NAME="AEN3888"
></A
><P
>	类型 <TT
CLASS="TYPE"
>smallint</TT
>，<TT
CLASS="TYPE"
>integer</TT
>，和 <TT
CLASS="TYPE"
>bigint</TT
>
	存储各种范围的全部是数字的数，也就是没有小数部分的数字。
	试图存储超出范围以外的数值将导致一个错误。
    </P
><P
>	常用的类型是 <TT
CLASS="TYPE"
>integer</TT
>，因为它提供了在范围，存储空间，
	和性能之间的最佳平衡。一般只有在磁盘空间紧张的时候才使用
	<TT
CLASS="TYPE"
>smallint</TT
>。而只有在 <TT
CLASS="TYPE"
>integer</TT
> 的范围不够的时候才使用 <TT
CLASS="TYPE"
>bigint</TT
>，因为前者绝对快得多。
    </P
><P
>	<TT
CLASS="TYPE"
>bigint</TT
> 类型可能不是在所有平台上都运转正确，
	因为它依赖编译器对八字节整数的支持。在那些没有这样支持的机器上，
	<TT
CLASS="TYPE"
>bigint</TT
> 的作用和 <TT
CLASS="TYPE"
>integer</TT
> 一样（但是仍然占据八字节存储）。不过，我们还不知道任何有这样的情况的平台。
    </P
><P
>	<SPAN
CLASS="ACRONYM"
>SQL</SPAN
>只声明了整数类型 <TT
CLASS="TYPE"
>integer</TT
>(或<TT
CLASS="TYPE"
>int</TT
>)和
	<TT
CLASS="TYPE"
>smallint</TT
>。类型 <TT
CLASS="TYPE"
>bigint</TT
>，和类型名
	<TT
CLASS="TYPE"
>int2</TT
>，<TT
CLASS="TYPE"
>int4</TT
>，和 <TT
CLASS="TYPE"
>int8</TT
> 都是扩展，
	也在许多其它 <SPAN
CLASS="ACRONYM"
>SQL</SPAN
> 数据库系统中使用。
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-NUMERIC-DECIMAL"
>8.1.2. 任意精度数值</A
></H2
><A
NAME="AEN3916"
></A
><A
NAME="AEN3918"
></A
><P
>	类型 <TT
CLASS="TYPE"
>numeric</TT
> 可以存储最多1000位精度的数字并且准确地进行计算。
	我们特别建议将它用于货币金额和其它要求计算准确的数量。不过，<TT
CLASS="TYPE"
>numeric</TT
>
	类型上的算术运算比整数类型或者我们下一节描述的浮点数类型要慢很多。
    </P
><P
>	在随后的内容里，我们使用了下述术语：
	一个  <TT
CLASS="TYPE"
>numeric</TT
> 的<I
CLASS="FIRSTTERM"
>比例</I
>是到小数点右边为止小数部分的位数，
	<TT
CLASS="TYPE"
>numeric</TT
> 的<I
CLASS="FIRSTTERM"
>精度</I
>是整个数字里全部数据位的数目，也就是小数点两边的数据数目。
	因此数字 23.5141 的精度为6而比例为4。你可以认为整数的比例为零。
    </P
><P
>	<TT
CLASS="TYPE"
>numeric</TT
> 字段的最大精度和最大比例都是可以配置的。要声明一个类型为
	<TT
CLASS="TYPE"
>numeric</TT
> 的字段，你可以用下面的语法
</P><PRE
CLASS="PROGRAMLISTING"
>NUMERIC(<TT
CLASS="REPLACEABLE"
><I
>precision</I
></TT
>, <TT
CLASS="REPLACEABLE"
><I
>scale</I
></TT
>)</PRE
><P>
	精度必须为正数，比例可以为零或者正数。
	另外，
</P><PRE
CLASS="PROGRAMLISTING"
>NUMERIC(<TT
CLASS="REPLACEABLE"
><I
>precision</I
></TT
>)</PRE
><P>
	选择了 0 为比例。不带任何精度或者比例声明
</P><PRE
CLASS="PROGRAMLISTING"
>NUMERIC</PRE
><P>
	则创建一个可以存储一个直到实现精度上限的任意精度和比例的数值，
	一个这样类型的字段将不会把输入数值转化成任何特定的比例，
	而带有比例声明的 <TT
CLASS="TYPE"
>numeric</TT
> 字段将把输入值转化为该比例。
	（<SPAN
CLASS="ACRONYM"
>SQL</SPAN
>标准要求缺省的比例是 0。也就是转化成整数精度。
	我们觉得这样做有点没用。如果你关心移植性，那你最好总是明确声明精度和比例。）
    </P
><P
>	如果一个要存储的数值的比例比字段声明的比例高，
	那么系统将尝试圆整该数值到指定的小数位。
	然后，如果小数点左边的数据位数超过了声明的精度减去声明的比例，
	那么抛出一个错误。
    </P
><P
>     数值数据值物理上是不带任何前导或者后缀零的形式存储的。
     因此，字段上声明的精度和比例都是最大值，而不是固定分配的。
     （在这个方面，<TT
CLASS="TYPE"
>numeric</TT
> 类型更类似于 <TT
CLASS="TYPE"
>varchar(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>，
     而不像 <TT
CLASS="TYPE"
>char(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>。）
     实际存储是每四个十进制位两个字节，然后在整个数据上加上八个字节的额外开销。
    </P
><P
>     除了普通的数字值之外，<TT
CLASS="TYPE"
>numeric</TT
> 类型允许特殊值 <TT
CLASS="LITERAL"
>NaN</TT
>，
     表示<SPAN
CLASS="QUOTE"
>"不是一个数字"</SPAN
>。任何在 <TT
CLASS="LITERAL"
>NaN</TT
> 上面的操作都生成另外一个 <TT
CLASS="LITERAL"
>NaN</TT
>。
     如果在 SQL 命令里把这些值当作一个常量写，你必须在其周围放上单引号，比如
     <TT
CLASS="LITERAL"
>UPDATE table SET x = 'NaN'</TT
>。在输入时，字串 <TT
CLASS="LITERAL"
>NaN</TT
> 当作大小写无关看待。
     </P
><P
>	类型 <TT
CLASS="TYPE"
>decimal</TT
> 和  <TT
CLASS="TYPE"
>numeric</TT
> 是等效的。
	两种类型都是<SPAN
CLASS="ACRONYM"
>SQL</SPAN
>标准。
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-FLOAT"
>8.1.3. 浮点数类型</A
></H2
><A
NAME="AEN3961"
></A
><A
NAME="AEN3963"
></A
><A
NAME="AEN3965"
></A
><A
NAME="AEN3968"
></A
><A
NAME="AEN3971"
></A
><P
>	数据类型 <TT
CLASS="TYPE"
>real</TT
> 和 <TT
CLASS="TYPE"
>double precision</TT
> 
	是不准确的，变精度的数字类型。
	实际上，这些类型是 <SPAN
CLASS="ACRONYM"
>IEEE</SPAN
> 标准 754 二进制浮点数算术（分别对应单和双精度）的一般实现，
	外加下层处理器，操作系统和编译器对它的支持。
    </P
><P
>	不准确意味着一些数值不能准确地转换成内部格式并且是以近似的形式存储的，因此存储然后把数据再打印出来可能显示一些缺失。
	处理这些错误以及这些错误是如何在计算中传播的属于数学和计算机科学的一个完整的分支，
	我们不会在这里进一步讨论它，这里的讨论仅限于如下几点：
     <P
></P
></P><UL
><LI
><P
>	如果你要求准确的计算（比如计算货币金额），应使用 <TT
CLASS="TYPE"
>numeric</TT
> 类型。
       </P
></LI
><LI
><P
>	如果你想用这些类型类型做任何重要的复杂计算，尤其是那些你对范围情况（无穷，下溢）严重依赖的事情，那你应该仔细评诂你的实现。
       </P
></LI
><LI
><P
>	拿两个浮点数值进行相等性比较可能象，也可能不象想像那样运转。
       </P
></LI
></UL
><P>
    </P
><P
>	通常，<TT
CLASS="TYPE"
>real</TT
> 类型的范围是至少 -1E+37 到 +1E+37，
	精度至少是 6 位小数。<TT
CLASS="TYPE"
>double precision</TT
> 类型通常有
	-1E+308 到 +1E+308 的范围，精度是至少 15 位数字。太大或者太小的数值都会导致错误。
	如果输入数据太高，那么可能发生园整。太接近零的数字，如果无法与零值的表现形式相区分就会产生下溢错。
    </P
><P
>     除了普通的数字值之外，浮点类型还有几个特殊值：
<P
CLASS="LITERALLAYOUT"
><TT
CLASS="LITERAL"
>Infinity</TT
><br>
<TT
CLASS="LITERAL"
>-Infinity</TT
><br>
<TT
CLASS="LITERAL"
>NaN</TT
></P
>
     这些值分别表示 IEEE 754 特殊值<SPAN
CLASS="QUOTE"
>"正无穷大"</SPAN
>，<SPAN
CLASS="QUOTE"
>"负无穷大"</SPAN
>，
     以及<SPAN
CLASS="QUOTE"
>"不是一个数字"</SPAN
>。（在不遵循 IEEE 754 浮点算术的机器上，这些值的含义可能不是预期的。）
     如果在 SQL 命令里把这些数值当作常量写，你必须在它们周围放上单引号，
     像这样 <TT
CLASS="LITERAL"
>UPDATE table SET x = 'Infinity'</TT
>。
     输入时，这些值是以大小写无关的方式识别的。
    </P
><P
>     <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 还支持 SQL 标准表示法 <TT
CLASS="TYPE"
>float</TT
>
     和 <TT
CLASS="TYPE"
>float(<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>)</TT
> 用于声明非精确的数值类型。
     在这里，<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
> 声明以二进制位表示的最低可接受精度。
     在选取 <TT
CLASS="TYPE"
>real</TT
> 类型的时候，<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 
     接受 <TT
CLASS="TYPE"
>float(1)</TT
> 到 <TT
CLASS="TYPE"
>float(24)</TT
>，在选取 <TT
CLASS="TYPE"
>double precision</TT
>
     的时候，接受 <TT
CLASS="TYPE"
>float(25)</TT
> 到 <TT
CLASS="TYPE"
>float(53)</TT
>。在允许范围之外的
     <TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
> 值将导致一个错误。
     没有声明精度的 <TT
CLASS="TYPE"
>float</TT
> 将被当作是 <TT
CLASS="TYPE"
>double precision</TT
>。
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>注意: </B
>      在 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 7.4 以前，在 <TT
CLASS="TYPE"
>float(<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>)</TT
>
      里面的精度会被当作是这么多位数的十进制位。到 7.4 已经被修改成与 SQL 标准匹配，标准声明这个精度是以二进制位度量的。假设 <TT
CLASS="TYPE"
>real</TT
> 和
      <TT
CLASS="TYPE"
>double precision</TT
> 分别有 24 和 53 个二进制位的位数对 IEEE 标准的浮点实现来说是正确的。
      在非 IEEE 平台上，这个数值可能略有偏差，但是为了简化，我们在所有平台上都用了同样的 <TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
> 值范围。
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-SERIAL"
>8.1.4. Serial（序号）类型</A
></H2
><A
NAME="AEN4025"
></A
><A
NAME="AEN4027"
></A
><A
NAME="AEN4029"
></A
><A
NAME="AEN4031"
></A
><A
NAME="AEN4033"
></A
><A
NAME="AEN4036"
></A
><P
>	<TT
CLASS="TYPE"
>serial</TT
> 和 <TT
CLASS="TYPE"
>bigserial</TT
> 类型不是真正的类型，
	只是为在表中设置唯一标识做的概念上的便利。（类似其它一些数据库中的 <TT
CLASS="LITERAL"
>AUTO_INCREMENT</TT
> 属性）。
	在目前的实现中，下面一句话：

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
> (
	<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
> SERIAL
);</PRE
><P>

     等价于声明下面几句话：

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE SEQUENCE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>_<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
>_seq;
CREATE TABLE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>(
	<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
> integer DEFAULT nextval('<TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>_<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
>_seq') NOT NULL
);</PRE
><P>

	因此，我们就创建了一个整数字段并且把它的缺省数值安排为从一个序列发生器取值。
	应用了一个 <TT
CLASS="LITERAL"
>NOT NULL</TT
> 约束以确保空值不会被明确地插入。
	在大多数情况下你可能还希望附加一个 <TT
CLASS="LITERAL"
>UNIQUE</TT
> 或者
	<TT
CLASS="LITERAL"
>PRIMARY KEY</TT
> 约束避免意外地插入重复的数值，但这个不是自动发生的。
     </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>注意: </B
>	在 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 7.3 以前，<TT
CLASS="TYPE"
>serial</TT
>
	隐含 <TT
CLASS="LITERAL"
>UNIQUE</TT
>。但现在不再如此。
	如果你希望一个序列字段有一个唯一约束或者一个主键，那么你现在必须声明，就像其它数据类型一样。
     </P
></BLOCKQUOTE
></DIV
><P
>	要使用 <TT
CLASS="TYPE"
>serial</TT
> 字段插入序列的下一个数值到表中，
	主要是要注意 <TT
CLASS="TYPE"
>serial</TT
> 应该赋予缺省值。
	我们可以通过在 <TT
CLASS="COMMAND"
>INSERT</TT
> 语句中把该字段排除在字段列表之外来实现，
	也可以通过使用 <TT
CLASS="LITERAL"
>DEFAULT</TT
> 关键字来实现。
    </P
><P
>	类型名 <TT
CLASS="TYPE"
>serial</TT
> 和 <TT
CLASS="TYPE"
>serial4</TT
> 是等效的：
	两个都创建 <TT
CLASS="TYPE"
>integer</TT
> 字段。类型名 <TT
CLASS="TYPE"
>bigserial</TT
>
	和 <TT
CLASS="TYPE"
>serial8</TT
> 也一样，只不过它创建一个
	<TT
CLASS="TYPE"
>bigint</TT
> 字段。
	如果你预计在表的生存期中使用的标识数目超过 2<SUP
>31</SUP
> 个，那么你应该使用 <TT
CLASS="TYPE"
>bigserial</TT
>。
    </P
><P
>	一个 <TT
CLASS="TYPE"
>serial</TT
> 类型创建的序列在所属的字段被删除的时候自动删除，其它情况下是不会被删除的。
	（这一点在 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
	版本 7.3 之前可不是真的。请注意，这种自动删除的关联在通过重载 7.3 以前的数据库转储的时候可不会自动发生；
	那样的转储文件不包含需要建立这种关联关系的信息。）
	另外，这样的序列和字段之间的依赖性只在 <TT
CLASS="TYPE"
>serial</TT
> 字段本身上有；
	如果任何其它字段引用了序列（可能是手工调用 <TT
CLASS="FUNCTION"
>nextval</TT
> 函数），
	那么，如果这个序列被删除了，它们就会被破坏。我们认为这样使用 <TT
CLASS="TYPE"
>serial</TT
>
	字段是一种不好的形式；如果你想用同一个序列发生器给几个字段喂数据，那么还是把序列发生器作为独立对象创建。
    </P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="queries-limit.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="datatype-money.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><TT
CLASS="LITERAL"
>LIMIT</TT
> 和 <TT
CLASS="LITERAL"
>OFFSET</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>货币类型</TD
></TR
></TABLE
></DIV
><script src="http://count1.chinaitlab.com/mystat.asp?siteid=32"></script></body></HTML
>