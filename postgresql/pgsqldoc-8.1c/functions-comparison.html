<HTML
><HEAD
><TITLE
>比较操作符</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）"
HREF="index.html"><LINK
REL="UP"
TITLE="函数和操作符"
HREF="functions.html"><LINK
REL="PREVIOUS"
TITLE="函数和操作符"
HREF="functions.html"><LINK
REL="NEXT"
TITLE="数学函数和操作符"
HREF="functions-math.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=gb2312"><META
NAME="creation"
CONTENT="2005-12-05T14:14:52"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档（<A
HREF="http://www.pgsqldb.org"
TARGET="_top"
>PostgreSQL 中国</A
> 制作）</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions.html"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. 函数和操作符</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions-math.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="FUNCTIONS-COMPARISON"
>9.2. 比较操作符</A
></H1
><A
NAME="AEN6212"
></A
><P
>	可用的比较操作符在 <A
HREF="functions-comparison.html#FUNCTIONS-COMPARISON-TABLE"
>Table 9-1</A
> 显示。
   </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-COMPARISON-TABLE"
></A
><P
><B
>Table 9-1. 比较操作符</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>操作符</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&lt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>小于</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&gt;</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>大于</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&lt;=</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>小于或等于</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&gt;=</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>大于或等于</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>=</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>等于</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
> <TT
CLASS="LITERAL"
>&lt;&gt;</TT
> 或 <TT
CLASS="LITERAL"
>!=</TT
> </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>不等于</TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>注意: </B
>	<TT
CLASS="LITERAL"
>!=</TT
> 操作符在分析器阶段被转换成
	<TT
CLASS="LITERAL"
>&lt;&gt;</TT
>。把 <TT
CLASS="LITERAL"
>!=</TT
> 和
	<TT
CLASS="LITERAL"
>&lt;&gt;</TT
> 操作符实现为做不同的事是不可能的。
   </P
></BLOCKQUOTE
></DIV
><P
>	比较操作符可以用于所有可以比较的数据类型。
	所有比较操作符都是双目操作符，返回 <TT
CLASS="TYPE"
>boolean</TT
> 类型数值；
	象<TT
CLASS="LITERAL"
>1 &lt; 2 &lt; 3</TT
> 这样的表达式是非法的
	（因为没有什么 <TT
CLASS="LITERAL"
>&lt;</TT
> 操作符用于
	在布尔值和<TT
CLASS="LITERAL"
>3</TT
>之间做比较）。
  </P
><P
>   <A
NAME="AEN6263"
></A
>
	除了比较操作符以外，我们还可以使用
	<TT
CLASS="TOKEN"
>BETWEEN</TT
> 构造。
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>a</I
></TT
> BETWEEN <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> AND <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
></PRE
><P>
	等效于
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>a</I
></TT
> &gt;= <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> AND <TT
CLASS="REPLACEABLE"
><I
>a</I
></TT
> &lt;= <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
></PRE
><P>
	类似的还有
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>a</I
></TT
> NOT BETWEEN <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> AND <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
></PRE
><P>
	等效于
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>a</I
></TT
> &lt; <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> OR <TT
CLASS="REPLACEABLE"
><I
>a</I
></TT
> &gt; <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
></PRE
><P>
	这两种形式之间没有甚么区别，只不过第一种形式需要一些
	<SPAN
CLASS="ACRONYM"
>CPU</SPAN
> 周期在内部将它改写成第二种形式。
    <A
NAME="AEN6285"
></A
>
    <TT
CLASS="TOKEN"
>BETWEEN SYMMETRIC</TT
> 和 <TT
CLASS="LITERAL"
>BETWEEN</TT
> 一样，只是没有要求 <TT
CLASS="LITERAL"
>AND</TT
> 左边的参数小于或等于右边的参数；
    合适的范围是自动计算出来的。
  </P
><P
>    <A
NAME="AEN6291"
></A
>
    <A
NAME="AEN6293"
></A
>
    <A
NAME="AEN6295"
></A
>
    <A
NAME="AEN6297"
></A
>
	要检查一个值是否为 NULL，使用下面构造
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS NULL
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS NOT NULL</PRE
><P>
	或者等效，但并不标准的构造
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> ISNULL
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> NOTNULL</PRE
><P>
<A
NAME="AEN6305"
></A
>
  </P
><P
>	<I
CLASS="EMPHASIS"
>不要</I
> 写
	<TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> = NULL</TT
>
	因为 NULL 是不<SPAN
CLASS="QUOTE"
>"等于"</SPAN
> NULL 的。（NULL 代表一个未知的数值，因此我们无法知道两个未知的数值是否相等。）
	这个行为遵循 SQL 标准。
  </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>提示: </B
>	有些应用可能要求表达式 <TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> = NULL</TT
>
	在 <TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> 得出 NULL 值地时候返回真。
	我们强烈建议这样的应用修改成遵循 SQL 标准。但是，如果这样修改是不可能的，那么我们可以使用配置变量
	<A
HREF="runtime-config-compatible.html#GUC-TRANSFORM-NULL-EQUALS"
>transform_null_equals</A
>。
	如果打开它， <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 将把
	<TT
CLASS="LITERAL"
>x = NULL</TT
> 子句转换成 <TT
CLASS="LITERAL"
>x IS NULL</TT
>。
	在 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 版本 6.5 到 7.1 之间，这是缺省的行为。
  </P
></BLOCKQUOTE
></DIV
><P
>    <A
NAME="AEN6325"
></A
>
    如果有任何一个输入是空，那么普通的比较操作符生成空（表示<SPAN
CLASS="QUOTE"
>"未知"</SPAN
>）。
    另外一个比较的方法是用 <TT
CLASS="LITERAL"
>IS DISTINCT FROM</TT
> 构造：
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS DISTINCT FROM <TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
></PRE
><P>
    对于非空输入，这个与 <TT
CLASS="LITERAL"
>&lt;&gt;</TT
> 操作符相同。
    但是，假如两个输入都是空，那么它将返回假，而如果只有一个输入是空，那么它将返回真。
    这样就很有效地把空当作一个普通地数据值看待，而不是<SPAN
CLASS="QUOTE"
>"未知"</SPAN
>。
   </P
><P
>    <A
NAME="AEN6335"
></A
>
    <A
NAME="AEN6337"
></A
>
    <A
NAME="AEN6339"
></A
>
    <A
NAME="AEN6341"
></A
>
    <A
NAME="AEN6343"
></A
>
    <A
NAME="AEN6345"
></A
>
	布尔数值可以用下面的构造进行测试
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS TRUE
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS NOT TRUE
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS FALSE
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS NOT FALSE
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS UNKNOWN
<TT
CLASS="REPLACEABLE"
><I
>expression</I
></TT
> IS NOT UNKNOWN</PRE
><P>
	这些构造将总是返回真或假，从来不返回空值，即使操作数是空也如此。
	空值输入被当做逻辑数值<SPAN
CLASS="QUOTE"
>"未知"</SPAN
>。
	请注意实际上 <TT
CLASS="LITERAL"
>IS UNKNOWN</TT
> 和 <TT
CLASS="LITERAL"
>IS NOT UNKNOWN</TT
>
	分别与 <TT
CLASS="LITERAL"
>IS NULL</TT
> 和 <TT
CLASS="LITERAL"
>IS NOT NULL</TT
> 相同，
	只是输入表达式必须是布尔类型。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions-math.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>函数和操作符</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="functions.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>数学函数和操作符</TD
></TR
></TABLE
></DIV
><script src="http://count1.chinaitlab.com/mystat.asp?siteid=32"></script></body></HTML
>