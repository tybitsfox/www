<html><head><title>我怎样改变我程序的名字(即“ps”看到的名字)？</title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.73" charset="UTF-8"><link rel="HOME" title="UNIX Programming FAQ 中文版 v0.1.0" href="./book1.htm"><link rel="UP" title="进程控制" href="./c46.htm"><link rel="PREVIOUS" title="为什么进程的大小不缩减？" href="./x253.htm"><link rel="NEXT" title="我怎样找到进程的相应可执行文件？" href="./x264.htm"></head><body class="SECT1" alink="#0000ff" bgcolor="#ffffff" link="#0000ff" text="#000000" vlink="#840084"><div class="NAVHEADER"><table summary="Header navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><th colspan="3" align="center">UNIX Programming FAQ 中文版 v0.1.0</th></tr><tr><td align="left" valign="bottom" width="10%"><a href="./x253.htm" accesskey="P">Prev</a></td><td align="center" valign="bottom" width="80%">Chapter 1. 进程控制</td><td align="right" valign="bottom" width="10%"><a href="./x264.htm" accesskey="N">Next</a></td></tr></tbody></table><hr align="left" width="100%"></div><div class="SECT1"><h1 class="SECT1"><a name="AEN258">1.13. 我怎样改变我程序的名字(即“ps”看到的名字)？</a></h1><p>在BSD风格的系统中，‘ps’程序实际上审视运行进程的地址空间从而找到当前
的‘argv[]’，并显示它。这使得程序可以通过简单的修改‘argv[]’以改变它的
名字。
    </p><p>在SysV风格的系统中，命令的名字和参数的一般头80字节是存放在进程的u-区(
u-area)， 所以不能被直接修改。可能有一个系统调用用来修改它(不象是这样)，
但是其它的话，只有一个方法就是实施一个‘exec()’，或者些内核内存(危险，
而且只有root才有可能)。
    </p><p>一些系统(值得注意的是Solaris)可以有‘ps’的两种不同版本，一种是在
‘/usr/bin/ps’拥有SysV的行为，而另一种在‘/usr/ucb/ps’拥有BSD的行为。在
这些系统中，如果你改变‘argv[]’，那么BSD版的‘ps’将反映这个变化，而
SysV版将不会。
    </p><p>检查你的系统是否有一个函数‘setproctitle()’。
    </p></div><div class="NAVFOOTER"><hr align="left" width="100%"><table summary="Footer navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" valign="top" width="33%"><a href="./x253.htm" accesskey="P">Prev</a></td><td align="center" valign="top" width="34%"><a href="./book1.htm" accesskey="H">Home</a></td><td align="right" valign="top" width="33%"><a href="./x264.htm" accesskey="N">Next</a></td></tr><tr><td align="left" valign="top" width="33%">为什么进程的大小不缩减？</td><td align="center" valign="top" width="34%"><a href="./c46.htm" accesskey="U">Up</a></td><td align="right" valign="top" width="33%">我怎样找到进程的相应可执行文件？</td></tr></tbody></table></div></body></html>
