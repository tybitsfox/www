<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<style type="text/css"> <!-- a:link { text-decoration: none} a:visited { text-decoration: none} a:active { text-decoration: none} a:hover { background-color:#ffffff;color:#ff6666 } body { font-family: "arial"; font-size: 9pt} td { font-family: "arial"; font-size: 9pt} 
body{ --SCROLLBAR-FACE-COLOR: #000000; SCROLLBAR-HIGHLIGHT-COLOR: #fffacd; SCROLLBAR-SHADOW-COLOR: #fffacd; SCROLLBAR-3DLIGHT-COLOR: #000000; SCROLLBAR-ARROW-COLOR: #ffffff; SCROLLBAR-TRACK-COLOR: #000000; SCROLLBAR-DARKSHADOW-COLOR: #20253a}
--> </style>
<base target="_self">
<title></title>
</head>
<body background="pic_rai/background.gif" text="#FFFFFF" bgcolor="#000080" link="#FF00FF" vlink="#FF00FF">

<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td><a name="0"></a><img border="0" src="pic/menu03.gif" width="112" height="8"></td>
      <td><img border="0" src="pic/menu01.gif" width="64" height="8"></td>
      <td><img border="0" src="pic/menu03.gif" width="112" height="8"></td>
    </tr>
    <tr>
      <center>
      <td colspan="3">
        <table border="0" cellpadding="0" cellspacing="0" width="100%">
          <tr>
            <td><img border="0" src="pic/menu04.gif" width="16" height="40"></td>
            <td width="25%" align="center"><a href="l2_research01.htm">秘技</a></td> 
          </center> 
            <td width="25%" align="center"><font color="#00FF00">内存数据<br>
              完全解析</font></td> 
            <td width="25%" align="center"><a href="l2_research03.htm">魔法攻防<br>
              详细解析</a></td> 
            <td width="25%" align="center"><b><a href="l2_research04.htm">Bug</a></b></td> 
          <td>  
            <p align="right"><img border="0" src="pic/menu04.gif" width="16" height="40"></td>  
        </tr>  
      </table>  
      </td>  
    </tr>  
    <tr>  
      <td><img border="0" src="pic/menu03.gif" width="112" height="8"></td>  
      <td><img border="0" src="pic/menu02.gif" width="64" height="8"></td>  
      <td><img border="0" src="pic/menu03.gif" width="112" height="8"></td>  
    </tr>  
  </table>  
  </center>  
</div>  
<hr noshade size="1">  
  
<p align="center">梦幻模拟战2&nbsp; （MD）人物内存数据之完全解析</p>       
         
<p align="left">        
作者：<b>ReverseArk</b>（联系：gd_hell@citiz.net）<br>    
<br>    
◇目录<br>   
├<a href="#1">◆前言</a><br>   
├<a href="#2">◆数据分析</a>（<font color="#FFFF00">■</font>PART I ：<a href="#21"><b>Character</b></a><b>&nbsp;</b>    
<font color="#FFFF00">■</font>PART II ：<a href="#22"><b>Item List</b></a>&nbsp;    
<font color="#FFFF00">■</font>PART III ：<a href="#23"><b>Money</b></a>）<br>   
└<a href="#3">◆总结陈词</a></p>      
        
<p align="center"><font color="#FFFF00"><a name="1"></a>■前言&nbsp; </font><a href="#0">（Top）</a></p>     
<p align="left">■ 版权信息<br>         
文中除少部分内容参考了其它资料外（总共三处，详见文章最后的"注1"），其余内容皆为原创。转载时请注明作者信息。<br>         
<br>         
■内容简介<br>         
本文介绍了Langrisser II （MD）中与人物相关的所有内存数据的含义（我方每人120个，敌方每人96个），以及道具表和金钱的内存数据。对于喜欢修改游戏的人来说，本文将是您手边的必备资料；而对于厌恶修改游戏的人来说，我可以告诉您，其实我也不喜欢修改游戏。既然如此，那又为什么要搞出这么一篇长篇大论来？建议您看看文章最后的"总结陈词"，再看看文章的内容，相信您会有所感悟的。<br>         
<br>         
■ 注意事项<br>         
<b><font color="#00FF00">         
1.</font></b> 本人所使用的模拟器为'Megasis 0.06a'，ROM为'Langrisser II 日文版'，所有因模拟器或ROM与此不同所导致的问题，除'Wgens'外，无暇一一顾及，请见谅。          
<br>          
<b><font color="#00FF00">         
2.</font></b> 针对Wgens用户的说明：Wgens的内存地址在一个字（word,      
16bit）上与Megasis有高低字节（byte）先后的不同，具体说明如下：<br>         
<br>         
以下是同样的数据，各位一看便知：</p>        
                                              
<div align="left">      
  <table border="0" cellpadding="2">      
    <tr>      
      <td>在Megasis内存数据表示为：</td>      
      <td>000060a0h： 03 05 00 0A 01 00 0D 14 00 00 00 00 6D 05 00 0A</td>        
    </tr>        
    <tr>        
      <td>在Wgens中内存数据表示为：</td>       
      <td>000060a0h： 05 03 0A 00 00 01 14 0D 00 00 00 00 05 6D 0A 00</td>        
    </tr>        
  </table>        
</div>        
<p align="left">          
因此Wgens的用户在使用本文中的信息修改游戏时，应注意两种模拟器内存地址高字节在前和低字节在前的不同。<br>          
<br>          
<b><font color="#FFFF00">         
P.S.</font></b><br>         
个人认为Megasis的内存地址比较"正常"一点。比如坐标位是先X后Y；装备是先武器，后防具，再饰品，连续的三位数据；而魔法也是连续三位数据。而在Wgens中，坐标是先Y后X；装备是先武器，隔了一个其它数据，再是饰品，再接防具；魔法和装备品一样，被颠三倒四＋ 横插一道。如果是改惯了Wgens的话当然无所谓，反正我是不大习惯啦。<br>          
<br>          
<font color="#00FF00"><b>         
3. </b></font> 本文中的内存数据的地址为Megasis的状态记录文件"?.ST0"，用UltraEdit打开后获得。请注意即使是同样的数据，在不同的模拟器或修改工具上存放的地址很可能不相同，但是各数据间的位移量是相同的，各位可自行推算。比如Megasis，用FPE时显示的地址要比状态文件中的地址后移8字节（byte），但是数据排列顺序都是一样的（因为都是用Megasis）。各位在修改时请注意这个Offset；如果模拟器不同，也不要忘记之前提到的高低字节顺序的问题。<br>        
<br>        
<font color="#FFFF00"><b>        
P.S.</b>&nbsp;</font><br>      
 也许有人不明白为何我要用 state file + UltraEdit 这种手段。因为我用的OS是Windows 2000，不可能运行任何游戏修改工具，包括FPE。因为在Windows 2000下各进程间的内存地址是完全封闭的，其它进程无法进入。比起FPE，这种方法也有好处，那就是万一改出问题来，比如游戏死机，还有得救，只要把状态文件恢复正常，重新读入就行；此外在研究魔法时，这种方法也能带来很多方便。<br>          
<br>          
<font color="#00FF00"><b>         
4.</b></font>        
最后多嘴一句：如果您在阅读本文时，还不曾在不作任何修改，不用任何秘技的情况下把这个游戏至少进行一遍，那么衷心劝您一句――在没有品尝过原汁原味之前，请先不要乱加调料，以免吃的时候变味，弄得不好还要消化不良。<br>         
<br>         
杂七杂八说了一大堆应该不是废话的话，恐怕各位也等得不耐烦了，OK，那么现在开始分析数据。</p>         
                                               
<p align="center"><font color="#FFFF00"><a name="2"></a>■数据分析&nbsp; </font><a href="#0">（Top）</a></p>        
                                              
<p align="left">        
<b><font color="#FFFF00">       
<a name="21"></a>       
PART I：Character&nbsp; </font></b><font color="#FFFF00"></font><a href="#0">（Top）</a><br>        
<br>        
每个角色都有与之相关的数据，我方每个角色的数据为（96 + 24      
=）120个，敌方为96个。由于我方的那96个数据与另外的24个数据存放位置不同，以下分成2部分分别说明。<br>         
<br>         
<b>         
<font color="#FF0000">         
Section 1</font></b><font color="#FF0000">：</font><br>        
<br>        
以下数据来自 Scenario 01，是海恩的数据（在不改变行动顺序的情况下），总计96个。（为什么不用艾尔文的？其实是因为本人对海恩颇有好感，仅此而已。）<br>          
<br>          
描述方法是按照地址一位位解说，必要时会有说明。<br>          
<br>          
各个角色在第1区96个数据的地址会随每一话的出场人数，我方行动顺序等因素而变化（请参考60a4的说明）。但一定是从6040开始，即6040为人物0，60a0为人物1，6100为人物2，以此类推。</p>          
                                                
<div align="left">       
  <table border="0" cellpadding="2">       
    <tr>       
      <td></td>       
      <td>          
0 1 2 3</td>       
      <td>4 5 6 7&nbsp;</td>      
      <td> 8 9 A B</td>       
      <td>C D E F</td>       
    </tr>       
    <tr>       
      <td>000060a0h：<br>       
        000060b0h：<br>       
        000060c0h：<br>       
        000060d0h：<br>       
        000060e0h：<br>       
        000060f0h：&nbsp;</td>       
      <td> 03 05 00 0A&nbsp;&nbsp;&nbsp;<br>         
 01 01 0C 14&nbsp;&nbsp;&nbsp;<br>         
 01 00 00 00&nbsp;&nbsp;&nbsp;<br>         
 6D 05 00 0A&nbsp;&nbsp;<br>         
 01 05 00 00&nbsp;&nbsp;&nbsp;<br>         
 3C 00 00 03&nbsp;</td>       
      <td> 01 00 0D 14<br>       
 00 00 00 00<br>       
 6D 05 00 0A<br>       
        01 04 0D 15<br>       
 05 02 04 02<br>       
 FF 05 00 0A&nbsp;</td>       
      <td> 00 0D 18 1F<br>       
 6D 05 00 0A<br>       
 01 03 0D 13<br>       
 0C 0C 17 0D<br>       
 FF 05 00 0A&nbsp;<br>      
 01 07 00 00</td>        
      <td> 6D 05 00 0A<br>       
        01 02 0E 14<br>       
 00 00 01 00<br>       
 FF 05 00 0A<br>       
 01 06 00 00<br>       
 00 00 00 11</td>        
    </tr>        
  </table>        
</div>        
<p align="left">以下描述中标有"?"的数据，表示用途不明。但是据不可靠观察，这些数据从一开始就一直为00，从来不曾变化过，基本上可以理解为空置。<br>         
<br>         
★ 60a0： 职业；03 表示"魔法师（ウォ