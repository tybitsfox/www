<HTML
><HEAD
>

<TITLE
>pg_proc PostgreSQL 手册</TITLE
><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.64 "><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）" HREF="index.html"><LINK REL="UP" TITLE="系统表" HREF="catalogs.html"><LINK REL="PREVIOUS" TITLE="pg_pltemplate" HREF="catalog-pg-pltemplate.html"><LINK REL="NEXT" TITLE="pg_rewrite" HREF="catalog-pg-rewrite.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312"><META NAME="creation" CONTENT="2006-01-03T05:00:21"></HEAD
><BODY CLASS="SECT1" ><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档</TH
></TR
><TR ><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="catalog-pg-pltemplate.html" >Prev</A
></TD
><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="catalogs.html" >Fast Backward</A
></TD
><TD WIDTH="60%" ALIGN="center" VALIGN="bottom" >Chapter 42. 系统表</TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="catalogs.html" >Fast Forward</A
></TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="catalog-pg-rewrite.html" >Next</A
></TD
></TR
></TABLE
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A NAME="CATALOG-PG-PROC" >42.27. <TT
CLASS="STRUCTNAME"
>pg_proc</TT
></A
></H1
><A NAME="AEN57718" ></A
><P
>	<TT
CLASS="STRUCTNAME"
>pg_proc</TT
> 表存储关于函数（或过程）的信息。
	<A HREF="sql-createfunction.html" ><I
>CREATE FUNCTION</I
></A
> 和
	<A HREF="xfunc.html" >Section 32.3</A
> 包含一些字段含义的更多信息。
  </P
><P
>	该表包含聚集函数和普通函数的数据。
	如果 <TT
CLASS="STRUCTFIELD"
>proisagg</TT
> 为真，那么在
	<TT
CLASS="STRUCTFIELD"
>pg_aggregate</TT
> 里应该有一个匹配行。
  </P
><DIV
CLASS="TABLE"
><A NAME="AEN57727" ></A
><P
><B
>Table 42-27. <TT
CLASS="STRUCTNAME"
>pg_proc</TT
> 字段</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR ><TH
ALIGN="LEFT"
VALIGN="TOP"
>名字</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>类型</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>引用</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
></TR
></THEAD
><TBODY
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proname</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>name</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >函数名字</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>pronamespace</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-namespace.html" ><TT
CLASS="STRUCTNAME"
>pg_namespace</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >	包含该函数名字空间的 OID。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proowner</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-authid.html" ><TT
CLASS="STRUCTNAME"
>pg_authid</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >函数所有者</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>prolang</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-language.html" ><TT
CLASS="STRUCTNAME"
>pg_langauge</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >这个函数的实现语言或调用接口</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proisagg</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>bool</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >函数是聚集函数</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>prosecdef</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>bool</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >函数是一个安全定义器（也就是说，一个<SPAN
CLASS="QUOTE"
>"setuid"</SPAN
>函数）</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proisstrict</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>bool</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >	如果任何调用参数是空，那么函数返回空。这时函数实际上连调用都不调用。
	不是<SPAN
CLASS="QUOTE"
>"strict"</SPAN
>的函数必须准备处理空输入。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proretset</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>bool</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >函数返回一个集合(也就是说，指定数据类型的多个数值)</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>provolatile</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>char</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >	<TT
CLASS="STRUCTFIELD"
>provolatile</TT
> 告诉我们该函数的结果是否只倚赖于它的输入参数，或者还会被外接因素影响。
	对于<SPAN
CLASS="QUOTE"
>"不可变的(immutable)"</SPAN
>函数它是<TT
CLASS="LITERAL"
>i</TT
>，
	这样的函数对于相同的输入总是产生相同的结果。
	对于<SPAN
CLASS="QUOTE"
>"稳定(stable)"</SPAN
>的函数它是 <TT
CLASS="LITERAL"
>s</TT
>，
	(对于固定输入)其结果在一次扫描里不变。
	对于<SPAN
CLASS="QUOTE"
>"易变(volatile)"</SPAN
>函数它是 <TT
CLASS="LITERAL"
>v</TT
>，
	其结果可能在任何时候变化。(<TT
CLASS="LITERAL"
>v</TT
> 也用于那些有副作用的函数，因此调用它们无法得到优化。)
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>pronargs</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>int2</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >参数数目</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>prorettype</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-type.html" ><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >返回值的数据类型</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proargtypes</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oidvector</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-type.html" ><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >      一个存放函数参数的数据类型的数组。数组里只包括输入参数（包括 INOUT 参数），因此代表
      该函数的调用签名（接口）。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proallargtypes</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid[]</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-type.html" ><TT
CLASS="STRUCTNAME"
>pg_type</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >       一个包含函数参数的数据类型的数组。数组里包括所有参数的类型（包括 OUT 和 INOUT 参数）；
       不过，如果所有参数都是 IN 参数，那么这个字段就会是空。
       请注意数组下标是以 1 为起点的，而因为历史原因，<TT
CLASS="STRUCTFIELD"
>proargtypes</TT
> 的下标起点为 0。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proargmodes</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>char[]</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >	一个保存函数参数模式的数组，编码如下：<TT
CLASS="LITERAL"
>i</TT
> 表示 IN 参数，
	<TT
CLASS="LITERAL"
>o</TT
> 表示 OUT 参数，
	<TT
CLASS="LITERAL"
>b</TT
> 表示 INOUT 参数。
	如果所有参数都是 IN 参数，那么这个字段为空。请注意，下标对应的是 <TT
CLASS="STRUCTFIELD"
>proallargtypes</TT
>
	的位置，而不是 <TT
CLASS="STRUCTFIELD"
>proargtypes</TT
>。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proargnames</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>text[]</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >	一个保存函数参数的名字的数组。没有名字的参数在数组里设置为空字串。
	如果没有一个参数有名字，这个字段将是空。
	请注意，此数组的下标对应 <TT
CLASS="STRUCTFIELD"
>proallargtypes</TT
>，而不是 <TT
CLASS="STRUCTFIELD"
>proargtypes</TT
>。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>prosrc</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>text</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >	这个字段告诉函数句柄如何调用该函数。它实际上对于解释语言来说就是函数的源程序，
	或者一个链接符号，一个文件名，或者是任何其他的东西，具体取决于语言/调用习惯的实现。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>probin</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>bytea</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >	关于如何调用该函数的附加信息。同样，其含义也是和语言相关的。
      </TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>proacl</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>aclitem[]</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >访问权限；
       参阅 <A HREF="sql-grant.html" ><I
>GRANT</I
></A
> 和
       <A HREF="sql-revoke.html" ><I
>REVOKE</I
></A
> 获取细节。
      </TD
></TR
></TBODY
></TABLE
></DIV
><P
>	对于内置和动态装载得编译函数，<TT
CLASS="STRUCTFIELD"
>prosrc</TT
> 包含函数的 C 语言名字（链接符号）。
	对于所有其它语言类型，<TT
CLASS="STRUCTFIELD"
>prosrc</TT
> 包含该函数的源文本。
	<TT
CLASS="STRUCTFIELD"
>probin</TT
> 除了用于动态装载的 C 函数之外没有其它用途，
	这个时候它给出包含给函数的共享库的文件名。
  </P
><P
>  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><A HREF="catalog-pg-pltemplate.html" >Prev</A
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="index.html" >Home</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><A HREF="catalog-pg-rewrite.html" >Next</A
></TD
></TR
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><TT
CLASS="STRUCTNAME"
>pg_pltemplate</TT
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="catalogs.html" >Up</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><TT
CLASS="STRUCTNAME"
>pg_rewrite</TT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
><div style="display:none"><script src="http://s7.cnzz.com/stat.php?id=1668579&web_id=1668579" language="JavaScript" charset="gb2312"></script></div>