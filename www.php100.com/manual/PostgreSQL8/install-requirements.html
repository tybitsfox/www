<HTML
><HEAD
>

<TITLE
>要求 PostgreSQL 手册</TITLE
><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.64 "><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）" HREF="index.html"><LINK REL="UP" TITLE="  安装指导" HREF="installation.html"><LINK REL="PREVIOUS" TITLE="  安装指导" HREF="installation.html"><LINK REL="NEXT" TITLE="获取源码" HREF="install-getsource.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312"><META NAME="creation" CONTENT="2006-01-03T05:00:21"></HEAD
><BODY CLASS="SECT1" ><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档</TH
></TR
><TR ><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="installation.html" >Prev</A
></TD
><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="installation.html" >Fast Backward</A
></TD
><TD WIDTH="60%" ALIGN="center" VALIGN="bottom" >Chapter 14. 安装指导</TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="installation.html" >Fast Forward</A
></TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="install-getsource.html" >Next</A
></TD
></TR
></TABLE
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A NAME="INSTALL-REQUIREMENTS" >14.2. 要求</A
></H1
><P
>	一般说来，一个现代的与 Unix 兼容的平台应该就能运行
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>。
	到发布为止已经明确测试过的平台的列表在
	<A HREF="supported-platforms.html" >Section 14.7</A
>列出。
	在发布的 <TT
CLASS="FILENAME"
>doc</TT
> 子目录里面有许多平台相关的
	<SPAN
CLASS="ACRONYM"
>FAQ</SPAN
>，如果你碰到问题你可能会需要参考它们。
  </P
><P
>   制作 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 需要下面几样东西：


   <P
></P
></P><UL
><LI
><P
>     <A NAME="AEN15952" ></A
>

    制作 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 需要 <SPAN
CLASS="ACRONYM"
>GNU</SPAN
> <SPAN
CLASS="APPLICATION"
>make</SPAN
>；
    这个制作过程<I
CLASS="EMPHASIS"
>不能</I
>使用其他的<SPAN
CLASS="APPLICATION"
>make</SPAN
> 程序。
    <SPAN
CLASS="ACRONYM"
>GNU</SPAN
> <SPAN
CLASS="APPLICATION"
>make</SPAN
>常被安装为 <TT
CLASS="FILENAME"
>gmake</TT
>的名字。本文档将一直使用这个名字称呼她。
    （在一些系统上<SPAN
CLASS="ACRONYM"
>GNU</SPAN
> <SPAN
CLASS="APPLICATION"
>make</SPAN
>是名字叫 <TT
CLASS="FILENAME"
>make</TT
>的缺省工具。）要想测试
    <SPAN
CLASS="ACRONYM"
>GNU</SPAN
> <SPAN
CLASS="APPLICATION"
>make</SPAN
>，敲入
</P><PRE
CLASS="SCREEN"
><TT
CLASS="USERINPUT"
><B
>gmake --version</B
></TT
></PRE
><P>
	我们建议使用版本 3.76.1 或者更新的版本。
     </P
></LI
><LI
><P
>    你需要一个 <SPAN
CLASS="ACRONYM"
>ISO</SPAN
>/<SPAN
CLASS="ACRONYM"
>ANSI</SPAN
> C 编译器。我们推荐使用最近版本的
    <SPAN
CLASS="PRODUCTNAME"
>GCC</SPAN
>，不过，众所周知的是 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
    可以利用许多不同厂商的不同编译器进行编译。
     </P
></LI
><LI
><P
>      除了 <SPAN
CLASS="APPLICATION"
>gzip</SPAN
> 和 <SPAN
CLASS="APPLICATION"
>bzip2</SPAN
> 之外，我们还需要
      <SPAN
CLASS="APPLICATION"
>tar</SPAN
> 来解开发布。
     </P
></LI
><LI
><P
>     <A NAME="AEN15982" ></A
>
	缺省时将自动使用 <SPAN
CLASS="ACRONYM"
>GNU</SPAN
> <SPAN
CLASS="PRODUCTNAME"
>Readline</SPAN
>，
	（这样你可以方便地编辑和检索命令历史。）
	如果你不想用它，那么你必需给 <TT
CLASS="FILENAME"
>configure</TT
> 声明
	<TT
CLASS="OPTION"
>--without-readline</TT
> 选项。
	（在 <SPAN
CLASS="PRODUCTNAME"
>NetBSD</SPAN
> 上，<TT
CLASS="FILENAME"
>libedit</TT
> 
	库是 <SPAN
CLASS="PRODUCTNAME"
>readline</SPAN
> 兼容的，
	如果没有发现 <TT
CLASS="FILENAME"
>libreadline</TT
>，则使用这个库。）
	如果你使用的是一个基于包的 Linux 发布，那么要注意你需要 <TT
CLASS="LITERAL"
>readline</TT
> 和
	<TT
CLASS="LITERAL"
>readline-devel</TT
> 两个包，特别是如果这两个包在你的版本里是分开的时候。
     </P
></LI
><LI
><P
>      <A NAME="AEN15996" ></A
>

      缺省的时候将使用 <SPAN
CLASS="PRODUCTNAME"
>zlib</SPAN
> 压缩库。
      如果你不想使用它，那么你必须给 <TT
CLASS="FILENAME"
>configure</TT
> 声明 <TT
CLASS="OPTION"
>--without-zlib</TT
>
      选项。使用这个选项关闭了在 <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> 和 <SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
>
      里面压缩归档的支持。
     </P
></LI
><LI
><P
>     <A NAME="AEN16005" ></A
>

	在 <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
> 上安装 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 需要额外的软件。
	你可以用 <SPAN
CLASS="PRODUCTNAME"
>MinGW</SPAN
> 制作基于 <SPAN
CLASS="PRODUCTNAME"
>NT</SPAN
> （比如 Windows XP 和 2003）
	的 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
> 版本；
	参阅 <TT
CLASS="FILENAME"
>doc/FAQ_MINGW</TT
> 获取细节。
	你也可以用 <SPAN
CLASS="PRODUCTNAME"
>Cygwin</SPAN
> 制作 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>；
	参阅 <TT
CLASS="FILENAME"
>doc/FAQ_CYGWIN</TT
>。
	基于 <SPAN
CLASS="PRODUCTNAME"
>Cygwin</SPAN
> 的制作可以在更老的 <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
> 版本上运转，
	不过如果你可以选择，我们还是建议 <SPAN
CLASS="PRODUCTNAME"
>MinGW</SPAN
> 方法。
	尽管这些是完整制作时我们建议的工具集，但我们还是可以使用其它 <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
> 工具集制作 C 库
	（<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>）和交互终端（<SPAN
CLASS="APPLICATION"
>psql</SPAN
>）。
	更多细节详见 <A HREF="install-win32.html" >Chapter 15</A
>
     </P
></LI
></UL
><P>
  </P
><P
>	下列包是可选的。在缺省配置的时候并不要求它们，但是如果打开了一些制作选项之后就需要它们了，如下面解释的。

   <P
></P
></P><UL
><LI
><P
>	要制作服务器端编程语言 <SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
>，你需要一个完整的<SPAN
CLASS="PRODUCTNAME"
>Perl</SPAN
>安装，
	包括 <TT
CLASS="FILENAME"
>libperl</TT
> 库和头文件。
	因为 <SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
> 是一个共享库，<A NAME="AEN16033" ></A
>
	<TT
CLASS="FILENAME"
>libperl</TT
> 库在大多数平台上也必须是一个共享库。
	最近的版本的 <SPAN
CLASS="PRODUCTNAME"
>Perl</SPAN
> 好像这么做已经是缺省了，但是早先的版本可不是这样的，
	而且这总是是给你安装 <SPAN
CLASS="PRODUCTNAME"
>Perl</SPAN
> 的人的选择。
     </P
><P
>	如果你没有共享库，而你却需要它，那么在制作过程中看到下面的信息，
	指出这个问题：
</P><PRE
CLASS="SCREEN"
>*** Cannot build PL/Perl because libperl is not a shared library.
*** You might have to rebuild your Perl installation.  Refer to
*** the documentation for details.</PRE
><P>
	（如果你不按照屏幕输出的指示去做，那么你只会注意到 <SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
> 库对象，
	<TT
CLASS="FILENAME"
>plperl.so</TT
> 或者类似的什么东西，不会安装到系统里。）
	如果你看到这些东西，那么你就必须重新手工制作并安装
	<SPAN
CLASS="PRODUCTNAME"
>Perl</SPAN
>，这样才能制作 <SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
>。
	在配置 <SPAN
CLASS="PRODUCTNAME"
>Perl</SPAN
> 的过程中，要求一个共享库。
     </P
></LI
><LI
><P
>	要制作 Python 接口模块或者 <SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
> 服务器端编程语言，
	你需要一个 <SPAN
CLASS="PRODUCTNAME"
>Python</SPAN
> 的安装，包括头文件和 <SPAN
CLASS="APPLICATION"
>distutils</SPAN
> 模块。
	对于 <SPAN
CLASS="PRODUCTNAME"
>Python</SPAN
> 1.6 或者更高版本，缺省时就带有 <SPAN
CLASS="APPLICATION"
>distutils</SPAN
> 模块；
	更早版本的 <SPAN
CLASS="PRODUCTNAME"
>Python</SPAN
> 需要自己安装它。
     </P
><P
>	因为 <SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
> 将以共享库的方式制作，
	<A NAME="AEN16055" ></A
> <TT
CLASS="FILENAME"
>libpython</TT
>
	库在大多数平台上也必须是一个共享库。在缺省的 <SPAN
CLASS="PRODUCTNAME"
>Python</SPAN
> 安装时不是这样的。
	如果在制作和安装之后，
	你有一个叫做 <TT
CLASS="FILENAME"
>plpython.so</TT
> 的文件（可能扩展名会有所不同），
	那么一切都好说，否则你应该回看到类似下面的信息飘过：
</P><PRE
CLASS="SCREEN"
>*** Cannot build PL/Python because libpython is not a shared library.
*** You might have to rebuild your Python installation.  Refer to
*** the documentation for details.</PRE
><P>
	这意味着你必须重新制作（一部分）你的 <SPAN
CLASS="PRODUCTNAME"
>Python</SPAN
>，以提供这个共享库。
     </P
><P
>	如果有问题，用 <TT
CLASS="LITERAL"
>--enable-shared</TT
> 标志运行 2.3 或更高版本的 <SPAN
CLASS="PRODUCTNAME"
>Python</SPAN
> 的 configure。
	在有些操作系统上，你不必非要制作一个共享库，不过你需要让 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 的制作系统知道这些。
	参考 <TT
CLASS="FILENAME"
>src/pl/plpython</TT
> 目录的 <TT
CLASS="FILENAME"
>Makefile</TT
> 获取细节。
     </P
></LI
><LI
><P
>	如果你想制作 <SPAN
CLASS="APPLICATION"
>PL/Tcl</SPAN
> 语言，
	你当然需要安装 Tcl 了。
     </P
></LI
><LI
><P
>	要打开本地语言支持 （<SPAN
CLASS="ACRONYM"
>NLS</SPAN
>），也就是说，
	用英语之外的语言显示程序的信息，你需要一个 <SPAN
CLASS="APPLICATION"
>Gettext</SPAN
> <SPAN
CLASS="ACRONYM"
>API</SPAN
>
	的实现。有些操作系统内置了这些（比如 <SPAN
CLASS="SYSTEMITEM"
>Linux</SPAN
>，
	<SPAN
CLASS="SYSTEMITEM"
>NetBSD</SPAN
>， <SPAN
CLASS="SYSTEMITEM"
>Solaris</SPAN
>），
	对于其它系统，你可以从<A HREF="../../../developer.postgresql.org/~petere/bsd-gettext/index.html" TARGET="_top" >http://developer.postgresql.org/~petere/bsd-gettext/</A
>
	下载一个额外的包。如果你在使用 GNU C 库里面的 <SPAN
CLASS="APPLICATION"
>gettext</SPAN
> 实现，
	那么你就额外需要 <SPAN
CLASS="PRODUCTNAME"
>GNU Gettext</SPAN
> 包，因为我们需要里面的几个工具程序。对于任何其它的实现，你应该不需要它。
     </P
></LI
><LI
><P
>	<SPAN
CLASS="APPLICATION"
>Kerberos</SPAN
>，<SPAN
CLASS="PRODUCTNAME"
>OpenSSL</SPAN
>，和/或 <SPAN
CLASS="APPLICATION"
>PAM</SPAN
>，
	如果你想支持使用这些服务的认证或者加密，那你需要这些包。
     </P
></LI
></UL
><P>
  </P
><P
>	如果你从<SPAN
CLASS="ACRONYM"
>CVS</SPAN
>树中制作，而不是使用发布的源代码包，或者你想做一些开发，
	那么你还需要下面的包：

   <P
></P
></P><UL
><LI
><P
>      <A NAME="AEN16092" ></A
>
      <A NAME="AEN16094" ></A
>
      <A NAME="AEN16096" ></A
>

	如果你需要从 CVS 抄出中制作，或者你修改了扫描器和分析器的定义文件，
	那么你需要 GNU <SPAN
CLASS="APPLICATION"
>Flex</SPAN
> 和 <SPAN
CLASS="APPLICATION"
>Bison</SPAN
>。
	如果你需要它们，那么确保自己拿到的是 <SPAN
CLASS="APPLICATION"
>Flex</SPAN
> 2.5.4 或更新的版本，
	以及 <SPAN
CLASS="APPLICATION"
>Bison</SPAN
> 1.875 或者更新的版本。有时候也可以使用其它
	<SPAN
CLASS="APPLICATION"
>yacc</SPAN
> 程序，但是这样做要求额外的工作，因此我们不建议使用。
	其它的 <SPAN
CLASS="APPLICATION"
>lex</SPAN
> 程序肯定是不行的。
     </P
></LI
></UL
><P>
  </P
><P
>    如果你需要获取 <SPAN
CLASS="ACRONYM"
>GNU</SPAN
> 包，你可以在你的本地
    <SPAN
CLASS="ACRONYM"
>GNU</SPAN
> 镜像站点 （看看 <A HREF="../../../www.gnu.org/order/ftp.html" TARGET="_top" >http://www.gnu.org/order/ftp.html</A
>
    或 <A HREF="../../../ftp.gnu.org/gnu/make" TARGET="_top" >ftp://ftp.gnu.org/gnu/make</A
> 找到她们。
  </P
><P
>	请检查一下，看看你是否有足够的磁盘空间。
	你将大概需要近 65MB 用于存放安装过程中的源码树和大约 15 MB 用于安装目录。
	一个空数据库大概需要 25 MB。
	然后在使用过程中大概需要在一个平面文本文件里存放同等数据量数据五倍的空间存储数据。
	如果你要运行回归测试，还临时需要额外的 90MB。请用<TT
CLASS="COMMAND"
>df</TT
>命令检查剩余磁盘空间。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><A HREF="installation.html" >Prev</A
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="index.html" >Home</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><A HREF="install-getsource.html" >Next</A
></TD
></TR
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" >安装指导</TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="installation.html" >Up</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" >获取源码</TD
></TR
></TABLE
></DIV
></BODY
></HTML
><div style="display:none"><script src="http://s7.cnzz.com/stat.php?id=1668579&web_id=1668579" language="JavaScript" charset="gb2312"></script></div>