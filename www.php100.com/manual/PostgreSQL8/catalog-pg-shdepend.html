<HTML
><HEAD
>

<TITLE
>pg_shdepend PostgreSQL 手册</TITLE
><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.64 "><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）" HREF="index.html"><LINK REL="UP" TITLE="系统表" HREF="catalogs.html"><LINK REL="PREVIOUS" TITLE="pg_rewrite" HREF="catalog-pg-rewrite.html"><LINK REL="NEXT" TITLE="pg_statistic" HREF="catalog-pg-statistic.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312"><META NAME="creation" CONTENT="2006-01-03T05:00:21"></HEAD
><BODY CLASS="SECT1" ><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档</TH
></TR
><TR ><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="catalog-pg-rewrite.html" >Prev</A
></TD
><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="catalogs.html" >Fast Backward</A
></TD
><TD WIDTH="60%" ALIGN="center" VALIGN="bottom" >Chapter 42. 系统表</TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="catalogs.html" >Fast Forward</A
></TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="catalog-pg-statistic.html" >Next</A
></TD
></TR
></TABLE
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A NAME="CATALOG-PG-SHDEPEND" >42.29. <TT
CLASS="STRUCTNAME"
>pg_shdepend</TT
></A
></H1
><A NAME="AEN57991" ></A
><P
>   系统表 <TT
CLASS="STRUCTNAME"
>pg_shdepend</TT
> 记录数据库对象和共享对象，比如角色，之间的依赖性关系。
   这些信息允许 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 保证在企图删除这些对象之前，这些对象是没有被引用的。
  </P
><P
>   又见 <A HREF="catalog-pg-depend.html" ><TT
CLASS="STRUCTNAME"
>pg_depend</TT
></A
>，
   这个表作用类似，只是它是用于在一个数据库内部的对象的依赖性关系的。
  </P
><P
>   和其它大多数系统表不同， <TT
CLASS="STRUCTNAME"
>pg_shdepend</TT
> 是在集群里面所有的数据库之间共享的：
   每个数据库集群只有一个 <TT
CLASS="STRUCTNAME"
>pg_shdepend</TT
>，而不是每个数据库一个。
  </P
><DIV
CLASS="TABLE"
><A NAME="AEN58002" ></A
><P
><B
>Table 42-29. <TT
CLASS="STRUCTNAME"
>pg_shdepend</TT
> 字段</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR ><TH
ALIGN="LEFT"
VALIGN="TOP"
>名字</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>类型</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>引用</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>描述</TH
></TR
></THEAD
><TBODY
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>dbid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-database.html" ><TT
CLASS="STRUCTNAME"
>pg_database</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >依赖对象所在的数据库的 OID，如果是共享对象，则为零</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>classid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-class.html" ><TT
CLASS="STRUCTNAME"
>pg_class</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >依赖对象所在的系统表的 OID</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>objid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >任何 OID 字段</TD
><TD ALIGN="LEFT" VALIGN="TOP" >指定的依赖对象的 OID</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>refclassid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="LITERAL"
><A HREF="catalog-pg-class.html" ><TT
CLASS="STRUCTNAME"
>pg_class</TT
></A
>.oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >被引用对象所在的系统表的 OID（必须是一个共享表）</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>refobjid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>oid</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >任意 OID 字段</TD
><TD ALIGN="LEFT" VALIGN="TOP" >指定的被引用对象的 OID</TD
></TR
><TR ><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="STRUCTFIELD"
>deptype</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" ><TT
CLASS="TYPE"
>char</TT
></TD
><TD ALIGN="LEFT" VALIGN="TOP" >&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="TOP" >       一段代码，定义了这个依赖性关系的特定语义；参阅其文本。
      </TD
></TR
></TBODY
></TABLE
></DIV
><P
>   在任何情况下，一条  <TT
CLASS="STRUCTNAME"
>pg_shdepend</TT
> 记录就表面这个被引用的
   对象不能在未删除依赖对象的前提下删除。不过， <TT
CLASS="STRUCTFIELD"
>deptype</TT
> 同时还标出了几种不同的子风格：

   <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="SYMBOL"
>SHARED_DEPENDENCY_OWNER</TT
> (<TT
CLASS="LITERAL"
>o</TT
>)</DT
><DD
><P
>       被引用的对象（必须是一个角色）是依赖对象的所有者。
      </P
></DD
><DT
><TT
CLASS="SYMBOL"
>SHARED_DEPENDENCY_ACL</TT
> (<TT
CLASS="LITERAL"
>a</TT
>)</DT
><DD
><P
>       被引用的对象（必须是一个角色）在依赖对象的 ACL （访问控制列表，也就是权限列表）里提到。
       （<TT
CLASS="SYMBOL"
>SHARED_DEPENDENCY_ACL</TT
> 不会在对象的所有者头上添加的，
       因为所有者会有一个 <TT
CLASS="SYMBOL"
>SHARED_DEPENDENCY_OWNER</TT
> 记录。）
      </P
></DD
><DT
><TT
CLASS="SYMBOL"
>SHARED_DEPENDENCY_PIN</TT
> (<TT
CLASS="LITERAL"
>p</TT
>)</DT
><DD
><P
>       没有依赖对象；这类记录标识系统自身依赖于该被依赖对象，
       因此这样的对象绝对不能被删除。这种类型的记录只是由 <TT
CLASS="COMMAND"
>initdb</TT
>
       创建。这样的依赖对象的字段都是零。
      </P
></DD
></DL
></DIV
><P>

   其它依赖性的风格可能在将来会出现。请注意，目前的定义只是支持把角色当作被引用对象。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><A HREF="catalog-pg-rewrite.html" >Prev</A
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="index.html" >Home</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><A HREF="catalog-pg-statistic.html" >Next</A
></TD
></TR
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><TT
CLASS="STRUCTNAME"
>pg_rewrite</TT
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="catalogs.html" >Up</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><TT
CLASS="STRUCTNAME"
>pg_statistic</TT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
><div style="display:none"><script src="http://s7.cnzz.com/stat.php?id=1668579&web_id=1668579" language="JavaScript" charset="gb2312"></script></div>