<HTML
><HEAD
>

<TITLE
>版本 8.0 PostgreSQL 手册</TITLE
><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.64 "><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）" HREF="index.html"><LINK REL="UP" TITLE="版本" HREF="release.html"><LINK REL="PREVIOUS" TITLE="Release 8.0.1" HREF="release-8-0-1.html"><LINK REL="NEXT" TITLE="Release 7.4.9" HREF="release-7-4-9.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312"><META NAME="creation" CONTENT="2006-01-03T05:00:21"></HEAD
><BODY CLASS="SECT1" ><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档</TH
></TR
><TR ><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="release-8-0-1.html" >Prev</A
></TD
><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="release.html" >Fast Backward</A
></TD
><TD WIDTH="60%" ALIGN="center" VALIGN="bottom" >Appendix E. 版本</TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="release.html" >Fast Forward</A
></TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="release-7-4-9.html" >Next</A
></TD
></TR
></TABLE
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A NAME="RELEASE-8-0" >E.6. 版本 8.0</A
></H1
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>发布日期: </B
>2005-01-19</P
></BLOCKQUOTE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A NAME="AEN73012" >E.6.1. 概述</A
></H2
><P
>    这个版本中的主要变化：

    <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Microsoft Windows 本机服务器</DT
><DD
><P
>        这是第一个可以在 <SPAN
CLASS="PRODUCTNAME"
>Microsoft Windows</SPAN
> 上作为服务器本地运行的
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 版本。
	它可以以 <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
> 服务运行。
	这个版本支持 NT  为基础的 Windows 版本，比如<SPAN
CLASS="PRODUCTNAME"
>Windows 2000</SPAN
>，，<SPAN
CLASS="PRODUCTNAME"
>Windows XP</SPAN
>，
	和 <SPAN
CLASS="PRODUCTNAME"
>Windows 2003</SPAN
>。它不支持更早的版本，比如
	<SPAN
CLASS="PRODUCTNAME"
>Windows 95</SPAN
>，<SPAN
CLASS="PRODUCTNAME"
>Windows 98</SPAN
>，和
	<SPAN
CLASS="PRODUCTNAME"
>Windows ME</SPAN
> 等，因为这些操作系统没有支持 PostgreSQL 的足够的基础设施。
	还有一个独立的安装器项目以简化 <SPAN
CLASS="PRODUCTNAME"
>Windows</SPAN
> 上的安装 &mdash;
	参阅 <A HREF="../../../www.postgresql.org/ftp/win32/index.html" TARGET="_top" >http://www.postgresql.org/ftp/win32/</A
>。
       </P
><P
>	尽管在我们的发布周期里认真测试过，
	但是 Windows 移植仍然没有像 Unix 平台下 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 那么多年的使用经验，
	因此，应该像新产品一样小心对待它。
       </P
><P
>	以前的版本要求 Unix 模拟工具 <SPAN
CLASS="PRODUCTNAME"
>Cygwin</SPAN
> 才能支持 Win32。
	<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 多年来一直支持 Win32 上的本机客户端。
       </P
></DD
><DT
>保存点</DT
><DD
><P
>	保存点允许回滚一个事务的特定部分而不会影响事务其它的部分。
	以前的版本没有这样的功能；除了退出整个事务外，我们无法从事务中的一个语句的失效恢复。
	这个特性用于那些要求复杂的事务控制的应用作者特别有用。
       </P
></DD
><DT
>即时恢复</DT
><DD
><P
>        在以前的版本里，我们没有办法从磁盘崩溃中恢复，
	除非从以前的备份中恢复或者使用一个独立的复制服务器。
	即时恢复允许对服务器进行连续的备份。你既可以恢复到失败那个点，也可以恢复到以前的任意事务。
       </P
></DD
><DT
>表空间</DT
><DD
><P
>	表空间允许管理员选择用于存储表，索引和整个数据库所用的文件系统。
	这样做改善了性能以及提高了对磁盘空间使用的控制。
	以前的版本使用 <TT
CLASS="LITERAL"
>initlocation</TT
> 和手工的符号连接用于这样的任务。
       </P
></DD
><DT
>改进的缓冲区管理，<TT
CLASS="COMMAND"
>CHECKPOINT</TT
>，<TT
CLASS="COMMAND"
>VACUUM</TT
></DT
><DD
><P
>	这个版本有着更聪明的缓冲区替换策略，它可以更好地利用可用地共享缓冲区并且改进性能。
	vacuum和checkpoint对性能的影响也降低了。
       </P
></DD
><DT
>改变字段的类型</DT
><DD
><P
>	现在我们可以用 <TT
CLASS="COMMAND"
>ALTER TABLE</TT
> 修改字段的数据类型。
       </P
></DD
><DT
>新的 Perl 服务器端编程语言</DT
><DD
><P
>	新版本的 <SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
> 服务器端编程语言现在支持永久的，共享存储区，触发器，
	返回记录和记录数组，以及 SPI 调用。
       </P
></DD
><DT
><TT
CLASS="COMMAND"
>COPY</TT
> 里的逗号分隔数值（CSV）支持</DT
><DD
><P
>	<TT
CLASS="COMMAND"
>COPY</TT
> 现在可以读写逗号分隔数值（CSV）文件。它还具有解析非标准引号包围和非标准分隔字符的灵活性。
       </P
></DD
></DL
></DIV
><P>
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A NAME="AEN73071" >E.6.2. 移植到版本 8.0</A
></H2
><P
>    对于使用任何以前版本的用户来说，需要使用 <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> 进行一次转储/恢复。
   </P
><P
>    请注意下列不兼容：

    <P
></P
></P><UL
><LI
><P
>       在 <TT
CLASS="OPTION"
>READ COMMITTED</TT
> 串行化模式里，
       易失函数现在看到的是当前事务在函数内每条语句开始的时候提交的结果，
       而不是调用函数的交互命令开始的时候提交的结果。
      </P
></LI
><LI
><P
>       声明为 <TT
CLASS="OPTION"
>STABLE</TT
> 或者 <TT
CLASS="OPTION"
>IMMUTABLE</TT
> 的函数总是使用调用查询的快照，
       因此无法看到调用查询开始之后的行为的结果，不管是自己事务内部的还是其它事务的。
       这样的函数还必须是只读的，意味着它除了使用 <TT
CLASS="COMMAND"
>SELECT</TT
> 之外不能使用任何其它 SQL 命令。
      </P
></LI
><LI
><P
>       不能推迟的 <TT
CLASS="OPTION"
>AFTER</TT
> 触发器现在是在出发他们的查询结束后立即出发，
       而不是在完成当前交互命令的时候。如果触发触发器的查询在一个函数里，那么就和以前有所不同：
       触发器是在函数继续其下一步操作之前调用的。
      </P
></LI
><LI
><P
>       服务器配置参数 <TT
CLASS="VARNAME"
>virtual_host</TT
> 和 <TT
CLASS="VARNAME"
>tcpip_socket</TT
> 被更通用的参数
       <TT
CLASS="VARNAME"
>listen_addresses</TT
> 取代。还有，现在服务器缺省时在 <TT
CLASS="LITERAL"
>localhost</TT
> 上监听，
       它在很多场合下消除了 postmaster 开关 <TT
CLASS="LITERAL"
>-i</TT
> 的需要。
      </P
></LI
><LI
><P
>	服务器配置参数 <TT
CLASS="VARNAME"
>SortMem</TT
> 和 <TT
CLASS="VARNAME"
>VacuumMem</TT
> 改名为 <TT
CLASS="VARNAME"
>work_mem</TT
> 和 <TT
CLASS="VARNAME"
>maintenance_work_mem</TT
>
	以便更好地反映它们地用途。原来的两个仍然在 <TT
CLASS="COMMAND"
>SET</TT
> 和 <TT
CLASS="COMMAND"
>SHOW</TT
> 里支持。
      </P
></LI
><LI
><P
>       服务器配置参数 <TT
CLASS="VARNAME"
>log_pid</TT
>，<TT
CLASS="VARNAME"
>log_timestamp</TT
>，和 <TT
CLASS="VARNAME"
>log_source_port</TT
> 现在删除掉了，
       用一个更灵活的 <TT
CLASS="VARNAME"
>log_line_prefix</TT
> 替换掉了。
      </P
></LI
><LI
><P
>       服务器配置参数 <TT
CLASS="VARNAME"
>syslog</TT
>，用一个更有逻辑性的 <TT
CLASS="VARNAME"
>log_destination</TT
> 替换掉了，用于配置日志输出目的地。
      </P
></LI
><LI
><P
>       服务器配置参数 <TT
CLASS="VARNAME"
>log_statement</TT
> 修改了一些行为，这样它可以限制只记录数据库修改或者数据定义语句。
       服务器配置参数 <TT
CLASS="VARNAME"
>log_duration</TT
> 现在只是在 <TT
CLASS="VARNAME"
>log_statement</TT
> 打印查询的时候才答应。
      </P
></LI
><LI
><P
>       服务器配置参数 <TT
CLASS="VARNAME"
>max_expr_depth</TT
> 被 <TT
CLASS="VARNAME"
>max_stack_depth</TT
> 替换，它测量的是堆栈的大小，而不是堆栈深度的多少。
       这样就避免了会话因为递规函数导致的堆栈溢出而终止。
      </P
></LI
><LI
><P
>       <TT
CLASS="FUNCTION"
>length()</TT
> 函数不再计算 <TT
CLASS="TYPE"
>CHAR(n)</TT
> 数值里面结尾的空白。
      </P
></LI
><LI
><P
>      把一个整数转换成 <TT
CLASS="TYPE"
>BIT(N)</TT
> 选取最右边 N 位整数，而不是以前的最左边 N 位。
     </P
></LI
><LI
><P
>      现在 UPDATE 一个 NULL 数组的元素或者片断生成一个非空的数组结果，
      也就是一个只包含赋值了的位置的数组。
     </P
></LI
><LI
><P
>	在匹配 GROUP BY 名字的时候，首先优先选择本地的 FROM 字段，然后是 SELECT 的别名和上层子查询的 FROM。
      </P
></LI
><LI
><P
>       数组输入值的语法检查变严了。以前那些在奇怪位置有着奇怪结果的，允许输入的垃圾现在导致一个错误。
       孔字串元素现在必须写成 <TT
CLASS="LITERAL"
>""</TT
>，而不是什么都不写。
       还改变了包围数组元素的空白的行为：末尾的空白现在被忽略，
       开头的也是（总是被忽略）。
      </P
></LI
><LI
><P
>       整数算术操作的溢出现在被检测并会报告一个错误。
      </P
></LI
><LI
><P
>       与单字节数据类型 <TT
CLASS="TYPE"
>"char"</TT
> 关联的算术操作运算符被删除。
      </P
></LI
><LI
><P
>       <TT
CLASS="FUNCTION"
>extract()</TT
> 函数（也叫作 <TT
CLASS="FUNCTION"
>date_part</TT
>）现在给 BC （公元前）的日期返回合适的年份。
       以前它返回比正确年份小一年。现在这个函数也返回正确的千年和世纪值。
      </P
></LI
><LI
><P
>      <TT
CLASS="TYPE"
>CIDR</TT
> 值现在必须是非掩码位为零。比如，我们不再允许
      <TT
CLASS="LITERAL"
>204.248.199.1/31</TT
> 作为一个 <TT
CLASS="TYPE"
>CIDR</TT
> 数值。
      这样的数值将不会被 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 接受并且被拒绝。
      </P
></LI
><LI
><P
>       现在 <TT
CLASS="COMMAND"
>EXECUTE</TT
> 返回一个匹配执行的语句的完成标志。
      </P
></LI
><LI
><P
>       <SPAN
CLASS="APPLICATION"
>psql</SPAN
> 的 <TT
CLASS="COMMAND"
>\copy</TT
> 命令现在读写查询的 <TT
CLASS="LITERAL"
>stdin/stdout</TT
>，
       而不是 <SPAN
CLASS="APPLICATION"
>psql</SPAN
> 的 <TT
CLASS="LITERAL"
>stdin/stdout</TT
>。
       以前的行为可以通过新的 <TT
CLASS="OPTION"
>pstdin</TT
>/<TT
CLASS="OPTION"
>pstdout</TT
> 参数获取。
      </P
></LI
><LI
><P
>      JDBC 客户端接口从核心版本中删除，现在它在 <A HREF="../../../jdbc.postgresql.org/index.html" TARGET="_top" >http://jdbc.postgresql.org</A
>
      承载。
      </P
></LI
><LI
><P
>      Tcl 客户端接口从核心版本中删除，现在有几个 Tcl 接口在
      <A HREF="../../../gborg.postgresql.org/index.html" TARGET="_top" >http://gborg.postgresql.org</A
> 承载。
      </P
></LI
><LI
><P
>       服务器现在使用自己的时区数据库，而不是操作系统使用的那个。
       这样将在不同平台上提供一致的行为。在大多数情况下，时区行为上应该没有什么可见的区别，
       只有 <TT
CLASS="COMMAND"
>SET</TT
>/<TT
CLASS="COMMAND"
>SHOW</TT
> <TT
CLASS="VARNAME"
>TimeZone</TT
> 使用的时区名字可能和你的平台提供的有些区别。
      </P
></LI
><LI
><P
>       <SPAN
CLASS="APPLICATION"
>Configure</SPAN
> 的线程选项不再需要用户运行测试或者编辑配置文件了；线程选项现在是自动探测的。
      </P
></LI
><LI
><P
>       既然已经实现了表空间，<SPAN
CLASS="APPLICATION"
>initlocation</SPAN
> 就删除掉了。
      </P
></LI
><LI
><P
>       The API for user-defined GiST indexes has been changed. The
       Union and PickSplit methods are now passed a pointer to a
       special <TT
CLASS="STRUCTNAME"
>GistEntryVector</TT
> structure,
       rather than a <TT
CLASS="TYPE"
>bytea</TT
>.
      </P
></LI
><LI
><P
>       数组值输入的语法检查处理相应严格化了。以前允许的那些在奇怪位置输入并导致奇怪结果的垃圾现在会生成一个 ERROR。
       空字串值现在必须写成 <TT
CLASS="LITERAL"
>""</TT
>，而不是以前那样可以啥都不写。
       还改变了在数组元素周围包围的空白的行为：结尾的空白现在总是忽略，和开头的空白类似（以前总是忽略）。
      </P
></LI
><LI
><P
>       在 <TT
CLASS="LITERAL"
>READ COMMITTED</TT
> 串行模式下，易失的函数现在看到函数里每个语句开始的时候并发的事务提交的结果，
       而不是调用函数的交互命令开始的时候的东西。
      </P
></LI
><LI
><P
>       声明为 <TT
CLASS="LITERAL"
>STABLE</TT
> 或者 <TT
CLASS="LITERAL"
>IMMUTABLE</TT
> 的函数总是使用调用它的查询的快照，
       因此不会看到在调用查询开始之后的动作的效果，不管是他们自己的事务里面的还是其它事务里面的。
       这样的函数也必须是只读的，这就意味着它不能使用除了 <TT
CLASS="COMMAND"
>SELECT</TT
> 之外的 SQL 命令。
      </P
></LI
><LI
><P
>       不推迟的 AFTER 触发器现在在触发之的查询完成后立即触发，而不是在完成当前的交互命令之后。
       这种做法下，如果触发之的查询发生在一个函数梨，那么就有区别：触发器在函数进行它的下一个操作之前就触发了。
      </P
></LI
></UL
><P>
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A NAME="AEN73197" >E.6.3. 废弃的特性</A
></H2
><P
>    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 的有些方面行为已经认为是不够优化的。
    为了向后兼容，这些东西还没有从 8.0 里面删除，但是我们认为它们已经废弃了并且将在下一个主版本中删除。
    </P
><P
></P
><UL
><LI
><P
>       8.1 版本将删除用于 interval 的 <TT
CLASS="FUNCTION"
>to_char()</TT
> 函数。
     </P
></LI
><LI
><P
>       服务器现在警告传递给 <TT
CLASS="TYPE"
>oid</TT
>/<TT
CLASS="TYPE"
>float4</TT
>/<TT
CLASS="TYPE"
>float8</TT
>
       数据类型的空字串，但是和以前一样把它们解析为零。
       在下一个主版本里，空字串将被认为是这些数据类型的无效输入。
      </P
></LI
><LI
><P
>      缺省时，<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 8.0 以及更早的版本里的表都带着 <TT
CLASS="TYPE"
>OID</TT
> 创建。
      在下一个版本里，情况将<I
CLASS="EMPHASIS"
>不是</I
>这样：要创建一个包含 <TT
CLASS="TYPE"
>OID</TT
> 的表，
      必须声明 <TT
CLASS="LITERAL"
>WITH OIDS</TT
> 子句或者必须打开 <TT
CLASS="VARNAME"
>default_with_oids</TT
> 配置参数。
      如果用户的表因为兼容性原因需要使用 OID，那么我们鼓励用户明确声明 <TT
CLASS="LITERAL"
>WITH OIDS</TT
>，
      这样方便和将来的 <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 版本兼容。
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A NAME="AEN73220" >E.6.4. 修改</A
></H2
><P
>    下面是你会找到的在 8.0 里和以前的主版本之间的变化细节。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73223" >E.6.4.1. 性能改善</A
></H3
><P
></P
><UL
><LI
><P
>      支持跨数据类型的索引使用 (Tom)
     </P
><P
>      在这个改变之前，如果数据类型不是精确匹配，那么许多查询将不能使用索引。
      这个改进令索引的使用更加直观和连贯。
     </P
></LI
><LI
><P
>      改善缓冲得新的缓冲区替换策略 (Jan)
     </P
><P
>      以前的版本使用当前最少使用（LRU）缓冲来保持最近引用过的页面在内存里。
      LRU 算法并不考虑特定缓冲项访问的次数。大表的选择可能会导致缓冲页出局。
      新的缓冲算法使用四个独立的列表以记录最近使用的和最频繁使用的缓冲页，
      并且根据工作负荷动态地优化它们。这样可以让共享的缓冲区的使用更加高效。
      以前测试过共享缓冲区大小的管理员应该重新测试，以便使用新的缓冲替换策略。
     </P
></LI
><LI
><P
>      增加了新的子进程来周期性的写入脏缓冲区以减少 checkpoint 的写入 (Jan)
     </P
><P
>      在以前的版本里，检查点进程会每隔几分钟运行一次，把所有脏缓冲区的数据写到操作系统的缓冲区，
      然后把所有操作系统的脏缓冲区的数据都刷新到磁盘上。
      这样就会导致周期性地磁盘使用高峰，因此也会影响性能。
      新的代码使用一个后台写进程以稳定的步调跟踪磁盘写，这样检查点需要写的脏页面就少得多。
      还有，新的代码并不发出全局的 <TT
CLASS="FUNCTION"
>sync()</TT
> 调用，而只是 <TT
CLASS="FUNCTION"
>fsync()</TT
> 那些自上次检查点以来写入过的文件。
      这样应该可以改善性能并且在检查点的时候最小化性能的下降。
     </P
></LI
><LI
><P
>      增加了拖延 vacuum 的能力，降低了对性能的影响 (Jan)
     </P
><P
>      在繁忙的系统上，<TT
CLASS="COMMAND"
>VACUUM</TT
> 进行大量的 I/O 请求，可能会导致对其它用户的性能的影响。
      这个版本允许你降低 <TT
CLASS="COMMAND"
>VACUUM</TT
> 的速度，这样它就会少用一些资源，
      不过这个会延长 <TT
CLASS="COMMAND"
>VACUUM</TT
> 的时间。
     </P
></LI
><LI
><P
>      改善了重复键字的 B-tree 索引的性能（Dmitry Tkach, Tom）
     </P
><P
>      这个变化改进了索引中存在多个重复值的索引扫描。
     </P
></LI
><LI
><P
>      规划时使用动态生成的表大小估计(Tom)
     </P
><P
>      以前的规划器对表大小的估计使用最后一次 <TT
CLASS="COMMAND"
>VACUUM</TT
> 或者 <TT
CLASS="COMMAND"
>ANALYZE</TT
>
      看到的数值，包括物理表大小（页面数）和行数。
      现在，当前物理表大小是从内核获取的，而行数是用表大小乘以最后一次 <TT
CLASS="COMMAND"
>VACUUM</TT
> 或者
      <TT
CLASS="COMMAND"
>ANALYZE</TT
> 看到的行密度（每页的行数）得到的。
      这样可以获得更可靠的估计，以免自最后一次清理命令以来表的大小有显著改变。
     </P
></LI
><LI
><P
>      改善了带有 <TT
CLASS="LITERAL"
>OR</TT
> 子句的索引使用 (Tom)
     </P
><P
>      这个变化允许优化器在带有许多 OR 子句的语句中使用索引，而在以前是不可能的。
      如果声明了第一个字段并且第二个字段是一个 <TT
CLASS="LITERAL"
>OR</TT
> 字句的一部分，它还可以使用多字段索引。
     </P
></LI
><LI
><P
>      改进部分索引子句的匹配 (Tom)
     </P
><P
>      现在服务器对涉及复杂 <TT
CLASS="OPTION"
>WHERE</TT
> 子句的查询使用部分索引的时候更聪明。
     </P
></LI
><LI
><P
>      改善了 GEQO 优化器的性能 (Tom)
     </P
><P
>      GEQO 优化器用于连接很多表（缺省是十二个）。这个版本提高了分析查询的速度，降低了用于优化的时间。
     </P
></LI
><LI
><P
>      杂项的优化器改进
     </P
><P
>      这里可不够地方列出所有小的改进，但是大量的特例在这个版本里比以前的版本干的要好。
     </P
></LI
><LI
><P
>      改进了 C 函数的装载速度 (Tom)
     </P
><P
>      这个版本现在使用一个散列来查找外部装载的 C 函数的信息。
      这样就改进了他们的装载速度，和那些本身是服务器一部分的内置函数一样快。
     </P
></LI
><LI
><P
>      增加了类型相关的 <TT
CLASS="COMMAND"
>ANALYZE</TT
> 统计功能 (Mark Cave-Ayland)
     </P
><P
>      这个特性允许为非标准数据类型有更灵活的统计生成。
     </P
></LI
><LI
><P
>      <TT
CLASS="COMMAND"
>ANALYZE</TT
> 现在为表达式索引收集统计(Tom)
     </P
><P
>      Expression indexes (also called functional indexes) allow users to
      index not just columns but the results of expressions and function
      calls. With this release, the optimizer can gather and use statistics
      about the contents of expression indexes.  This will greatly improve
      the quality of planning for queries in which an expression index is
      relevant.
     </P
></LI
><LI
><P
>      New two-stage sampling method for <TT
CLASS="COMMAND"
>ANALYZE</TT
> (Manfred Koizar)
     </P
><P
>      This gives better statistics when the density of valid rows is very
      different in different regions of a table.
     </P
></LI
><LI
><P
>      加快了 <TT
CLASS="COMMAND"
>TRUNCATE</TT
> (Tom)
     </P
><P
>      这个修补弥补了一些在 7.4 里观察到的性能丢失，并且仍然保持了 <TT
CLASS="COMMAND"
>TRUNCATE</TT
> 的事务安全性。
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73288" >E.6.4.2. 服务器修改</A
></H3
><P
></P
><UL
><LI
><P
>     增加了 WAL 文件归档和及时恢复 (Simon Riggs)
     </P
></LI
><LI
><P
>     增加了表空间，管理员可以控制磁盘布局 (Gavin)
     </P
></LI
><LI
><P
>      Add a built-in log rotation program (Andreas Pflug)
     </P
><P
>      It is now possible to log server messages conveniently without
      relying on either <SPAN
CLASS="APPLICATION"
>syslog</SPAN
> or an external log
      rotation program.
     </P
></LI
><LI
><P
>      Add new read-only server configuration parameters to show server
      compile-time settings: <TT
CLASS="VARNAME"
>block_size</TT
>,
      <TT
CLASS="VARNAME"
>integer_datetimes</TT
>, <TT
CLASS="VARNAME"
>max_function_args</TT
>,
      <TT
CLASS="VARNAME"
>max_identifier_length</TT
>, <TT
CLASS="VARNAME"
>max_index_keys</TT
>  (Joe)
     </P
></LI
><LI
><P
>      Make quoting of <TT
CLASS="LITERAL"
>sameuser</TT
>, <TT
CLASS="LITERAL"
>samegroup</TT
>, and
      <TT
CLASS="LITERAL"
>all</TT
> remove special meaning of these terms in
      <TT
CLASS="FILENAME"
>pg_hba.conf</TT
> (Andrew)
     </P
></LI
><LI
><P
>      Use clearer IPv6 name <TT
CLASS="LITERAL"
>::1/128</TT
> for
      <TT
CLASS="LITERAL"
>localhost</TT
> in default <TT
CLASS="FILENAME"
>pg_hba.conf</TT
> (Andrew)
     </P
></LI
><LI
><P
>      Use CIDR format in <TT
CLASS="FILENAME"
>pg_hba.conf</TT
> examples (Andrew)
     </P
></LI
><LI
><P
>      Rename server configuration parameters <TT
CLASS="VARNAME"
>SortMem</TT
> and
      <TT
CLASS="VARNAME"
>VacuumMem</TT
> to <TT
CLASS="VARNAME"
>work_mem</TT
> and
      <TT
CLASS="VARNAME"
>maintenance_work_mem</TT
> (Old names still supported) (Tom)
     </P
><P
>      This change was made to clarify that bulk operations such as index and
      foreign key creation use <TT
CLASS="VARNAME"
>maintenance_work_mem</TT
>, while
      <TT
CLASS="VARNAME"
>work_mem</TT
> is for workspaces used during query execution.
     </P
></LI
><LI
><P
>      Allow logging of session disconnections using server configuration parameter
      <TT
CLASS="VARNAME"
>log_disconnections</TT
> (Andrew)
     </P
></LI
><LI
><P
>      Add new server configuration parameter <TT
CLASS="VARNAME"
>log_line_prefix</TT
> to
      allow control of information emitted in each log line (Andrew)
     </P
><P
>      Information includes user name, database name, remote IP address,
      and session start time.
     </P
></LI
><LI
><P
>      Remove server configuration parameters <TT
CLASS="VARNAME"
>log_pid</TT
>,
      <TT
CLASS="VARNAME"
>log_timestamp</TT
>, <TT
CLASS="VARNAME"
>log_source_port</TT
>; functionality
      superseded by <TT
CLASS="VARNAME"
>log_line_prefix</TT
> (Andrew)
     </P
></LI
><LI
><P
>      Replace the <TT
CLASS="VARNAME"
>virtual_host</TT
> and <TT
CLASS="VARNAME"
>tcpip_socket</TT
>
      parameters with a unified <TT
CLASS="VARNAME"
>listen_addresses</TT
> parameter
      (Andrew, Tom)
     </P
><P
>      <TT
CLASS="VARNAME"
>virtual_host</TT
> could only specify a single IP address to
      listen on.  <TT
CLASS="VARNAME"
>listen_addresses</TT
> allows multiple addresses
      to be specified.
     </P
></LI
><LI
><P
>      Listen on localhost by default, which eliminates the need for the
      <TT
CLASS="OPTION"
>-i</TT
> postmaster switch in many scenarios (Andrew)
     </P
><P
>      Listening on localhost (<TT
CLASS="LITERAL"
>127.0.0.1</TT
>) opens no new
      security holes but allows configurations like Windows and JDBC,
      which do not support local sockets, to work without special
      adjustments.
     </P
></LI
><LI
><P
>      Remove <TT
CLASS="VARNAME"
>syslog</TT
> server configuration parameter, and add more
      logical <TT
CLASS="VARNAME"
>log_destination</TT
> variable to control log output
      location (Magnus)
     </P
></LI
><LI
><P
>      Change server configuration parameter <TT
CLASS="VARNAME"
>log_statement</TT
> to take
      values <TT
CLASS="VARNAME"
>all</TT
>, <TT
CLASS="VARNAME"
>mod</TT
>, <TT
CLASS="VARNAME"
>ddl</TT
>, or
      <TT
CLASS="VARNAME"
>none</TT
> to select which queries are logged (Bruce)
     </P
><P
>      This allows administrators to log only data definition changes or
      only data modification statements.
     </P
></LI
><LI
><P
>      Some logging-related configuration parameters could formerly be adjusted
      by ordinary users, but only in the <SPAN
CLASS="QUOTE"
>"more verbose"</SPAN
> direction.
      They are now treated more strictly: only superusers can set them.
      However, a superuser may use <TT
CLASS="COMMAND"
>ALTER USER</TT
> to provide per-user
      settings of these values for non-superusers.  Also, it is now possible
      for superusers to set values of superuser-only configuration parameters
      via <TT
CLASS="LITERAL"
>PGOPTIONS</TT
>.
     </P
></LI
><LI
><P
>      Allow configuration files to be placed outside the data directory (mlw)
     </P
><P
>      By default, configuration files sit in the cluster's top directory.
      With this addition, configuration files can be placed outside the
      data directory, easing administration.
     </P
></LI
><LI
><P
>      Plan prepared queries only when first executed so constants can be
      used for statistics (Oliver Jowett)
     </P
><P
>      Prepared statements plan queries once and execute them many
      times. While prepared queries avoid the overhead of re-planning
      on each use, the quality of the plan suffers from not knowing the exact
      parameters to be used in the query.  In this release, planning of
      unnamed prepared statements is delayed until the first execution,
      and the actual parameter values of that execution are used as
      optimization hints.  This allows use of out-of-line parameter passing
      without incurring a performance penalty.
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>DECLARE CURSOR</TT
> to take parameters (Oliver Jowett)
     </P
><P
>      It is now useful to issue <TT
CLASS="COMMAND"
>DECLARE CURSOR</TT
> in a
      <TT
CLASS="FUNCTION"
>Parse</TT
> message with parameters. The parameter values
      sent at <TT
CLASS="FUNCTION"
>Bind</TT
> time will be substituted into the
      execution of the cursor's query.
     </P
></LI
><LI
><P
>      Fix hash joins and aggregates of <TT
CLASS="TYPE"
>inet</TT
> and <TT
CLASS="TYPE"
>cidr</TT
> data types (Tom)
     </P
><P
>      Release 7.4 handled hashing of mixed <TT
CLASS="TYPE"
>inet</TT
> and
      <TT
CLASS="TYPE"
>cidr</TT
> values incorrectly.  (This bug did not exist
      in prior releases because they wouldn't try to hash either
      data type.)
     </P
></LI
><LI
><P
>      Make <TT
CLASS="VARNAME"
>log_duration</TT
> print only when <TT
CLASS="VARNAME"
>log_statement</TT
>
      prints the query (Ed L.)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73396" >E.6.4.3. Query Changes</A
></H3
><P
></P
><UL
><LI
><P
>      Add savepoints (nested transactions) (Alvaro)
     </P
></LI
><LI
><P
>      Unsupported isolation levels are now accepted and promoted to the
      nearest supported level (Peter)
     </P
><P
>      The SQL specification states that if a database doesn't support a
      specific isolation level, it should use the next more restrictive level.
      This change complies with that recommendation.
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>BEGIN WORK</TT
> to specify transaction isolation levels like
      <TT
CLASS="COMMAND"
>START TRANSACTION</TT
> (Bruce)
     </P
></LI
><LI
><P
>      Fix table permission checking for cases in which rules generate
      a query type different from the originally submitted query (Tom)
     </P
></LI
><LI
><P
>      Implement dollar quoting to simplify single-quote usage (Andrew Tom, David Fetter)
     </P
><P
>      In previous releases, because single quotes had to be used to
      quote a function's body, the use of single quotes inside the
      function text required use of two single quotes or other error-prone
      notations. With this release we add the ability to use "dollar
      quoting" to quote a block of text.  The ability to use different
      quoting delimiters at different nesting levels greatly simplifies
      the task of quoting correctly, especially in complex functions.
      Dollar quoting can be used anywhere quoted text is needed.
     </P
></LI
><LI
><P
>      Make <TT
CLASS="LITERAL"
>CASE val WHEN compval1 THEN ...</TT
> evaluate <TT
CLASS="LITERAL"
>val</TT
> only once (Tom)
     </P
><P
>      <TT
CLASS="OPTION"
>CASE</TT
> no longer evaluates the test expression multiple
      times. This has benefits when the expression is complex or is
      volatile.
     </P
></LI
><LI
><P
>      Test <TT
CLASS="OPTION"
>HAVING</TT
> before computing target list of an
      aggregate query (Tom)
     </P
><P
>      Fixes improper failure of cases such as <TT
CLASS="LITERAL"
>SELECT SUM(win)/SUM(lose)
      ... GROUP BY ... HAVING SUM(lose) &gt; 0</TT
>.  This should work but formerly
      could fail with divide-by-zero.
     </P
></LI
><LI
><P
>      Replace <TT
CLASS="VARNAME"
>max_expr_depth</TT
> parameter with
      <TT
CLASS="VARNAME"
>max_stack_depth</TT
> parameter, measured in kilobytes of stack
      size (Tom)
     </P
><P
>     This gives us a fairly bulletproof defense against crashing due to
     runaway recursive functions. Instead of measuring the depth of expression
     nesting, we now directly measure the size of the execution stack.
     </P
></LI
><LI
><P
>      Allow arbitrary row expressions (Tom)
     </P
><P
>      This release allows SQL expressions to contain arbitrary composite
      types, that is, row values. It also allows functions to more easily
      take rows as arguments and return row values.
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="OPTION"
>LIKE</TT
>/<TT
CLASS="OPTION"
>ILIKE</TT
> to be used as the operator
      in row and subselect comparisons (Fabien Coelho)
     </P
></LI
><LI
><P
>      Avoid locale-specific case conversion of basic ASCII letters in
      identifiers and keywords (Tom)
     </P
><P
>      This solves the <SPAN
CLASS="QUOTE"
>"Turkish problem"</SPAN
> with mangling of words
      containing <TT
CLASS="LITERAL"
>I</TT
> and  <TT
CLASS="LITERAL"
>i</TT
>.  Folding of characters
      outside the 7-bit-ASCII set is still locale-aware.
     </P
></LI
><LI
><P
>      Improve syntax error reporting (Fabien, Tom)
     </P
><P
>      Syntax error reports are more useful than before.
     </P
></LI
><LI
><P
>      Change <TT
CLASS="COMMAND"
>EXECUTE</TT
> to return a completion tag matching the executed statement
      (Kris Jurka)
     </P
><P
>      Previous releases return an <TT
CLASS="COMMAND"
>EXECUTE</TT
> tag for any <TT
CLASS="COMMAND"
>EXECUTE</TT
> call. In
      this release, the tag returned will reflect the command executed.
     </P
></LI
><LI
><P
>      Avoid emitting <TT
CLASS="OPTION"
>NATURAL CROSS JOIN</TT
> in rule listings (Tom)
     </P
><P
>      Such a clause makes no logical sense, but in some cases the rule
      decompiler formerly produced this syntax.
     </P
></LI
><LI
><P
>      Allow arbitrary row expressions (Tom)
     </P
><P
>      This allows columns to contain arbitrary composite types like rows
      from other tables. It also allows functions to more easily take
      rows as arguments and return row values.
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73458" >E.6.4.4. Object Manipulation Changes</A
></H3
><P
></P
><UL
><LI
><P
>      Add <TT
CLASS="COMMAND"
>COMMENT ON</TT
> for casts, conversions, languages,
      operator classes, and large objects (Christopher)
     </P
></LI
><LI
><P
>      Add new server configuration parameter <TT
CLASS="VARNAME"
>default_with_oids</TT
> to
      control whether tables are created with <TT
CLASS="TYPE"
>OID</TT
>s by default (Neil)
     </P
><P
>      This allows administrators to control whether <TT
CLASS="COMMAND"
>CREATE
      TABLE</TT
> commands create tables with or without <TT
CLASS="TYPE"
>OID</TT
>
      columns by default.  (Note: the current factory default setting for
      <TT
CLASS="VARNAME"
>default_with_oids</TT
> is <TT
CLASS="LITERAL"
>TRUE</TT
>, but the default
      will become <TT
CLASS="LITERAL"
>FALSE</TT
> in future releases.)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>WITH</TT
> / <TT
CLASS="OPTION"
>WITHOUT OIDS</TT
> clause to
      <TT
CLASS="COMMAND"
>CREATE TABLE AS</TT
> (Neil)
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>ALTER TABLE DROP COLUMN</TT
> to drop an <TT
CLASS="TYPE"
>OID</TT
>
      column (<TT
CLASS="COMMAND"
>ALTER TABLE SET WITHOUT OIDS</TT
> still works)
      (Tom)
     </P
></LI
><LI
><P
>      Allow composite types as table columns (Tom)
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>ALTER ... ADD COLUMN</TT
> with defaults and
      <TT
CLASS="OPTION"
>NOT NULL</TT
> constraints; works per SQL spec (Rod)
     </P
><P
>      It is now possible for <TT
CLASS="OPTION"
>ADD COLUMN</TT
> to create a column
      that is not initially filled with NULLs, but with a specified
      default value.
     </P
></LI
><LI
><P
>      Add <TT
CLASS="COMMAND"
>ALTER COLUMN TYPE</TT
> to change column's type (Rod)
     </P
><P
>      It is now possible to alter a column's data type without dropping
      and re-adding the column.
     </P
></LI
><LI
><P
>      Allow multiple <TT
CLASS="COMMAND"
>ALTER</TT
> actions in a single <TT
CLASS="COMMAND"
>ALTER
      TABLE</TT
> command (Rod)
     </P
><P
>      This is particularly useful for <TT
CLASS="COMMAND"
>ALTER</TT
> commands that
      rewrite the table (which include <TT
CLASS="OPTION"
>ALTER COLUMN TYPE</TT
> and
      <TT
CLASS="OPTION"
>ADD COLUMN</TT
> with a default). By grouping
      <TT
CLASS="COMMAND"
>ALTER</TT
> commands together, the table need be rewritten
      only once.
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>ALTER TABLE</TT
> to add <TT
CLASS="TYPE"
>SERIAL</TT
>
      columns (Tom)
     </P
><P
>      This falls out from the new capability of specifying defaults for new
      columns.
     </P
></LI
><LI
><P
>      Allow changing the owners of aggregates, conversions, databases,
      functions, operators, operator classes, schemas, types, and tablespaces
      (Christopher, Euler Taveira de Oliveira)
     </P
><P
>      Previously this required modifying the system tables directly.
     </P
></LI
><LI
><P
>      Allow temporary object creation to be limited to <TT
CLASS="OPTION"
>SECURITY
      DEFINER</TT
> functions (Sean Chittenden)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>ALTER TABLE ... SET WITHOUT CLUSTER</TT
> (Christopher)
     </P
><P
>      Prior to this release, there was no way to clear an auto-cluster
      specification except to modify the system tables.
     </P
></LI
><LI
><P
>      Constraint/Index/<TT
CLASS="TYPE"
>SERIAL</TT
> names are now
      <TT
CLASS="REPLACEABLE"
><I
>table_column_type</I
></TT
>
      with numbers appended to guarantee uniqueness within the schema
      (Tom)
     </P
><P
>      The SQL specification states that such names should be unique
      within a schema.
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>pg_get_serial_sequence()</TT
> to return a
      <TT
CLASS="TYPE"
>SERIAL</TT
> column's sequence name (Christopher)
     </P
><P
>      This allows automated scripts to reliably find the <TT
CLASS="TYPE"
>SERIAL</TT
>
      sequence name.
     </P
></LI
><LI
><P
>      Warn when primary/foreign key data type mismatch requires costly lookup
     </P
></LI
><LI
><P
>      New <TT
CLASS="COMMAND"
>ALTER INDEX</TT
> command to allow moving of indexes
      between tablespaces (Gavin)
     </P
></LI
><LI
><P
>      Make <TT
CLASS="COMMAND"
>ALTER TABLE OWNER</TT
> change dependent sequence
      ownership too (Alvaro)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73539" >E.6.4.5. Utility Command Changes</A
></H3
><P
></P
><UL
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>CREATE SCHEMA</TT
> to create triggers, indexes, and sequences (Neil)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>ALSO</TT
> keyword to <TT
CLASS="COMMAND"
>CREATE RULE</TT
> (Fabien
      Coelho)
     </P
><P
>      This allows <TT
CLASS="OPTION"
>ALSO</TT
> to be added to rule creation to contrast it with
      <TT
CLASS="OPTION"
>INSTEAD</TT
> rules.
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>NOWAIT</TT
> option to <TT
CLASS="COMMAND"
>LOCK</TT
> (Tatsuo)
     </P
><P
>      This allows the <TT
CLASS="COMMAND"
>LOCK</TT
> command to fail if it would have to wait for
      the requested lock.
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="COMMAND"
>COPY</TT
> to read and write comma-separated-value (CSV) files (Andrew, Bruce)
     </P
></LI
><LI
><P
>      Generate error if the <TT
CLASS="COMMAND"
>COPY</TT
> delimiter and NULL
      string conflict (Bruce)
     </P
></LI
><LI
><P
>      <TT
CLASS="COMMAND"
>GRANT</TT
>/<TT
CLASS="COMMAND"
>REVOKE</TT
> behavior follows the SQL spec more closely
     </P
></LI
><LI
><P
>      Avoid locking conflict between <TT
CLASS="COMMAND"
>CREATE INDEX</TT
> and <TT
CLASS="COMMAND"
>CHECKPOINT</TT
> (Tom)
     </P
><P
>      In 7.3 and 7.4, a long-running B-tree index build could block concurrent
      <TT
CLASS="COMMAND"
>CHECKPOINT</TT
>s from completing, thereby causing WAL bloat because the
      WAL log could not be recycled.
     </P
></LI
><LI
><P
>      Database-wide <TT
CLASS="COMMAND"
>ANALYZE</TT
> does not hold locks across tables (Tom)
     </P
><P
>      This reduces the potential for deadlocks against other backends that
      want exclusive locks on tables.  To get the benefit of this change,
      do not execute database-wide <TT
CLASS="COMMAND"
>ANALYZE</TT
> inside a transaction block
      (<TT
CLASS="COMMAND"
>BEGIN</TT
> block); it must be able to commit and start a new transaction
      for each table.
     </P
></LI
><LI
><P
>      Generate error if the COPY delimiter and NULL string conflict (Bruce)
     </P
></LI
><LI
><P
>      Allow COPY to read comma-separated-value (CSV) files (Andrew, Bruce)
     </P
></LI
><LI
><P
>      <TT
CLASS="COMMAND"
>REINDEX</TT
> does not exclusively lock the index's
      parent table anymore
     </P
><P
>      The index itself is still exclusively locked, but readers of the
      table can continue if they are not using the particular index
      being rebuilt.
     </P
></LI
><LI
><P
>      Erase MD5 user passwords when a user is renamed (Bruce)
     </P
><P
>      <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> uses the user name as salt
      when encrypting passwords via MD5. When a user's name is changed,
      the salt will no longer match the stored MD5 password, so the
      stored password becomes useless.  In this release a notice is
      generated and the password is cleared.  A new password must then
      be assigned if the user is to be able to log in with a password.
     </P
></LI
><LI
><P
>      New <SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
> <TT
CLASS="OPTION"
>kill</TT
> option for Windows (Andrew)
     </P
><P
>      Windows does not have a <TT
CLASS="LITERAL"
>kill</TT
> command to send signals to
      backends so this capability was added to <SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>.
     </P
></LI
><LI
><P
>      Information schema improvements
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>--pwfile</TT
> option to
      <SPAN
CLASS="APPLICATION"
>initdb</SPAN
> so the initial password can be
      set by GUI tools (Magnus)
     </P
></LI
><LI
><P
>      Detect locale/encoding mismatch in <SPAN
CLASS="APPLICATION"
>initdb</SPAN
> (Peter)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>register</TT
> command to <SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
> to
      register Windows operating system service (Dave Page)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73612" >E.6.4.6. Data Type and Function Changes</A
></H3
><P
></P
><UL
><LI
><P
>      More complete support for composite types (row types)  (Tom)
     </P
><P
>      Composite values can be used in many places where only scalar values
      worked before.
     </P
></LI
><LI
><P
>      Reject non-rectangular array literals as erroneous (Joe)
     </P
><P
>      Formerly, <TT
CLASS="FUNCTION"
>array_in</TT
> would silently build a
      surprising result.
     </P
></LI
><LI
><P
>       Overflow in integer arithmetic operations is now detected (Tom)
      </P
></LI
><LI
><P
>       The arithmetic operators associated with the single-byte
       <TT
CLASS="TYPE"
>"char"</TT
> data type have been removed.
      </P
><P
>       Formerly, the parser would select these operators in many situations
       where an <SPAN
CLASS="QUOTE"
>"unable to select an operator"</SPAN
> error would be more
       appropriate, such as <TT
CLASS="LITERAL"
>null * null</TT
>.  If you actually want
       to do arithmetic on a <TT
CLASS="TYPE"
>"char"</TT
> column, you can cast it to
       integer explicitly.
      </P
></LI
><LI
><P
>       Syntax checking of array input processing considerably tighened up (Joe)
      </P
><P
>       Junk that was previously allowed in odd places with odd results
       now causes an <TT
CLASS="LITERAL"
>ERROR</TT
>, for example, non-whitespace
       after the closing right brace.
     </P
></LI
><LI
><P
>       Empty-string array element values must now be written as
       <TT
CLASS="LITERAL"
>""</TT
>, rather than writing nothing (Joe)
      </P
><P
>       Formerly, both ways of writing an empty-string element value were
       allowed, but now a quoted empty string is required.  The case where
       nothing at all appears will probably be considered to be a NULL
       element value in some future release.
     </P
></LI
><LI
><P
>       Array element trailing whitespace is now ignored (Joe)
      </P
><P
>       Formerly leading whitespace was ignored, but trailing whitespace
       between an element and the delimiter or right brace was significant.
       Now trailing whitespace is also ignored.
      </P
></LI
><LI
><P
>      Emit array values with explicit array bounds when lower bound is not one
      (Joe)
     </P
></LI
><LI
><P
>      Accept <TT
CLASS="LITERAL"
>YYYY-monthname-DD</TT
> as a date string (Tom)
     </P
></LI
><LI
><P
>      Make <TT
CLASS="FUNCTION"
>netmask</TT
> and <TT
CLASS="FUNCTION"
>hostmask</TT
> functions
      return maximum-length mask length (Tom)
     </P
></LI
><LI
><P
>      Change factorial function to return <TT
CLASS="TYPE"
>numeric</TT
> (Gavin)
     </P
><P
>      Returning <TT
CLASS="TYPE"
>numeric</TT
> allows the factorial function to work for a wider
      range of input values.
     </P
></LI
><LI
><P
>      <TT
CLASS="FUNCTION"
>to_char</TT
>/<TT
CLASS="FUNCTION"
>to_date()</TT
> date conversion
      improvements (Kurt Roeckx, Fabien Coelho)
     </P
></LI
><LI
><P
>      Make <TT
CLASS="FUNCTION"
>length()</TT
> disregard trailing spaces in
      <TT
CLASS="TYPE"
>CHAR(n)</TT
> (Gavin)
     </P
><P
>      This change was made to improve consistency: trailing spaces are
      semantically insignificant in <TT
CLASS="TYPE"
>CHAR(n)</TT
> data, so they
      should not be counted by <TT
CLASS="FUNCTION"
>length()</TT
>.
     </P
></LI
><LI
><P
>      Warn about empty string being passed to
      <TT
CLASS="TYPE"
>OID</TT
>/<TT
CLASS="TYPE"
>float4</TT
>/<TT
CLASS="TYPE"
>float8</TT
> data types (Neil)
     </P
><P
>      8.1 will throw an error instead.
     </P
></LI
><LI
><P
>      Allow leading or trailing whitespace in
      <TT
CLASS="TYPE"
>int2</TT
>/<TT
CLASS="TYPE"
>int4</TT
>/<TT
CLASS="TYPE"
>int8</TT
>/<TT
CLASS="TYPE"
>float4</TT
>/<TT
CLASS="TYPE"
>float8</TT
>
      input routines
      (Neil)
     </P
></LI
><LI
><P
>      Better support for IEEE <TT
CLASS="LITERAL"
>Infinity</TT
> and <TT
CLASS="LITERAL"
>NaN</TT
>
      values in <TT
CLASS="TYPE"
>float4</TT
>/<TT
CLASS="TYPE"
>float8</TT
> (Neil)
     </P
><P
>      These should now work on all platforms that support IEEE-compliant
      floating point arithmetic.
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>week</TT
> option to <TT
CLASS="FUNCTION"
>date_trunc()</TT
> (Robert Creager)
     </P
></LI
><LI
><P
>      Fix <TT
CLASS="FUNCTION"
>to_char</TT
> for <TT
CLASS="LITERAL"
>1 BC</TT
>
      (previously it returned <TT
CLASS="LITERAL"
>1 AD</TT
>) (Bruce)
     </P
></LI
><LI
><P
>      Fix to_char for 1 BC (previously it returned 1 AD) (Bruce)
     </P
></LI
><LI
><P
>      Fix <TT
CLASS="FUNCTION"
>date_part(year)</TT
> for BC dates (previously it
      returned one less than the correct year) (Bruce)
     </P
></LI
><LI
><P
>      Fix <TT
CLASS="FUNCTION"
>date_part()</TT
> to return the proper millennium and
      century (Fabien Coelho)
     </P
><P
>      In previous versions, the century and millennium results had a wrong
      number and started in the wrong year, as compared to standard
      reckoning of such things.
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>ceiling()</TT
> as an alias for <TT
CLASS="FUNCTION"
>ceil()</TT
>,
      and <TT
CLASS="FUNCTION"
>power()</TT
> as an alias for <TT
CLASS="FUNCTION"
>pow()</TT
> for
      standards compliance (Neil)
     </P
></LI
><LI
><P
>      Change <TT
CLASS="FUNCTION"
>ln()</TT
>, <TT
CLASS="FUNCTION"
>log()</TT
>,
      <TT
CLASS="FUNCTION"
>power()</TT
>, and <TT
CLASS="FUNCTION"
>sqrt()</TT
> to emit the correct
      <TT
CLASS="LITERAL"
>SQLSTATE</TT
> error codes for certain error conditions, as
      specified by SQL:2003 (Neil)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>width_bucket()</TT
> function as defined by SQL:2003 (Neil)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>generate_series()</TT
> functions to simplify working
      with numeric sets (Joe)
     </P
></LI
><LI
><P
>      Fix <TT
CLASS="FUNCTION"
>upper/lower/initcap()</TT
> functions to work with
      multibyte encodings (Tom)
     </P
></LI
><LI
><P
>      Add boolean and bitwise integer <TT
CLASS="OPTION"
>AND</TT
>/<TT
CLASS="OPTION"
>OR</TT
>
      aggregates (Fabien Coelho)
     </P
></LI
><LI
><P
>      New session information functions to return network addresses for client
      and server (Sean Chittenden)
     </P
></LI
><LI
><P
>      Add function to determine the area of a closed path (Sean Chittenden)
     </P
></LI
><LI
><P
>      Add function to send cancel request to other backends (Magnus)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="TYPE"
>interval</TT
> plus <TT
CLASS="TYPE"
>datetime</TT
> operators (Tom)
     </P
><P
>      The reverse ordering, <TT
CLASS="TYPE"
>datetime</TT
> plus <TT
CLASS="TYPE"
>interval</TT
>,
      was already supported, but both are required by the SQL standard.
     </P
></LI
><LI
><P
>      Casting an integer to <TT
CLASS="TYPE"
>BIT(N)</TT
> selects the rightmost N bits
      of the integer
      (Tom)
     </P
><P
>      In prior releases, the leftmost N bits were selected, but this was
      deemed unhelpful, not to mention inconsistent with casting from bit
      to int.
     </P
></LI
><LI
><P
>      Require <TT
CLASS="TYPE"
>CIDR</TT
> values to have all nonmasked bits be zero
      (Kevin Brintnall)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73751" >E.6.4.7. 服务器端语言变化</A
></H3
><P
></P
><UL
><LI
><P
>       在 <TT
CLASS="LITERAL"
>READ COMMITTED</TT
> 串行模式下，易失的函数现在看到函数里每个语句开始的时候并发的事务提交的结果，
       而不是调用函数的交互命令开始的时候的东西。
      </P
></LI
><LI
><P
>       声明为 <TT
CLASS="LITERAL"
>STABLE</TT
> 或者 <TT
CLASS="LITERAL"
>IMMUTABLE</TT
> 的函数总是使用调用它的查询的快照，
       因此不会看到在调用查询开始之后的动作的效果，不管是他们自己的事务里面的还是其它事务里面的。
       这样的函数也必须是只读的，这就意味着它不能使用除了 <TT
CLASS="COMMAND"
>SELECT</TT
> 之外的 SQL 命令。
       把函数声明为 <TT
CLASS="LITERAL"
>STABLE</TT
> 或者 <TT
CLASS="LITERAL"
>IMMUTABLE</TT
> 而不是 <TT
CLASS="LITERAL"
>VOLATILE</TT
>
       有可观的性能提升。
      </P
></LI
><LI
><P
>       不推迟的 <TT
CLASS="OPTION"
>AFTER</TT
> 触发器现在在触发之的查询完成后立即触发，而不是在完成当前的交互命令之后。
       这种做法下，如果触发之的查询发生在一个函数梨，那么就有区别：触发器在函数进行它的下一个操作之前就触发了。
       比如，如果一个函数向一个表里插入了一个新行，那么任何未推迟的外键检查将在函数继续之前发生。
     </P
></LI
><LI
><P
>      Allow function parameters to be declared with names (Dennis Bjorklund)
     </P
><P
>      This allows better documentation of functions.  Whether the names
      actually do anything depends on the specific function language
      being used.
     </P
></LI
><LI
><P
>      Allow PL/pgSQL parameter names to be referenced in the function (Dennis Bjorklund)
     </P
><P
>      This basically creates an automatic alias for each named parameter.
     </P
></LI
><LI
><P
>      Do minimal syntax checking of PL/pgSQL functions at creation time (Tom)
     </P
><P
>      This allows us to catch simple errors sooner.
     </P
></LI
><LI
><P
>      More support for composite types (row and record variables) in PL/pgSQL
     </P
><P
>      For example, it now works to pass a rowtype variable to another function
      as a single variable.
     </P
></LI
><LI
><P
>      Default values for PL/pgSQL variables can now reference previously
      declared variables
     </P
></LI
><LI
><P
>      Improve parsing of PL/pgSQL FOR loops (Tom)
     </P
><P
>      Parsing is now driven by presence of <TT
CLASS="LITERAL"
>".."</TT
> rather than datatype of <TT
CLASS="OPTION"
>FOR</TT
>
      variable.  This makes no difference for correct functions, but should
      result in more understandable error messages when a mistake is made.
     </P
></LI
><LI
><P
>     Major overhaul of PL/Perl server-side language (Command Prompt, Andrew Dunstan)
     </P
></LI
><LI
><P
>      In PL/Tcl, SPI commands are now run in subtransactions.  If an error
      occurs, the subtransaction is cleaned up and the error is reported
      as an ordinary Tcl error, which can be trapped with <TT
CLASS="LITERAL"
>catch</TT
>.
      Formerly, it was not possible to catch such errors.
     </P
></LI
><LI
><P
>      Accept <TT
CLASS="COMMAND"
>ELSEIF</TT
> in PL/pgSQL (Neil)
     </P
><P
>      Previously PL/pgSQL only allowed <TT
CLASS="COMMAND"
>ELSIF</TT
>, but many people
      are accustomed to spelling this keyword <TT
CLASS="COMMAND"
>ELSEIF</TT
>.
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73798" >E.6.4.8. <SPAN
CLASS="APPLICATION"
>psql</SPAN
> 变化</A
></H3
><P
></P
><UL
><LI
><P
>      Improve <SPAN
CLASS="APPLICATION"
>psql</SPAN
> information display about database
      objects (Christopher)
     </P
></LI
><LI
><P
>      Allow <SPAN
CLASS="APPLICATION"
>psql</SPAN
> to display group membership in
      <TT
CLASS="COMMAND"
>\du</TT
> and <TT
CLASS="COMMAND"
>\dg</TT
> (Markus Bertheau)
     </P
></LI
><LI
><P
>      Prevent <SPAN
CLASS="APPLICATION"
>psql</SPAN
> <TT
CLASS="COMMAND"
>\dn</TT
> from showing
      temporary schemas (Bruce)
     </P
></LI
><LI
><P
>      Allow <SPAN
CLASS="APPLICATION"
>psql</SPAN
> to handle tilde user expansion for file
      names (Zach Irmen)
     </P
></LI
><LI
><P
>      Allow <SPAN
CLASS="APPLICATION"
>psql</SPAN
> to display fancy prompts, including
      color, via <SPAN
CLASS="APPLICATION"
>readline</SPAN
> (Reece Hart, Chet Ramey)
     </P
></LI
><LI
><P
>      Make <SPAN
CLASS="APPLICATION"
>psql</SPAN
> <TT
CLASS="COMMAND"
>\copy</TT
> match <TT
CLASS="COMMAND"
>COPY</TT
> command syntax
     </P
></LI
><LI
><P
>      Show the location of syntax errors (Fabien Coelho, Tom)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="COMMAND"
>CLUSTER</TT
> information to <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
      <TT
CLASS="COMMAND"
>\d</TT
> display
     </P
></LI
><LI
><P
>      Change <SPAN
CLASS="APPLICATION"
>psql</SPAN
> <TT
CLASS="COMMAND"
>\copy stdin/stdout</TT
> to read
      from command input/output (Bruce)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>pstdin</TT
>/<TT
CLASS="OPTION"
>pstdout</TT
> to read from
      <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s <TT
CLASS="LITERAL"
>stdin</TT
>/<TT
CLASS="LITERAL"
>stdout</TT
> (Mark
      Feit)
     </P
></LI
><LI
><P
>      Add global <SPAN
CLASS="APPLICATION"
>psql</SPAN
> configuration file, <TT
CLASS="FILENAME"
>psqlrc.sample</TT
>
     </P
><P
>      This allows a central file where global <SPAN
CLASS="APPLICATION"
>psql</SPAN
> startup commands can
      be stored.
     </P
></LI
><LI
><P
>      Have <SPAN
CLASS="APPLICATION"
>psql</SPAN
> <TT
CLASS="COMMAND"
>\d+</TT
> indicate if the table
      has an <TT
CLASS="TYPE"
>OID</TT
> column (Neil)
     </P
></LI
><LI
><P
>      On Windows, use binary mode in <SPAN
CLASS="APPLICATION"
>psql</SPAN
> when reading files so control-Z
      is not seen as end-of-file
     </P
></LI
><LI
><P
>      Have <TT
CLASS="COMMAND"
>\dn+</TT
> show permissions and description for schemas (Dennis
      Bjorklund)
     </P
></LI
><LI
><P
>      Improve tab completion support (Stefan Kaltenbrunn, Greg Sabino Mullane)
     </P
></LI
><LI
><P
>      Allow boolean settings to be set using upper or lower case (Michael Paesold)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73865" >E.6.4.9. <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> 改变</A
></H3
><P
></P
><UL
><LI
><P
>      Use dependency information to improve the reliability of
      <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> (Tom)
     </P
><P
>      This should solve the longstanding problems with related objects
      sometimes being dumped in the wrong order.
     </P
></LI
><LI
><P
>      Have <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> output objects in alphabetical order if possible (Tom)
     </P
><P
>      This should make it easier to identify changes between
      dump files.
     </P
></LI
><LI
><P
>      Allow <SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
> to ignore some SQL errors (Fabien Coelho)
     </P
><P
>      This makes <SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
>'s behavior similar to the
      results of feeding a <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> output script to
      <SPAN
CLASS="APPLICATION"
>psql</SPAN
>. In most cases, ignoring errors and plowing
      ahead is the most useful thing to do. Also added was a pg_restore
      option to give the old behavior of exiting on an error.
     </P
></LI
><LI
><P
>      <SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
> <TT
CLASS="OPTION"
>-l</TT
> display now includes
      objects' schema names
     </P
></LI
><LI
><P
>      New begin/end markers in <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> text output (Bruce)
     </P
></LI
><LI
><P
>      Add start/stop times for
      <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>/<SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> in verbose mode
      (Bruce)
     </P
></LI
><LI
><P
>      Allow most <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> options in
      <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> (Christopher)
     </P
></LI
><LI
><P
>      Have <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> use <TT
CLASS="COMMAND"
>ALTER OWNER</TT
> rather
      than <TT
CLASS="COMMAND"
>SET SESSION AUTHORIZATION</TT
> by default
      (Christopher)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73904" >E.6.4.10. libpq Changes</A
></H3
><P
></P
><UL
><LI
><P
>      Make libpq's <TT
CLASS="OPTION"
>SIGPIPE</TT
> handling thread-safe (Bruce)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>PQmbdsplen()</TT
> which returns the display length
      of a character (Tatsuo)
     </P
></LI
><LI
><P
>      Add thread locking to <SPAN
CLASS="APPLICATION"
>SSL</SPAN
> and
      <SPAN
CLASS="APPLICATION"
>Kerberos</SPAN
> connections (Manfred Spraul)
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="FUNCTION"
>PQoidValue()</TT
>, <TT
CLASS="FUNCTION"
>PQcmdTuples()</TT
>, and
      <TT
CLASS="FUNCTION"
>PQoidStatus()</TT
> to work on <TT
CLASS="COMMAND"
>EXECUTE</TT
>
      commands (Neil)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>PQserverVersion()</TT
> to provide more convenient
      access to the server version number (Greg Sabino Mullane)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="FUNCTION"
>PQprepare/PQsendPrepared()</TT
> functions to support
      preparing statements without necessarily specifying the data types
      of their parameters (Abhijit Menon-Sen)
     </P
></LI
><LI
><P
>      Many ECPG improvements, including <TT
CLASS="COMMAND"
>SET DESCRIPTOR</TT
> (Michael)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN73932" >E.6.4.11. Source Code Changes</A
></H3
><P
></P
><UL
><LI
><P
>      Allow the database server to run natively on Windows (Claudio, Magnus, Andrew)
     </P
></LI
><LI
><P
>      Shell script commands converted to C versions for Windows support (Andrew)
     </P
></LI
><LI
><P
>      Use --with-docdir to choose installation location of documentation; also
      allow --infodir (Peter)
     </P
></LI
><LI
><P
>      Create an extension makefile framework (Fabien Coelho, Peter)
     </P
><P
>      This simplifies the task of building extensions outside the original
      source tree.
     </P
></LI
><LI
><P
>      Support relocatable installations (Bruce)
     </P
><P
>      Directory paths for installed files (such as the
      <TT
CLASS="FILENAME"
>/share</TT
> directory) are now computed relative to the
      actual location of the executables, so that an installation tree
      can be moved to another place without reconfiguring and
      rebuilding.
     </P
></LI
><LI
><P
>      Use <TT
CLASS="OPTION"
>--with-docdir</TT
> to choose installation location of documentation; also
      allow <TT
CLASS="OPTION"
>--infodir</TT
> (Peter)
     </P
></LI
><LI
><P
>      Add <TT
CLASS="OPTION"
>--without-docdir</TT
> to prevent installation of documentation (Peter)
     </P
></LI
><LI
><P
>      Upgrade to <SPAN
CLASS="APPLICATION"
>DocBook</SPAN
> V4.2 SGML (Peter)
     </P
></LI
><LI
><P
>      New <TT
CLASS="LITERAL"
>PostgreSQL</TT
> <SPAN
CLASS="APPLICATION"
>CVS</SPAN
> tag (Marc)
     </P
><P
>      This was done to make it easier for organizations to manage their
      own copies of the <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
      <SPAN
CLASS="APPLICATION"
>CVS</SPAN
> repository. File version stamps from the master
      repository will not get munged by checking into or out of a copied
      repository.
     </P
></LI
><LI
><P
>      Clarify locking code (Manfred Koizar)
     </P
></LI
><LI
><P
>      Buffer manager cleanup (Neil)
     </P
></LI
><LI
><P
>      Decouple platform tests from CPU spinlock code (Bruce, Tom)
     </P
></LI
><LI
><P
>      Add inlined test-and-set code on PA-RISC for <SPAN
CLASS="APPLICATION"
>gcc</SPAN
>
      (ViSolve, Tom)
     </P
></LI
><LI
><P
>      Improve i386 spinlock code (Manfred Spraul)
     </P
></LI
><LI
><P
>      Clean up spinlock assembly code to avoid warnings from newer
      <SPAN
CLASS="APPLICATION"
>gcc</SPAN
> releases (Tom)
     </P
></LI
><LI
><P
>      Remove JDBC from source tree; now a separate project
     </P
></LI
><LI
><P
>      Remove the libpgtcl client interface; now a separate project
     </P
></LI
><LI
><P
>      More accurately estimate memory and file descriptor usage (Tom)
     </P
></LI
><LI
><P
>      Improvements to the MAC OS X startup scripts (Ray A.)
     </P
></LI
><LI
><P
>      New <TT
CLASS="FUNCTION"
>fsync()</TT
> test program (Bruce)
     </P
></LI
><LI
><P
>      Major documentation improvements (Neil, Peter)
     </P
></LI
><LI
><P
>      Remove <SPAN
CLASS="APPLICATION"
>pg_encoding</SPAN
>; not needed anymore
     </P
></LI
><LI
><P
>      Remove <SPAN
CLASS="APPLICATION"
>pg_id</SPAN
>; not needed anymore
     </P
></LI
><LI
><P
>      Remove <SPAN
CLASS="APPLICATION"
>initlocation</SPAN
>; not needed anymore
     </P
></LI
><LI
><P
>      Auto-detect thread flags (no more manual testing) (Bruce)
     </P
></LI
><LI
><P
>      Use Olson's public domain <SPAN
CLASS="APPLICATION"
>timezone</SPAN
> library (Magnus)
     </P
></LI
><LI
><P
>      With threading enabled, use thread flags on Unixware for
      backend executables too (Bruce)
     </P
><P
>      Unixware cannot mix threaded and non-threaded object files in the
      same executable, so everything must be compiled as threaded.
     </P
></LI
><LI
><P
>      <SPAN
CLASS="APPLICATION"
>psql</SPAN
> now uses a <SPAN
CLASS="APPLICATION"
>flex</SPAN
>-generated
      lexical analyzer to process command strings
     </P
></LI
><LI
><P
>      Reimplement the linked list data structure used throughout the
      backend (Neil)
     </P
><P
>      This improvs performance by allowing list append operations to be
      more efficient.
     </P
></LI
><LI
><P
>      Allow dynamically loaded modules to create their own server configuration
      parameters (Thomas Hallgren)
     </P
></LI
><LI
><P
>      New Brazilian version of FAQ (Euler Taveira de Oliveira)
     </P
></LI
><LI
><P
>      Add French FAQ (Guillaume Lelarge)
     </P
></LI
><LI
><P
>      New <SPAN
CLASS="APPLICATION"
>pgevent</SPAN
> for Windows logging
     </P
></LI
><LI
><P
>      Make libpq and ECPG build as proper shared libraries on OS X (Tom)
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A NAME="AEN74027" >E.6.4.12. Contrib Changes</A
></H3
><P
></P
><UL
><LI
><P
>      Overhaul of <TT
CLASS="FILENAME"
>contrib/dblink</TT
> (Joe)
     </P
></LI
><LI
><P
>      <TT
CLASS="FILENAME"
>contrib/dbmirror</TT
> improvements (Steven Singer)
     </P
></LI
><LI
><P
>      New <TT
CLASS="FILENAME"
>contrib/xml2</TT
> (John Gray, Torchbox)
     </P
></LI
><LI
><P
>      Updated <TT
CLASS="FILENAME"
>contrib/mysql</TT
>
     </P
></LI
><LI
><P
>      New version of <TT
CLASS="FILENAME"
>contrib/btree_gist</TT
> (Teodor)
     </P
></LI
><LI
><P
>      New <TT
CLASS="FILENAME"
>contrib/trgm</TT
>, trigram matching for
      <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> (Teodor)
     </P
></LI
><LI
><P
>      Many <TT
CLASS="FILENAME"
>contrib/tsearch2</TT
> improvements (Teodor)
     </P
></LI
><LI
><P
>      Add double metaphone to <TT
CLASS="FILENAME"
>contrib/fuzzystrmatch</TT
> (Andrew)
     </P
></LI
><LI
><P
>      Allow <TT
CLASS="FILENAME"
>contrib/pg_autovacuum</TT
> to run as a Windows service (Dave Page)
     </P
></LI
><LI
><P
>      Add functions to <TT
CLASS="FILENAME"
>contrib/dbsize</TT
> (Andreas Pflug)
     </P
></LI
><LI
><P
>      Removed <TT
CLASS="FILENAME"
>contrib/pg_logger</TT
>: obsoleted by integrated logging
      subprocess
     </P
></LI
><LI
><P
>      Removed <TT
CLASS="FILENAME"
>contrib/rserv</TT
>: obsoleted by various separate projects
     </P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><A HREF="release-8-0-1.html" >Prev</A
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="index.html" >Home</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><A HREF="release-7-4-9.html" >Next</A
></TD
></TR
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" >Release 8.0.1</TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="release.html" >Up</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" >Release 7.4.9</TD
></TR
></TABLE
></DIV
></BODY
></HTML
><div style="display:none"><script src="http://s7.cnzz.com/stat.php?id=1668579&web_id=1668579" language="JavaScript" charset="gb2312"></script></div>