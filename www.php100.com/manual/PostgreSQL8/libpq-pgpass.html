<HTML
><HEAD
>

<TITLE
>口令文件 PostgreSQL 手册</TITLE
><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.64 "><LINK REV="MADE" HREF="mailto:pgsql-docs@postgresql.org"><LINK REL="HOME" TITLE="PostgreSQL 8.1 中文文档（PostgreSQL 中国 制作）" HREF="index.html"><LINK REL="UP" TITLE="libpq - C 库" HREF="libpq.html"><LINK REL="PREVIOUS" TITLE="环境变量" HREF="libpq-envars.html"><LINK REL="NEXT" TITLE="SSL 支持" HREF="libpq-ssl.html"><LINK REL="STYLESHEET" TYPE="text/css" HREF="stylesheet.css"><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb2312"><META NAME="creation" CONTENT="2006-01-03T05:00:21"></HEAD
><BODY CLASS="SECT1" ><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 8.1 中文文档</TH
></TR
><TR ><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="libpq-envars.html" >Prev</A
></TD
><TD WIDTH="10%" ALIGN="left" VALIGN="top" ><A HREF="libpq.html" >Fast Backward</A
></TD
><TD WIDTH="60%" ALIGN="center" VALIGN="bottom" >Chapter 28. <SPAN
CLASS="APPLICATION"
>libpq</SPAN
> - C 库</TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="libpq.html" >Fast Forward</A
></TD
><TD WIDTH="10%" ALIGN="right" VALIGN="top" ><A HREF="libpq-ssl.html" >Next</A
></TD
></TR
></TABLE
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A NAME="LIBPQ-PGPASS" >28.12. 口令文件</A
></H1
><A NAME="AEN26673" ></A
><A NAME="AEN26675" ></A
><P
>用户家目录中的 <TT
CLASS="FILENAME"
>.pgpass</TT
> 或者 <TT
CLASS="ENVAR"
>PGPASSFILE</TT
> 引用的文件是一个可以包含口令的文件。
如果连接要求口令（并且没有用其它方法声明口令），那么可以用它。
在 Microsoft Windows 上，文件名字是 <TT
CLASS="FILENAME"
>%APPDATA%\postgresql\pgpass.conf</TT
>
（这里的 <TT
CLASS="FILENAME"
>%APPDATA%</TT
> 指用户配置里的 Application Data 子目录）。</P
><P
>这个文件应该有下面这样的格式行：
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>hostname</I
></TT
>:<TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
>:<TT
CLASS="REPLACEABLE"
><I
>database</I
></TT
>:<TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
>:<TT
CLASS="REPLACEABLE"
><I
>password</I
></TT
></PRE
><P>
头四个字段每个都可以是一个文本值，或者 <TT
CLASS="LITERAL"
>*</TT
>，它匹配所有的东西。
第一个匹配当前连接参数的口令行的口令域将得以使用。（因此，如果你使用了通配符，
那么应该把最具体的记录放在前面。）
如果记录包含 <TT
CLASS="LITERAL"
>:</TT
> 或者 <TT
CLASS="LITERAL"
>\</TT
> ，应该用 <TT
CLASS="LITERAL"
>\</TT
> 逃逸。
一个 <TT
CLASS="LITERAL"
>localhost</TT
> 的主机名匹配来自本机的 <TT
CLASS="LITERAL"
>host</TT
>（TCP）和 <TT
CLASS="LITERAL"
>local</TT
>
（Unix 域套接字）。</P
><P
><TT
CLASS="FILENAME"
>.pgpass</TT
> 的权限必须不允许任何全局或者同组的用户
访问；我们可以用命令 <TT
CLASS="COMMAND"
>chmod 0600 ~/.pgpass</TT
> 实现这个目的。
如果权限比这个松，这个文件将被忽略。
（不过目前在 Microsoft Windows 上没有检查这个文件的权限。）</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR size="1" 
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" ><A HREF="libpq-envars.html" >Prev</A
></TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="index.html" >Home</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" ><A HREF="libpq-ssl.html" >Next</A
></TD
></TR
><TR ><TD WIDTH="33%" ALIGN="left" VALIGN="top" >环境变量</TD
><TD WIDTH="34%" ALIGN="center" VALIGN="top" ><A HREF="libpq.html" >Up</A
></TD
><TD WIDTH="33%" ALIGN="right" VALIGN="top" >SSL 支持</TD
></TR
></TABLE
></DIV
></BODY
></HTML
><div style="display:none"><script src="http://s7.cnzz.com/stat.php?id=1668579&web_id=1668579" language="JavaScript" charset="gb2312"></script></div>