<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Chapter 9 Mysqlnd user handler plugin</title>
<link rel="stylesheet" href="mvl.css" type="text/css" />
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2" />
<link rel="start" href="index.html" title="{book-title}" />
<link rel="up" href="" title="" />
<link rel="prev" href="apis-php-mysqlnd-qc.html" title="Chapter 8 Mysqlnd query result cache plugin" />
<link rel="next" href="apis-php-mysqlnd-mux.html" title="Chapter 10 Mysqlnd connection multiplexing plugin" />
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1463505695*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="3" align="center">Chapter 9 Mysqlnd user handler plugin</th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="apis-php-mysqlnd-qc.html">Prev</a> </td>
<th width="60%" align="center"></th>
<td width="20%" align="right"> <a accesskey="n" href="apis-php-mysqlnd-mux.html">Next</a></td>
</tr>
</table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="apis-php-mysqlnd-uh"></a>Chapter 9 Mysqlnd user handler plugin</h1>

</div>

</div>

</div>
<div class="toc">
<p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.security">9.1 Security considerations</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.docs-note">9.2 Documentation note</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.name">9.3 On the name</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart">9.4 Quickstart and Examples</a></span></dt><dd><dl><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.configuration">9.4.1 Setup</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.how-it-works">9.4.2 How it works</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.proxy-installation">9.4.3 Installing a proxy</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.query-monitoring">9.4.4 Basic query monitoring</a></span></dt></dl></dd><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.setup">9.5 Installing/Configuring</a></span></dt><dd><dl><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.requirements">9.5.1 Requirements</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.installation">9.5.2 Installation</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.configuration">9.5.3 Runtime Configuration</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.resources">9.5.4 Resource Types</a></span></dt></dl></dd><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.constants">9.6 Predefined Constants</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-class.mysqlnduhconnection">9.7 The MysqlndUhConnection class</a></span></dt><dd><dl><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.changeuser">9.7.1 <code class="literal">MysqlndUhConnection::changeUser</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.charsetname">9.7.2 <code class="literal">MysqlndUhConnection::charsetName</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.close">9.7.3 <code class="literal">MysqlndUhConnection::close</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.connect">9.7.4 <code class="literal">MysqlndUhConnection::connect</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.construct">9.7.5 <code class="literal">MysqlndUhConnection::__construct</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.endpsession">9.7.6 <code class="literal">MysqlndUhConnection::endPSession</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.escapestring">9.7.7 <code class="literal">MysqlndUhConnection::escapeString</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getaffectedrows">9.7.8 <code class="literal">MysqlndUhConnection::getAffectedRows</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrornumber">9.7.9 <code class="literal">MysqlndUhConnection::getErrorNumber</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrorstring">9.7.10 <code class="literal">MysqlndUhConnection::getErrorString</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getfieldcount">9.7.11 <code class="literal">MysqlndUhConnection::getFieldCount</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.gethostinformation">9.7.12 <code class="literal">MysqlndUhConnection::getHostInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getlastinsertid">9.7.13 <code class="literal">MysqlndUhConnection::getLastInsertId</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getlastmessage">9.7.14 <code class="literal">MysqlndUhConnection::getLastMessage</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getprotocolinformation">9.7.15 <code class="literal">MysqlndUhConnection::getProtocolInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverinformation">9.7.16 <code class="literal">MysqlndUhConnection::getServerInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverstatistics">9.7.17 <code class="literal">MysqlndUhConnection::getServerStatistics</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverversion">9.7.18 <code class="literal">MysqlndUhConnection::getServerVersion</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getsqlstate">9.7.19 <code class="literal">MysqlndUhConnection::getSqlstate</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getstatistics">9.7.20 <code class="literal">MysqlndUhConnection::getStatistics</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getthreadid">9.7.21 <code class="literal">MysqlndUhConnection::getThreadId</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getwarningcount">9.7.22 <code class="literal">MysqlndUhConnection::getWarningCount</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.init">9.7.23 <code class="literal">MysqlndUhConnection::init</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.killconnection">9.7.24 <code class="literal">MysqlndUhConnection::killConnection</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.listfields">9.7.25 <code class="literal">MysqlndUhConnection::listFields</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.listmethod">9.7.26 <code class="literal">MysqlndUhConnection::listMethod</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.moreresults">9.7.27 <code class="literal">MysqlndUhConnection::moreResults</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.nextresult">9.7.28 <code class="literal">MysqlndUhConnection::nextResult</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.ping">9.7.29 <code class="literal">MysqlndUhConnection::ping</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.query">9.7.30 <code class="literal">MysqlndUhConnection::query</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.queryreadresultsetheader">9.7.31 <code class="literal">MysqlndUhConnection::queryReadResultsetHeader</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.reapquery">9.7.32 <code class="literal">MysqlndUhConnection::reapQuery</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.refreshserver">9.7.33 <code class="literal">MysqlndUhConnection::refreshServer</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.restartpsession">9.7.34 <code class="literal">MysqlndUhConnection::restartPSession</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.selectdb">9.7.35 <code class="literal">MysqlndUhConnection::selectDb</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sendclose">9.7.36 <code class="literal">MysqlndUhConnection::sendClose</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sendquery">9.7.37 <code class="literal">MysqlndUhConnection::sendQuery</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.serverdumpdebuginformation">9.7.38 <code class="literal">MysqlndUhConnection::serverDumpDebugInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setautocommit">9.7.39 <code class="literal">MysqlndUhConnection::setAutocommit</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setcharset">9.7.40 <code class="literal">MysqlndUhConnection::setCharset</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setclientoption">9.7.41 <code class="literal">MysqlndUhConnection::setClientOption</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setserveroption">9.7.42 <code class="literal">MysqlndUhConnection::setServerOption</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.shutdownserver">9.7.43 <code class="literal">MysqlndUhConnection::shutdownServer</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommand">9.7.44 <code class="literal">MysqlndUhConnection::simpleCommand</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommandhandleresponse">9.7.45 <code class="literal">MysqlndUhConnection::simpleCommandHandleResponse</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sslset">9.7.46 <code class="literal">MysqlndUhConnection::sslSet</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.stmtinit">9.7.47 <code class="literal">MysqlndUhConnection::stmtInit</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.storeresult">9.7.48 <code class="literal">MysqlndUhConnection::storeResult</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.txcommit">9.7.49 <code class="literal">MysqlndUhConnection::txCommit</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.txrollback">9.7.50 <code class="literal">MysqlndUhConnection::txRollback</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.useresult">9.7.51 <code class="literal">MysqlndUhConnection::useResult</code></a></span></dt></dl></dd><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-class.mysqlnduhpreparedstatement">9.8 The MysqlndUhPreparedStatement class</a></span></dt><dd><dl><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.construct">9.8.1 <code class="literal">MysqlndUhPreparedStatement::__construct</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.execute">9.8.2 <code class="literal">MysqlndUhPreparedStatement::execute</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.prepare">9.8.3 <code class="literal">MysqlndUhPreparedStatement::prepare</code></a></span></dt></dl></dd><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-ref.mysqlnd-uh">9.9 Mysqlnd_uh Functions</a></span></dt><dd><dl><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-convert-to-mysqlnd">9.9.1 <code class="literal">mysqlnd_uh_convert_to_mysqlnd</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy">9.9.2 <code class="literal">mysqlnd_uh_set_connection_proxy</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy">9.9.3 <code class="literal">mysqlnd_uh_set_statement_proxy</code></a></span></dt></dl></dd><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.changes">9.10 Change History</a></span></dt><dd><dl><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.changes-one-o">9.10.1 PECL/mysqlnd_uh 1.0 series</a></span></dt></dl></dd></dl>
</div>
<p>
    <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
    Documentation Group.</a>
  </p><p>
    The mysqlnd user handler plugin (<code class="literal">mysqlnd_uh</code>)
    allows users to set hooks for most internal calls of the MySQL
    native driver for PHP
    (<code class="literal"><a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a></code>).
    Mysqlnd and its plugins, including PECL/mysqlnd_uh, operate on a
    layer beneath the PHP MySQL extensions. A mysqlnd plugin can be
    considered as a proxy between the PHP MySQL extensions and the MySQL
    server as part of the PHP executable on the client-side. Because the
    plugins operates on their own layer below the PHP MySQL extensions,
    they can monitor and change application actions without requiring
    application changes. If the PHP MySQL extensions
    (<a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>,
    <a class="link" href="apis-php-mysql.html#apis-php-ref.mysql" title="5.5 MySQL Functions">mysql</a>,
    <a class="link" href="apis-php-pdo-mysql.html" title="Chapter 4 MySQL Functions (PDO_MYSQL)">PDO_MYSQL</a>) are compiled to
    use <code class="literal">mysqlnd</code> this can be used for:

</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Monitoring
        </p><p>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Queries executed by any of the PHP MySQL extensions
              </p></li><li class="listitem"><p>
                Prepared statements executing by any of the PHP MySQL
                extensions
</p></li></ul>
</div>
<p>
        </p></li><li class="listitem"><p>
          Auditing
        </p><p>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Detection of database usage
              </p></li><li class="listitem"><p>
                SQL injection protection using black and white lists
</p></li></ul>
</div>
<p>
        </p></li><li class="listitem"><p>
          Assorted
        </p><p>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Load Balancing connections
</p></li></ul>
</div>
<p>
</p></li></ul>
</div>
<p>
  </p><p>
    The MySQL native driver for PHP
    (<a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a>) features an
    internal plugin C API. C plugins, such as the mysqlnd user handler
    plugin, can extend the functionality of
    <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a>. PECL/mysqlnd_uh
    makes parts of the internal plugin C API available to the PHP user
    for plugin development with PHP.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Status
</div>
<p>
      The mysqlnd user handler plugin is in alpha status. Take
      appropriate care before using it in production environments.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.security"></a>9.1 Security considerations</h2>

</div>

</div>

</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p>
      PECL/mysqlnd_uh gives users access to MySQL user names, MySQL
      password used by any of the PHP MySQL extensions to connect to
      MySQL. It allows monitoring of all queries and prepared statements
      exposing the statement string to the user. Therefore, the
      extension should be installed with care. The
      <code class="literal">PHP_INI_SYSTEM</code> configuration setting
      <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>
      can be used to prevent users from hooking mysqlnd calls.
    </p><p>
      Code obfuscators and similar technologies are not suitable to
      prevent monitoring of mysqlnd library activities if
      PECL/mysqlnd_uh is made available and the user can install a
      proxy, for example, using
      <a class="ulink" href="http://www.php.net/ini.auto-prepend-file" target="_top">auto_prepend_file</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.docs-note"></a>9.2 Documentation note</h2>

</div>

</div>

</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p>
      Many of the mysqlnd_uh functions are briefly described because the
      <a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a> extension is a
      thin abstraction layer on top of the MySQL C API that the
      <code class="literal">mysqlnd</code> library provides. Therefore, the
      corresponding <a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>
      documentation (along with the MySQL reference manual) can be
      consulted to receive more information about a particular function.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.name"></a>9.3 On the name</h2>

</div>

</div>

</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p>
      The shortcut <code class="literal">mysqlnd_uh</code> stands for
      <code class="literal">mysqlnd user handler</code>, and has been the name
      since early development.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.quickstart"></a>9.4 Quickstart and Examples</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.configuration">9.4.1 Setup</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.how-it-works">9.4.2 How it works</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.proxy-installation">9.4.3 Installing a proxy</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.query-monitoring">9.4.4 Basic query monitoring</a></span></dt></dl>
</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p>
      The mysqlnd user handler plugin can be understood as a client-side
      proxy for all PHP MySQL extensions
      (<a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>,
      <a class="link" href="apis-php-mysql.html#apis-php-ref.mysql" title="5.5 MySQL Functions">mysql</a>,
      <a class="link" href="apis-php-pdo-mysql.html" title="Chapter 4 MySQL Functions (PDO_MYSQL)">PDO_MYSQL</a>), if they are
      compiled to use the
      <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a> library. The
      extensions use the <code class="literal">mysqlnd</code> library internally,
      at the C level, to communicate with the MySQL server.
      PECL/mysqlnd_uh allows it to hook many <code class="literal">mysqlnd</code>
      calls. Therefore, most activities of the PHP MySQL extensions can
      be monitored.
    </p><p>
      Because monitoring happens at the level of the library, at a layer
      below the application, it is possible to monitor applications
      without changing them.
    </p><p>
      On the C level, the <code class="literal">mysqlnd</code> library is
      structured in modules or classes. The extension hooks almost all
      methods of the <code class="literal">mysqlnd</code> internal
      <code class="literal">connection</code> class and exposes them through the
      user space class <code class="classname">MysqlndUhConnection</code>. Some
      few methods of the mysqlnd internal <code class="literal">statement</code>
      class are made available to the PHP user with the class
      <code class="classname">MysqlndUhPreparedStatement</code>. By subclassing
      the classes <code class="classname">MysqlndUhConnection</code> and
      <code class="classname">MysqlndUhPreparedStatement</code> users get access
      to <code class="literal">mysqlnd</code> internal function calls.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        The internal <code class="literal">mysqlnd</code> function calls are not
        designed to be exposed to the PHP user. Manipulating their
        activities may cause PHP to crash or leak memory. Often, this is
        not considered a bug. Please, keep in mind that you are
        accessing C library functions through PHP which are expected to
        take certain actions, which you may not be able to emulate in
        user space. Therefore, it is strongly recommended to always call
        the parent method implementation when subclassing
        <code class="classname">MysqlndUhConnection</code> or
        <code class="classname">MysqlndUhPreparedStatement</code>. To prevent
        the worst case, the extension performs some sanity checks.
        Please, see also the
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.configuration" title="9.5.3 Runtime Configuration">Mysqlnd_uh
        Configure Options</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.quickstart.configuration"></a>9.4.1 Setup</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        The plugin is implemented as a PHP extension. See the
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.installation" title="9.5.2 Installation">installation
        instructions</a> to install the
        <a class="ulink" href="http://pecl.php.net/package/mysqlnd_ms" target="_top">PECL/mysqlnd_uh</a>
        extension. Then, load the extension into PHP and activate the
        plugin in the PHP configuration file using the PHP configuration
        directive named
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a>.
        The below example shows the default settings of the extension.
      </p><p>
</p>
<div class="example">
<a name="idm139660442014272"></a><p class="title"><b>Example 9.1 Enabling the plugin (php.ini)</b></p>
<div class="example-contents">
<pre class="programlisting">

mysqlnd_uh.enable=1
mysqlnd_uh.report_wrong_types=1

</pre>
</div>

</div>
<p><br class="example-break">
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.quickstart.how-it-works"></a>9.4.2 How it works</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        This describes the background and inner workings of the
        mysqlnd_uh extension.
      </p><p>
        Two classes are provided by the extension:
        <code class="classname">MysqlndUhConnection</code> and
        <code class="classname">MysqlndUhPreparedStatement</code>.
        <code class="classname">MysqlndUhConnection</code> lets you access
        almost all methods of the <code class="literal">mysqlnd</code> internal
        <code class="literal">connection</code> class. The latter exposes some
        selected methods of the <code class="literal">mysqlnd</code> internal
        <code class="literal">statement</code> class. For example,
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.connect" title="9.7.4 MysqlndUhConnection::connect"><code class="function">MysqlndUhConnection::connect</code></a>
        maps to the <code class="literal">mysqlnd</code> library C function
        <code class="literal">mysqlnd_conn__connect</code>.
      </p><p>
        As a mysqlnd plugin, the PECL/mysqlnd_uh extension replaces
        <code class="literal">mysqlnd</code> library C functions with its own
        functions. Whenever a PHP MySQL extension compiled to use
        <code class="literal">mysqlnd</code> calls a mysqlnd function, the
        functions installed by the plugin are executed instead of the
        original <code class="literal">mysqlnd</code> ones. For example,
        <a class="link" href="apis-php-mysqli.html#apis-php-function.mysqli-connect" title="3.15.4 mysqli_connect"><code class="function">mysqli_connect</code></a>
        invokes <code class="literal">mysqlnd_conn__connect</code>, so the connect
        function installed by PECL/mysqlnd_uh will be called. The
        functions installed by PECL/mysqlnd_uh are the methods of the
        built-in classes.
      </p><p>
        The built-in PHP classes and their methods do nothing but call
        their <code class="literal">mysqlnd</code> C library counterparts, to
        behave exactly like the original <code class="literal">mysqlnd</code>
        function they replace. The code below illustrates in pseudo-code
        what the extension does.
      </p><p>
</p>
<div class="example">
<a name="idm139660441994544"></a><p class="title"><b>Example 9.2 Pseudo-code: what a built-in class does</b></p>
<div class="example-contents">
<pre class="programlisting">

class MysqlndUhConnection {
  public function connect(($conn, $host, $user, $passwd, $db, $port, $socket, $mysql_flags) {
    MYSQLND* c_mysqlnd_connection = convert_from_php_to_c($conn);
    ...
    return call_c_function(mysqlnd_conn__connect(c_mysqlnd_connection, ...));
  }
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        The build-in classes behave like a transparent proxy. It is
        possible for you to replace the proxy with your own. This is
        done by subclassing <code class="classname">MysqlndUhConnection</code>
        or <code class="classname">MysqlndUhPreparedStatement</code> to extend
        the functionality of the proxy, followed by registering a new
        proxy object. Proxy objects are installed by
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>
        and
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy" title="9.9.3 mysqlnd_uh_set_statement_proxy"><code class="function">mysqlnd_uh_set_statement_proxy</code></a>.
      </p><p>
</p>
<div class="example">
<a name="idm139660441987840"></a><p class="title"><b>Example 9.3 Installing a proxy</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function connect($res, $host, $user, $passwd, $db, $port, $socket, $mysql_flags) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::connect($res, $host, $user, $passwd, $db, $port, $socket, $mysql_flags);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::connect(array (
  0 =&gt; NULL,
  1 =&gt; 'localhost',
  2 =&gt; 'root',
  3 =&gt; '',
  4 =&gt; 'test',
  5 =&gt; 3306,
  6 =&gt; NULL,
  7 =&gt; 131072,
))
proxy::connect returns true

</pre>
</div>

</div>
<p><br class="example-break">
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.quickstart.proxy-installation"></a>9.4.3 Installing a proxy</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        The extension provides two built-in classes:
        <code class="classname">MysqlndUhConnection</code> and
        <code class="classname">MysqlndUhPreparedStatement</code>. The classes
        are used for hooking <code class="literal">mysqlnd</code> library calls.
        Their methods correspond to <code class="literal">mysqlnd</code> internal
        functions. By default they act like a transparent proxy and do
        nothing but call their <code class="literal">mysqlnd</code> counterparts.
        By subclassing the classes you can install your own proxy to
        monitor <code class="literal">mysqlnd</code>.
      </p><p>
        See also the
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.quickstart.how-it-works" title="9.4.2 How it works">How
        it works</a> guide to learn about the inner workings of this
        extension.
      </p><p>
        Connection proxies are objects of the type
        <code class="classname">MysqlndUhConnection</code>. Connection proxy
        objects are installed by
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>.
        If you install the built-in class
        <code class="classname">MysqlndUhConnection</code> as a proxy, nothing
        happens. It behaves like a transparent proxy.
      </p><p>
</p>
<div class="example">
<a name="idm139660441972288"></a><p class="title"><b>Example 9.4 Proxy registration, mysqlnd_uh.enable=1</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
mysqlnd_uh_set_connection_proxy(new MysqlndUhConnection());
$mysqli = new mysqli("localhost", "root", "", "test");
?&gt;

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        The <code class="literal">PHP_INI_SYSTEM</code> configuration setting
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>
        controls whether a proxy may be set. If disabled, the extension
        will throw errors of type <code class="literal">E_WARNING</code>
      </p><p>
</p>
<div class="example">
<a name="idm139660441966912"></a><p class="title"><b>Example 9.5 Proxy installation disabled</b></p>
<div class="example-contents">
<pre class="programlisting">

mysqlnd_uh.enable=0

    </pre><pre class="programlisting">

&lt;?php
mysqlnd_uh_set_connection_proxy(new MysqlndUhConnection());
$mysqli = new mysqli("localhost", "root", "", "test");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

PHP Warning:  MysqlndUhConnection::__construct(): (Mysqlnd User Handler) The plugin has been disabled by setting the configuration parameter mysqlnd_uh.enabled = false.  You must not use any of the base classes in %s on line %d
PHP Warning:  mysqlnd_uh_set_connection_proxy(): (Mysqlnd User Handler) The plugin has been disabled by setting the configuration parameter mysqlnd_uh.enable = false. The proxy has not been installed  in %s on line %d

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        To monitor <code class="literal">mysqlnd</code>, you have to write your
        own proxy object subclassing
        <code class="classname">MysqlndUhConnection</code>. Please, see the
        function reference for a the list of methods that can be
        subclassed. Alternatively, you can use reflection to inspect the
        built-in <code class="classname">MysqlndUhConnection</code>.
      </p><p>
        Create a new class <code class="literal">proxy</code>. Derive it from the
        built-in class <code class="classname">MysqlndUhConnection</code>.
        Replace the
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.connect" title="9.7.4 MysqlndUhConnection::connect"><code class="function">MysqlndUhConnection::connect</code></a>.
        method. Print out the host parameter value passed to the method.
        Make sure that you call the parent implementation of the
        <code class="literal">connect</code> method. Failing to do so may give
        unexpected and undesired results, including memory leaks and
        crashes.
      </p><p>
        Register your proxy and open three connections using the PHP
        MySQL extensions
        <a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>,
        <a class="link" href="apis-php-mysql.html#apis-php-ref.mysql" title="5.5 MySQL Functions">mysql</a>,
        <a class="link" href="apis-php-pdo-mysql.html" title="Chapter 4 MySQL Functions (PDO_MYSQL)">PDO_MYSQL</a>. If the
        extensions have been compiled to use the
        <code class="literal">mysqlnd</code> library, the
        <code class="literal">proxy::connect</code> method will be called three
        times, once for each connection opened.
      </p><p>
</p>
<div class="example">
<a name="idm139660441951888"></a><p class="title"><b>Example 9.6 Connection proxy</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
  public function connect($res, $host, $user, $passwd, $db, $port, $socket, $mysql_flags) {
   printf("Connection opened to '%s'\n", $host);
   /* Always call the parent implementation! */
   return parent::connect($res, $host, $user, $passwd, $db, $port, $socket, $mysql_flags);
  }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysql = mysql_connect("localhost", "root", "");
$pdo = new PDO("mysql:host=localhost;dbname=test", "root", "");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

Connection opened to 'localhost'
Connection opened to 'localhost'
Connection opened to 'localhost'

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        The use of prepared statement proxies follows the same pattern:
        create a proxy object of the type
        <code class="classname">MysqlndUhPreparedStatement</code> and install
        the proxy using
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy" title="9.9.3 mysqlnd_uh_set_statement_proxy"><code class="function">mysqlnd_uh_set_statement_proxy</code></a>.
      </p><p>
</p>
<div class="example">
<a name="idm139660441945280"></a><p class="title"><b>Example 9.7 Prepared statement proxy</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class stmt_proxy extends MysqlndUhPreparedStatement {
 public function prepare($res, $query) {
  printf("%s(%s)\n", __METHOD__, $query);
  return parent::prepare($res, $query);
 }
}
mysqlnd_uh_set_statement_proxy(new stmt_proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$stmt = $mysqli-&gt;prepare("SELECT 'mysqlnd hacking made easy' AS _msg FROM DUAL");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

stmt_proxy::prepare(SELECT 'mysqlnd hacking made easy' AS _msg FROM DUAL)

</pre>
</div>

</div>
<p><br class="example-break">
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.quickstart.query-monitoring"></a>9.4.4 Basic query monitoring</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        Basic monitoring of a query statement is easy with
        PECL/mysqlnd_uh. Combined with
        <a class="ulink" href="http://www.php.net/debug_print_backtrace" target="_top"><code class="function">debug_print_backtrace</code></a>
        it can become a powerful tool, for example, to find the origin
        of certain statement. This may be desired when searching for
        slow queries but also after database refactoring to find code
        still accessing deprecated databases or tables. The latter may
        be a complicated matter to do otherwise, especially if the
        application uses auto-generated queries.
      </p><p>
</p>
<div class="example">
<a name="idm139660441937008"></a><p class="title"><b>Example 9.8 Basic Monitoring</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class conn_proxy extends MysqlndUhConnection {
 public function query($res, $query) {
  debug_print_backtrace();
  return parent::query($res, $query);
 }
}
class stmt_proxy extends MysqlndUhPreparedStatement {
 public function prepare($res, $query) {
  debug_print_backtrace();
  return parent::prepare($res, $query);
 }
}
mysqlnd_uh_set_connection_proxy(new conn_proxy());
mysqlnd_uh_set_statement_proxy(new stmt_proxy());

printf("Proxies installed...\n");
$pdo = new PDO("mysql:host=localhost;dbname=test", "root", "");
var_dump($pdo-&gt;query("SELECT 1 AS _one FROM DUAL")-&gt;fetchAll(PDO::FETCH_ASSOC));

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;prepare("SELECT 1 AS _two FROM DUAL");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

#0  conn_proxy-&gt;query(Resource id #19, SELECT 1 AS _one FROM DUAL)
#1  PDO-&gt;query(SELECT 1 AS _one FROM DUAL) called at [example.php:19]
array(1) {
  [0]=&gt;
  array(1) {
    ["_one"]=&gt;
    string(1) "1"
  }
}
#0  stmt_proxy-&gt;prepare(Resource id #753, SELECT 1 AS _two FROM DUAL)
#1  mysqli-&gt;prepare(SELECT 1 AS _two FROM DUAL) called at [example.php:22]

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        For basic query monitoring you should install a connection and a
        prepared statement proxy. The connection proxy should subclass
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.query" title="9.7.30 MysqlndUhConnection::query"><code class="function">MysqlndUhConnection::query</code></a>.
        All database queries not using native prepared statements will
        call this method. In the example the <code class="literal">query</code>
        function is invoked by a PDO call. By default,
        <code class="literal">PDO_MySQL</code> is using prepared statement
        emulation.
      </p><p>
        All native prepared statements are prepared with the
        <code class="literal">prepare</code> method of <code class="literal">mysqlnd</code>
        exported through
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.prepare" title="9.8.3 MysqlndUhPreparedStatement::prepare"><code class="function">MysqlndUhPreparedStatement::prepare</code></a>.
        Subclass <code class="classname">MysqlndUhPreparedStatement</code> and
        overwrite <code class="literal">prepare</code> for native prepared
        statement monitoring.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.setup"></a>9.5 Installing/Configuring</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.requirements">9.5.1 Requirements</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.installation">9.5.2 Installation</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.configuration">9.5.3 Runtime Configuration</a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.resources">9.5.4 Resource Types</a></span></dt></dl>
</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.requirements"></a>9.5.1 Requirements</h3>
</div>
</div>
</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        <code class="literal">PHP 5.3.3</code> or later. It is recommended to use
        <code class="literal">PHP 5.4.0</code> or later to get access to the
        latest mysqlnd features.
      </p><p>
        The <code class="literal">mysqlnd_uh</code> user handler plugin supports
        all PHP applications and all available PHP MySQL extensions
        (<a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>,
        <a class="link" href="apis-php-mysql.html#apis-php-ref.mysql" title="5.5 MySQL Functions">mysql</a>,
        <a class="link" href="apis-php-pdo-mysql.html" title="Chapter 4 MySQL Functions (PDO_MYSQL)">PDO_MYSQL</a>). The PHP
        MySQL extension must be configured to use
        <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a> in order to be
        able to use the <code class="literal">mysqlnd_uh</code> plugin for
        <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a>.
      </p><p>
        The alpha versions makes use of some
        <a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a> features. You
        must enable <a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a> to
        compile the plugin. This requirement may be removed in the
        future. Note, that this requirement does not restrict you to use
        the plugin only with <code class="literal">mysqli</code>. You can use the
        plugin to monitor <code class="literal">mysql</code>,
        <code class="literal">mysqli</code> and <code class="literal">PDO_MYSQL</code>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.installation"></a>9.5.2 Installation</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        Information for installing this PECL extension may be found in
        the manual chapter titled
        <a class="ulink" href="http://www.php.net/install.pecl" target="_top">Installation of
        PECL extensions</a>. Additional information such as new
        releases, downloads, source files, maintainer information, and a
        CHANGELOG, can be located here:
        <a class="ulink" href="http://pecl.php.net/package/mysqlnd-uh" target="_top">http://pecl.php.net/package/mysqlnd-uh</a>
      </p><p>
        PECL/mysqlnd_uh is currently not available on Windows. The
        source code of the extension makes use of <code class="literal">C99</code>
        constructs not allowed with PHP Windows builds.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.configuration"></a>9.5.3 Runtime Configuration</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
The behaviour of these functions is affected by settings in <code class="filename">php.ini</code>.
</p><p>
</p>
<div class="table">
<a name="idm139660441896352"></a><p class="title"><b>Table 9.1 Mysqlnd_uh Configure Options</b></p>
<div class="table-contents">
<table class="table" summary="Mysqlnd_uh Configure Options" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Name</th><th scope="col">Default</th><th scope="col">Changeable</th><th scope="col">Changelog</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></td><td>1</td><td>PHP_INI_SYSTEM</td><td> </td></tr><tr><td scope="row"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.report-wrong-types">mysqlnd_uh.report_wrong_types</a></td><td>1</td><td>PHP_INI_ALL</td><td> </td></tr></tbody></table>
</div>

</div>
<p><br class="table-break">
      </p><p>
        Here's a short explanation of the configuration directives.
      </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-ini.mysqlnd-uh.enable"></a><span class="term">
              <em class="parameter"><code>mysqlnd_uh.enable</code></em>
              <span class="type">integer</span>
            </span></dt><dd><p>
                Enables or disables the plugin. If set to disabled, the
                extension will not allow users to plug into
                <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a> to hook
                <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a> calls.
              </p></dd><dt><a name="apis-php-ini.mysqlnd-uh.report-wrong-types"></a><span class="term">
              <em class="parameter"><code>mysqlnd_uh.report_wrong_types</code></em>
              <span class="type">integer</span>
            </span></dt><dd><p>
                Whether to report wrong return value types of user hooks
                as <code class="constant">E_WARNING</code> level errors. This is
                recommended for detecting errors.
</p></dd></dl>
</div>
<p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.resources"></a>9.5.4 Resource Types</h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        This extension has no resource types defined.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.constants"></a>9.6 Predefined Constants</h2>

</div>

</div>

</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p>
The constants below are defined by this extension, and
will only be available when the extension has either
been compiled into PHP or dynamically loaded at runtime.
</p><p>
      Most of the constants refer to details of the MySQL Client Server
      Protocol. Please, refer to the MySQL reference manual to learn
      about their meaning. To avoid content duplication, only short
      descriptions are given.
    </p><p>
      <span class="emphasis"><em><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommand" title="9.7.44 MysqlndUhConnection::simpleCommand"><code class="function">MysqlndUhConnection::simpleCommand</code></a>
      related</em></span>
    </p><p>
      The following constants can be used to detect what command is to
      be send through
      <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommand" title="9.7.44 MysqlndUhConnection::simpleCommand"><code class="function">MysqlndUhConnection::simpleCommand</code></a>.
    </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-sleep"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_SLEEP</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_SLEEP.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-quit"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_QUIT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_QUIT.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-init-db"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_INIT_DB</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_INIT_DB.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-query"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_QUERY</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_QUERY.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-field-list"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_FIELD_LIST</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_FIELD_LIST.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-create-db"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_CREATE_DB</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_CREATE_DB.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-drop-db"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_DROP_DB</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_DROP_DB.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-refresh"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_REFRESH</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_REFRESH.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-shutdown"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_SHUTDOWN</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_SHUTDOWN.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-statistics"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STATISTICS</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STATISTICS.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-process-info"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_PROCESS_INFO</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_PROCESS_INFO.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-connect"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_CONNECT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_CONNECT.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-process-kill"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_PROCESS_KILL</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_PROCESS_KILL.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-debug"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_DEBUG</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_DEBUG.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-ping"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_PING</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_PING.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-time"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_TIME</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_TIME.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-delayed-insert"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_DELAYED_INSERT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_DELAYED_INSERT.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-change-user"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_CHANGE_USER</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_CHANGE_USER.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-binlog-dump"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_BINLOG_DUMP</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_BINLOG_DUMP.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-table-dump"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_TABLE_DUMP</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_TABLE_DUMP.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-connect-out"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_CONNECT_OUT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_CONNECT_OUT.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-register-slaved"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_REGISTER_SLAVED</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_REGISTER_SLAVED.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-stmt-prepare"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STMT_PREPARE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STMT_PREPARE.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-stmt-execute"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STMT_EXECUTE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STMT_EXECUTE.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-stmt-send-long-data"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STMT_SEND_LONG_DATA</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STMT_SEND_LONG_DATA.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-stmt-close"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STMT_CLOSE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STMT_CLOSE.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-stmt-reset"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STMT_RESET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STMT_RESET.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-set-option"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_SET_OPTION</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_SET_OPTION.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-stmt-fetch"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_STMT_FETCH</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_STMT_FETCH.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-daemon"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_DAEMON</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_DAEMON.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-com-end"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_COM_END</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol command: COM_END.
</dd></dl>
</div>
<p>
    </p><p>
      The following constants can be used to analyze the
      <code class="literal">ok_packet</code> argument of
      <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommand" title="9.7.44 MysqlndUhConnection::simpleCommand"><code class="function">MysqlndUhConnection::simpleCommand</code></a>.
    </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-greet-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_GREET_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: greeting.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-auth-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_AUTH_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: authentication.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-ok-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_OK_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: OK.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-eof-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_EOF_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: EOF.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-cmd-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_CMD_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: command.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-rset-header-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_RSET_HEADER_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: result set header.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-rset-fld-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_RSET_FLD_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: resultset field.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-row-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_ROW_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: row.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-stats-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_STATS_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: stats.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prepare-resp-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PREPARE_RESP_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: prepare response.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-chg-user-resp-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_CHG_USER_RESP_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      MySQL Client Server protocol packet: change user response.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-prot-last"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_PROT_LAST</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      No practical meaning. Last entry marker of internal C data structure list.
</dd></dl>
</div>
<p>
    </p><p>
      <span class="emphasis"><em><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.close" title="9.7.3 MysqlndUhConnection::close"><code class="function">MysqlndUhConnection::close</code></a>
      related</em></span>
    </p><p>
      The following constants can be used to detect why a connection has
      been closed through
      <code class="literal">MysqlndUhConnection::close()</code>.
    </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-close-explicit"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_EXPLICIT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      User has called mysqlnd to close the connection.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-close-implicit"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_IMPLICIT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Implicitly closed, for example, during garbage connection.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-close-disconnected"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_DISCONNECTED</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Connection error.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-close-last"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_LAST</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      No practical meaning. Last entry marker of internal C data structure list.
</dd></dl>
</div>
<p>
    </p><p>
      <span class="emphasis"><em>MysqlndUhConnection::setServerOption()
      related</em></span>
    </p><p>
      The following constants can be used to detect which option is set
      through <code class="literal">MysqlndUhConnection::setServerOption()</code>.
    </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-constant.mysqlnd-uh-server-option-multi-statements-on"></a><span class="term">
            <code class="constant">MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_ON</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: enables multi statement support.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-server-option-multi-statements-off"></a><span class="term">
            <code class="constant">MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_OFF</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: disables multi statement support.
</dd></dl>
</div>
<p>
    </p><p>
      <span class="emphasis"><em><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setclientoption" title="9.7.41 MysqlndUhConnection::setClientOption"><code class="function">MysqlndUhConnection::setClientOption</code></a>
      related</em></span>
    </p><p>
      The following constants can be used to detect which option is set
      through
      <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setclientoption" title="9.7.41 MysqlndUhConnection::setClientOption"><code class="function">MysqlndUhConnection::setClientOption</code></a>.
    </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-option-opt-connect-timeout"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPTION_OPT_CONNECT_TIMEOUT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: connection timeout.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-option-opt-compress"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPTION_OPT_COMPRESS</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: whether the MySQL compressed protocol is to be used.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-option-opt-named-pipe"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPTION_OPT_NAMED_PIPE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: named pipe to use for connection (Windows).
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-option-init-command"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPTION_INIT_COMMAND</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: init command to execute upon connect.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-read-default-file"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_READ_DEFAULT_FILE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: MySQL server default file to read upon connect.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-read-default-group"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_READ_DEFAULT_GROUP</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: MySQL server default file group to read upon connect.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-set-charset-dir"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_SET_CHARSET_DIR</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: charset description files directory.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-set-charset-name"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_SET_CHARSET_NAME</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: charset name.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-local-infile"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_LOCAL_INFILE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: Whether to allow <code class="literal">LOAD DATA LOCAL INFILE</code> use.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-protocol"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_PROTOCOL</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: supported protocol version.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-shared-memory-base-name"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_SHARED_MEMORY_BASE_NAME</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: shared memory base name for shared memory connections.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-read-timeout"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_READ_TIMEOUT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: connection read timeout.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-write-timeout"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_WRITE_TIMEOUT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: connection write timeout.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-use-result"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_USE_RESULT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: unbuffered result sets.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-use-remote-connection"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_USE_REMOTE_CONNECTION</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Embedded server related.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-use-embedded-connection"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_USE_EMBEDDED_CONNECTION</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Embedded server related.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-guess-connection"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_GUESS_CONNECTION</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      TODO
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-set-client-ip"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_SET_CLIENT_IP</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
       TODO
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-secure-auth"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_SECURE_AUTH</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      TODO
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-report-data-truncation"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_REPORT_DATA_TRUNCATION</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: Whether to report data truncation.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-reconnect"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_RECONNECT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: Whether to reconnect automatically.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-verify-server-cert"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_VERIFY_SERVER_CERT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: TODO
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-net-cmd-buffer-size"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_NET_CMD_BUFFER_SIZE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: mysqlnd network buffer size for commands.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-net-read-buffer-size"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_NET_READ_BUFFER_SIZE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: mysqlnd network buffer size for reading from the server.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-key"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_KEY</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: SSL key.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-cert"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_CERT</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: SSL certificate.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-ca"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_CA</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: SSL CA.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-capath"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_CAPATH</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: Path to SSL CA.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-cipher"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_CIPHER</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: SSL cipher.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-ssl-passphrase"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_SSL_PASSPHRASE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: SSL passphrase.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-server-option-plugin-dir"></a><span class="term">
            <code class="constant">MYSQLND_UH_SERVER_OPTION_PLUGIN_DIR</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: server plugin directory.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-server-option-default-auth"></a><span class="term">
            <code class="constant">MYSQLND_UH_SERVER_OPTION_DEFAULT_AUTH</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: default authentication method.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-server-option-set-client-ip"></a><span class="term">
            <code class="constant">MYSQLND_UH_SERVER_OPTION_SET_CLIENT_IP</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
       TODO
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-max-allowed-packet"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_MAX_ALLOWED_PACKET</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: maximum allowed packet size. Available as of <code class="literal">PHP 5.4.0</code>.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-auth-protocol"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_AUTH_PROTOCOL</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: TODO. Available as of <code class="literal">PHP 5.4.0</code>.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-mysqlnd-opt-int-and-float-native"></a><span class="term">
            <code class="constant">MYSQLND_UH_MYSQLND_OPT_INT_AND_FLOAT_NATIVE</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Option: make mysqlnd return integer and float columns as long even
      when using the MySQL Client Server text protocol. Only
      available with a custom build of mysqlnd.
</dd></dl>
</div>
<p>
    </p><p>
      <span class="emphasis"><em>Other</em></span>
    </p><p>
      The plugins version number can be obtained using
      <code class="constant">MYSQLND_UH_VERSION</code> or
      <code class="constant">MYSQLND_UH_VERSION_ID</code>.
      <code class="constant">MYSQLND_UH_VERSION</code> is the string
      representation of the numerical version number
      <code class="constant">MYSQLND_UH_VERSION_ID</code>, which is an integer
      such as 10000. Developers can calculate the version number as
      follows.
    </p><p>
</p>
<div class="informaltable">
<table class="informaltable" summary="Unknown PHP API feature." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Version (part)</th><th scope="col">Example</th></tr></thead><tbody><tr><td scope="row">Major*10000</td><td>1*10000 = 10000</td></tr><tr><td scope="row">Minor*100</td><td>0*100 = 0</td></tr><tr><td scope="row">Patch</td><td>0 = 0</td></tr><tr><td scope="row"><code class="constant">MYSQLND_UH_VERSION_ID</code></td><td>10000</td></tr></tbody></table>
</div>
<p>
    </p><p>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><a name="apis-php-constant.mysqlnd-uh-version"></a><span class="term">
            <code class="constant">MYSQLND_UH_VERSION</code>
            (<span class="type">string</span>)
          </span></dt><dd>
      Plugin version string, for example, <span class="quote">“<span class="quote">1.0.0-alpha</span>”</span>.
     </dd><dt><a name="apis-php-constant.mysqlnd-uh-version-id"></a><span class="term">
            <code class="constant">MYSQLND_UH_VERSION_ID</code>
            (<span class="type">integer</span>)
          </span></dt><dd>
      Plugin version number, for example, 10000.
</dd></dl>
</div>
<p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-class.mysqlnduhconnection"></a>9.7 The MysqlndUhConnection class</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.changeuser">9.7.1 <code class="literal">MysqlndUhConnection::changeUser</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.charsetname">9.7.2 <code class="literal">MysqlndUhConnection::charsetName</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.close">9.7.3 <code class="literal">MysqlndUhConnection::close</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.connect">9.7.4 <code class="literal">MysqlndUhConnection::connect</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.construct">9.7.5 <code class="literal">MysqlndUhConnection::__construct</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.endpsession">9.7.6 <code class="literal">MysqlndUhConnection::endPSession</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.escapestring">9.7.7 <code class="literal">MysqlndUhConnection::escapeString</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getaffectedrows">9.7.8 <code class="literal">MysqlndUhConnection::getAffectedRows</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrornumber">9.7.9 <code class="literal">MysqlndUhConnection::getErrorNumber</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrorstring">9.7.10 <code class="literal">MysqlndUhConnection::getErrorString</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getfieldcount">9.7.11 <code class="literal">MysqlndUhConnection::getFieldCount</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.gethostinformation">9.7.12 <code class="literal">MysqlndUhConnection::getHostInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getlastinsertid">9.7.13 <code class="literal">MysqlndUhConnection::getLastInsertId</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getlastmessage">9.7.14 <code class="literal">MysqlndUhConnection::getLastMessage</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getprotocolinformation">9.7.15 <code class="literal">MysqlndUhConnection::getProtocolInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverinformation">9.7.16 <code class="literal">MysqlndUhConnection::getServerInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverstatistics">9.7.17 <code class="literal">MysqlndUhConnection::getServerStatistics</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverversion">9.7.18 <code class="literal">MysqlndUhConnection::getServerVersion</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getsqlstate">9.7.19 <code class="literal">MysqlndUhConnection::getSqlstate</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getstatistics">9.7.20 <code class="literal">MysqlndUhConnection::getStatistics</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getthreadid">9.7.21 <code class="literal">MysqlndUhConnection::getThreadId</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getwarningcount">9.7.22 <code class="literal">MysqlndUhConnection::getWarningCount</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.init">9.7.23 <code class="literal">MysqlndUhConnection::init</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.killconnection">9.7.24 <code class="literal">MysqlndUhConnection::killConnection</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.listfields">9.7.25 <code class="literal">MysqlndUhConnection::listFields</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.listmethod">9.7.26 <code class="literal">MysqlndUhConnection::listMethod</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.moreresults">9.7.27 <code class="literal">MysqlndUhConnection::moreResults</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.nextresult">9.7.28 <code class="literal">MysqlndUhConnection::nextResult</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.ping">9.7.29 <code class="literal">MysqlndUhConnection::ping</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.query">9.7.30 <code class="literal">MysqlndUhConnection::query</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.queryreadresultsetheader">9.7.31 <code class="literal">MysqlndUhConnection::queryReadResultsetHeader</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.reapquery">9.7.32 <code class="literal">MysqlndUhConnection::reapQuery</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.refreshserver">9.7.33 <code class="literal">MysqlndUhConnection::refreshServer</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.restartpsession">9.7.34 <code class="literal">MysqlndUhConnection::restartPSession</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.selectdb">9.7.35 <code class="literal">MysqlndUhConnection::selectDb</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sendclose">9.7.36 <code class="literal">MysqlndUhConnection::sendClose</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sendquery">9.7.37 <code class="literal">MysqlndUhConnection::sendQuery</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.serverdumpdebuginformation">9.7.38 <code class="literal">MysqlndUhConnection::serverDumpDebugInformation</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setautocommit">9.7.39 <code class="literal">MysqlndUhConnection::setAutocommit</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setcharset">9.7.40 <code class="literal">MysqlndUhConnection::setCharset</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setclientoption">9.7.41 <code class="literal">MysqlndUhConnection::setClientOption</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setserveroption">9.7.42 <code class="literal">MysqlndUhConnection::setServerOption</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.shutdownserver">9.7.43 <code class="literal">MysqlndUhConnection::shutdownServer</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommand">9.7.44 <code class="literal">MysqlndUhConnection::simpleCommand</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommandhandleresponse">9.7.45 <code class="literal">MysqlndUhConnection::simpleCommandHandleResponse</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sslset">9.7.46 <code class="literal">MysqlndUhConnection::sslSet</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.stmtinit">9.7.47 <code class="literal">MysqlndUhConnection::stmtInit</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.storeresult">9.7.48 <code class="literal">MysqlndUhConnection::storeResult</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.txcommit">9.7.49 <code class="literal">MysqlndUhConnection::txCommit</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.txrollback">9.7.50 <code class="literal">MysqlndUhConnection::txRollback</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.useresult">9.7.51 <code class="literal">MysqlndUhConnection::useResult</code></a></span></dt></dl>
</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p><a name="apis-php-mysqlnduhconnection.intro"></a></p><p></p><p><a name="apis-php-mysqlnduhconnection.synopsis"></a></p><pre class="classsynopsis"> <span class="ooclass"><span class="classname">MysqlndUhConnection</span></span> {<br> <span class="ooclass"><span class="classname">MysqlndUhConnection</span></span>

Methods<code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::changeUser</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">user</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">password</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">database</span></span>,<br>                                              <span class="methodparam"><span class="type">bool </span><span class="parameter">silent</span></span>,<br>                                              <span class="methodparam"><span class="type">int </span><span class="parameter">passwd_len</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::charsetName</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::close</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                         <span class="methodparam"><span class="type">int </span><span class="parameter">close_type</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::connect</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                           <span class="methodparam"><span class="type">string </span><span class="parameter">host</span></span>,<br>                                           <span class="methodparam"><span class="type">string </span><span class="parameter">use"</span></span>,<br>                                           <span class="methodparam"><span class="type">string </span><span class="parameter">password</span></span>,<br>                                           <span class="methodparam"><span class="type">string </span><span class="parameter">database</span></span>,<br>                                           <span class="methodparam"><span class="type">int </span><span class="parameter">port</span></span>,<br>                                           <span class="methodparam"><span class="type">string </span><span class="parameter">socket</span></span>,<br>                                           <span class="methodparam"><span class="type">int </span><span class="parameter">mysql_flags</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="methodname">MysqlndUhConnection::__construct</span>();</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::endPSession</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::escapeString</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                  <span class="methodparam"><span class="type">string </span><span class="parameter">escape_string</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getAffectedRows</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getErrorNumber</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getErrorString</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getFieldCount</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getHostInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getLastInsertId</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::getLastMessage</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getProtocolInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getServerInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getServerStatistics</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getServerVersion</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getSqlstate</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">array </span><span class="methodname">MysqlndUhConnection::getStatistics</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getThreadId</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getWarningCount</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::init</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::killConnection</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                  <span class="methodparam"><span class="type">int </span><span class="parameter">pid</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">array </span><span class="methodname">MysqlndUhConnection::listFields</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                               <span class="methodparam"><span class="type">string </span><span class="parameter">table</span></span>,<br>                                               <span class="methodparam"><span class="type">string </span><span class="parameter">achtung_wild</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::listMethod</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">achtung_wild</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">par1</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::moreResults</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::nextResult</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::ping</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::query</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                         <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::queryReadResultsetHeader</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                            <span class="methodparam"><span class="type">mysqlnd_statement </span><span class="parameter">mysqlnd_stmt</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::reapQuery</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::refreshServer</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">options</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::restartPSession</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::selectDb</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">database</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::sendClose</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::sendQuery</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                             <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::serverDumpDebugInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::setAutocommit</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">mode</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::setCharset</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                              <span class="methodparam"><span class="type">string </span><span class="parameter">charset</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::setClientOption</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                   <span class="methodparam"><span class="type">int </span><span class="parameter">option</span></span>,<br>                                                   <span class="methodparam"><span class="type">int </span><span class="parameter">value</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::setServerOption</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                   <span class="methodparam"><span class="type">int </span><span class="parameter">option</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::shutdownServer</span>(<span class="methodparam"><span class="type">string </span><span class="parameter">MYSQLND_UH_RES_MYSQLND_NAME</span></span>,<br>                                                  <span class="methodparam"><span class="type">string </span><span class="parameter">"level"</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::simpleCommand</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">command</span></span>,<br>                                                 <span class="methodparam"><span class="type">string </span><span class="parameter">arg</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">ok_packet</span></span>,<br>                                                 <span class="methodparam"><span class="type">bool </span><span class="parameter">silent</span></span>,<br>                                                 <span class="methodparam"><span class="type">bool </span><span class="parameter">ignore_upsert_status</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::simpleCommandHandleResponse</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                               <span class="methodparam"><span class="type">int </span><span class="parameter">ok_packet</span></span>,<br>                                                               <span class="methodparam"><span class="type">bool </span><span class="parameter">silent</span></span>,<br>                                                               <span class="methodparam"><span class="type">int </span><span class="parameter">command</span></span>,<br>                                                               <span class="methodparam"><span class="type">bool </span><span class="parameter">ignore_upsert_status</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::sslSet</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                          <span class="methodparam"><span class="type">string </span><span class="parameter">key</span></span>,<br>                                          <span class="methodparam"><span class="type">string </span><span class="parameter">cert</span></span>,<br>                                          <span class="methodparam"><span class="type">string </span><span class="parameter">ca</span></span>,<br>                                          <span class="methodparam"><span class="type">string </span><span class="parameter">capath</span></span>,<br>                                          <span class="methodparam"><span class="type">string </span><span class="parameter">cipher</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">resource </span><span class="methodname">MysqlndUhConnection::stmtInit</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">resource </span><span class="methodname">MysqlndUhConnection::storeResult</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::txCommit</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::txRollback</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">resource </span><span class="methodname">MysqlndUhConnection::useResult</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><br>}</pre>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.changeuser"></a>9.7.1 <code class="literal">MysqlndUhConnection::changeUser</code></h3>
</div>
</div>
</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::changeUser</code>
          </p><p>
            Changes the user of the specified mysqlnd database
            connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::changeUser</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">user</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">password</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">database</span></span>,<br>                                            <span class="methodparam"><span class="type">bool </span><span class="parameter">silent</span></span>,<br>                                            <span class="methodparam"><span class="type">int </span><span class="parameter">passwd_len</span></span>);</code><p>
        Changes the user of the specified mysqlnd database connection
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>user</code></em>
          </span></dt><dd><p>
              The MySQL user name.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>password</code></em>
          </span></dt><dd><p>
              The MySQL password.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>database</code></em>
          </span></dt><dd><p>
              The MySQL database to change to.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>silent</code></em>
          </span></dt><dd><p>
              Controls if mysqlnd is allowed to emit errors or not.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>passwd_len</code></em>
          </span></dt><dd><p>
              Length of the MySQL password.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441265264"></a><p class="title"><b>Example 9.9 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.changeuser" title="9.7.1 MysqlndUhConnection::changeUser"><code class="function">MysqlndUhConnection::changeUser</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 /* Hook mysqlnd's connection::change_user call */
 public function changeUser($res, $user, $passwd, $db, $silent, $passwd_len) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::changeUser($res, $user, $passwd, $db, $silent, $passwd_len);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
/* Install proxy/hooks to be used with all future mysqlnd connection */
mysqlnd_uh_set_connection_proxy(new proxy());

/* Create mysqli connection which is using the mysqlnd library */
$mysqli = new mysqli("localhost", "root", "", "test");

/* Example of a user API call which triggers the hooked mysqlnd call */
var_dump($mysqli-&gt;change_user("root", "bar", "test"));
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::changeUser(array (
  0 =&gt; NULL,
  1 =&gt; 'root',
  2 =&gt; 'bar',
  3 =&gt; 'test',
  4 =&gt; false,
  5 =&gt; 3,
))
proxy::changeUser returns false
bool(false)


</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.change-user" title="3.9.4 mysqli::change_user, mysqli_change_user"><code class="function">mysqli_change_user</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.charsetname"></a>9.7.2 <code class="literal">MysqlndUhConnection::charsetName</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::charsetName</code>
          </p><p>
            Returns the default character set for the database
            connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::charsetName</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the default character set for the database connection.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The default character set.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441237600"></a><p class="title"><b>Example 9.10 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.charsetname" title="9.7.2 MysqlndUhConnection::charsetName"><code class="function">MysqlndUhConnection::charsetName</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
  public function charsetName($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::charsetName($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump(mysqli_character_set_name($mysqli));
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::charsetName(array (
  0 =&gt; NULL,
))
proxy::charsetName returns 'latin1'
string(6) "latin1"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.character-set-name" title="3.9.5 mysqli::character_set_name, mysqli_character_set_name"><code class="function">mysqli_character_set_name</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.close"></a>9.7.3 <code class="literal">MysqlndUhConnection::close</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::close</code>
          </p><p>
            Closes a previously opened database connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::close</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                       <span class="methodparam"><span class="type">int </span><span class="parameter">close_type</span></span>);</code><p>
        Closes a previously opened database connection.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Failing to call the parent implementation may cause memory
          leaks or crash PHP. This is not considered a bug. Please, keep
          in mind that the <code class="literal">mysqlnd</code> library functions
          have never been designed to be exposed to the user space.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              The connection to be closed. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>close_type</code></em>
          </span></dt><dd><p>
              Why the connection is to be closed. The value of
              <em class="parameter"><code>close_type</code></em> is one of
              <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_EXPLICIT</code>,
              <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_IMPLICIT</code>,
              <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_DISCONNECTED</code>
              or <code class="constant">MYSQLND_UH_MYSQLND_CLOSE_LAST</code>. The
              latter should never be seen, unless the default behaviour
              of the <code class="literal">mysqlnd</code> library has been changed
              by a plugin.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441200304"></a><p class="title"><b>Example 9.11 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.close" title="9.7.3 MysqlndUhConnection::close"><code class="function">MysqlndUhConnection::close</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
function close_type_to_string($close_type) {
 $mapping = array(
  MYSQLND_UH_MYSQLND_CLOSE_DISCONNECTED =&gt; "MYSQLND_UH_MYSQLND_CLOSE_DISCONNECTED",
  MYSQLND_UH_MYSQLND_CLOSE_EXPLICIT =&gt; "MYSQLND_UH_MYSQLND_CLOSE_EXPLICIT",
  MYSQLND_UH_MYSQLND_CLOSE_IMPLICIT =&gt; "MYSQLND_UH_MYSQLND_CLOSE_IMPLICIT",
  MYSQLND_UH_MYSQLND_CLOSE_LAST =&gt; "MYSQLND_UH_MYSQLND_CLOSE_IMPLICIT"
 );
 return (isset($mapping[$close_type])) ? $mapping[$close_type] : 'unknown';
}

class proxy extends MysqlndUhConnection {
  public function close($res, $close_type) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   printf("close_type = %s\n", close_type_to_string($close_type));
   /* WARNING: you must call the parent */
   $ret = parent::close($res, $close_type);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;close();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::close(array (
  0 =&gt; NULL,
  1 =&gt; 0,
))
close_type = MYSQLND_UH_MYSQLND_CLOSE_EXPLICIT
proxy::close returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.close" title="3.9.8 mysqli::close, mysqli_close"><code class="function">mysqli_close</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-close" title="5.5.3 mysql_close"><code class="function">mysql_close</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.connect"></a>9.7.4 <code class="literal">MysqlndUhConnection::connect</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::connect</code>
          </p><p>
            Open a new connection to the MySQL server
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::connect</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                         <span class="methodparam"><span class="type">string </span><span class="parameter">host</span></span>,<br>                                         <span class="methodparam"><span class="type">string </span><span class="parameter">use"</span></span>,<br>                                         <span class="methodparam"><span class="type">string </span><span class="parameter">password</span></span>,<br>                                         <span class="methodparam"><span class="type">string </span><span class="parameter">database</span></span>,<br>                                         <span class="methodparam"><span class="type">int </span><span class="parameter">port</span></span>,<br>                                         <span class="methodparam"><span class="type">string </span><span class="parameter">socket</span></span>,<br>                                         <span class="methodparam"><span class="type">int </span><span class="parameter">mysql_flags</span></span>);</code><p>
        Open a new connection to the MySQL server.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>host</code></em>
          </span></dt><dd><p>
              Can be either a host name or an IP address. Passing the
              NULL value or the string "localhost" to this
              parameter, the local host is assumed. When possible, pipes
              will be used instead of the TCP/IP protocol.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>user</code></em>
          </span></dt><dd><p>
              The MySQL user name.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>password</code></em>
          </span></dt><dd><p>
              If not provided or <code class="constant">NULL</code>, the MySQL
              server will attempt to authenticate the user against those
              user records which have no password only. This allows one
              username to be used with different permissions (depending
              on if a password as provided or not).
            </p></dd><dt><span class="term">
            <em class="parameter"><code>database</code></em>
          </span></dt><dd><p>
              If provided will specify the default database to be used
              when performing queries.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>port</code></em>
          </span></dt><dd><p>
              Specifies the port number to attempt to connect to the
              MySQL server.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>socket</code></em>
          </span></dt><dd><p>
              Specifies the socket or named pipe that should be used. If
              <code class="constant">NULL</code>, mysqlnd will default to
              <code class="literal">/tmp/mysql.sock</code>.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>mysql_flags</code></em>
          </span></dt><dd><p>
              Connection options.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441138080"></a><p class="title"><b>Example 9.12 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.connect" title="9.7.4 MysqlndUhConnection::connect"><code class="function">MysqlndUhConnection::connect</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function connect($res, $host, $user, $passwd, $db, $port, $socket, $mysql_flags) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::connect($res, $host, $user, $passwd, $db, $port, $socket, $mysql_flags);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::connect(array (
  0 =&gt; NULL,
  1 =&gt; 'localhost',
  2 =&gt; 'root',
  3 =&gt; '',
  4 =&gt; 'test',
  5 =&gt; 3306,
  6 =&gt; NULL,
  7 =&gt; 131072,
))
proxy::connect returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-function.mysqli-connect" title="3.15.4 mysqli_connect"><code class="function">mysqli_connect</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-connect" title="5.5.4 mysql_connect"><code class="function">mysql_connect</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.construct"></a>9.7.5 <code class="literal">MysqlndUhConnection::__construct</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::__construct</code>
          </p><p>
            The __construct purpose
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
</p><code class="methodsynopsis"><span class="modifier">public </span><span class="methodname">MysqlndUhConnection::__construct</span>();</code><p></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
      </p><p>
        This function has no parameters.
      </p><p>
        <span class="bold"><strong>Return Values</strong></span>
</p><p></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.endpsession"></a>9.7.6 <code class="literal">MysqlndUhConnection::endPSession</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::endPSession</code>
          </p><p>
            End a persistent connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::endPSession</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        End a persistent connection
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441096000"></a><p class="title"><b>Example 9.13 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.endpsession" title="9.7.6 MysqlndUhConnection::endPSession"><code class="function">MysqlndUhConnection::endPSession</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function endPSession($conn) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::endPSession($conn);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("p:localhost", "root", "", "test");
$mysqli-&gt;close();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::endPSession(array (
  0 =&gt; NULL,
))
proxy::endPSession returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.escapestring"></a>9.7.7 <code class="literal">MysqlndUhConnection::escapeString</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::escapeString</code>
          </p><p>
            Escapes special characters in a string for use in an SQL
            statement, taking into account the current charset of the
            connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::escapeString</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                <span class="methodparam"><span class="type">string </span><span class="parameter">escape_string</span></span>);</code><p>
        Escapes special characters in a string for use in an SQL
        statement, taking into account the current charset of the
        connection.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>MYSQLND_UH_RES_MYSQLND_NAME</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>escape_string</code></em>
          </span></dt><dd><p>
              The string to be escaped.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The escaped string.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441066096"></a><p class="title"><b>Example 9.14 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.escapestring" title="9.7.7 MysqlndUhConnection::escapeString"><code class="function">MysqlndUhConnection::escapeString</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function escapeString($res, $string) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::escapeString($res, $string);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;set_charset("latin1");
$mysqli-&gt;real_escape_string("test0'test");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::escapeString(array (
  0 =&gt; NULL,
  1 =&gt; 'test0\'test',
))
proxy::escapeString returns 'test0\\\'test'

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.real-escape-string" title="3.9.42 mysqli::real_escape_string, mysqli_real_escape_string"><code class="function">mysqli_real_escape_string</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-real-escape-string" title="5.5.41 mysql_real_escape_string"><code class="function">mysql_real_escape_string</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getaffectedrows"></a>9.7.8 <code class="literal">MysqlndUhConnection::getAffectedRows</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getAffectedRows</code>
          </p><p>
            Gets the number of affected rows in a previous MySQL
            operation
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getAffectedRows</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Gets the number of affected rows in a previous MySQL operation.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Number of affected rows.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660441037776"></a><p class="title"><b>Example 9.15 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getaffectedrows" title="9.7.8 MysqlndUhConnection::getAffectedRows"><code class="function">MysqlndUhConnection::getAffectedRows</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getAffectedRows($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getAffectedRows($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;query("DROP TABLE IF EXISTS test");
$mysqli-&gt;query("CREATE TABLE test(id INT)");
$mysqli-&gt;query("INSERT INTO test(id) VALUES (1)");
var_dump($mysqli-&gt;affected_rows);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getAffectedRows(array (
  0 =&gt; NULL,
))
proxy::getAffectedRows returns 1
int(1)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.affected-rows" title="3.9.1 mysqli::$affected_rows, mysqli_affected_rows"><code class="function">mysqli_affected_rows</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-affected-rows" title="5.5.1 mysql_affected_rows"><code class="function">mysql_affected_rows</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.geterrornumber"></a>9.7.9 <code class="literal">MysqlndUhConnection::getErrorNumber</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getErrorNumber</code>
          </p><p>
            Returns the error code for the most recent function call
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getErrorNumber</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the error code for the most recent function call.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Error code for the most recent function call.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrornumber" title="9.7.9 MysqlndUhConnection::getErrorNumber"><code class="function">MysqlndUhConnection::getErrorNumber</code></a>
        is not only executed after the invocation of a user space API
        call which maps directly to it but also called internally.
      </p><p>
</p>
<div class="example">
<a name="idm139660441007200"></a><p class="title"><b>Example 9.16 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrornumber" title="9.7.9 MysqlndUhConnection::getErrorNumber"><code class="function">MysqlndUhConnection::getErrorNumber</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getErrorNumber($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getErrorNumber($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

printf("connect...\n");
$mysqli = new mysqli("localhost", "root", "", "test");
printf("query...\n");
$mysqli-&gt;query("PLEASE_LET_THIS_BE_INVALID_SQL");
printf("errno...\n");
var_dump($mysqli-&gt;errno);
printf("close...\n");
$mysqli-&gt;close();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

connect...
proxy::getErrorNumber(array (
  0 =&gt; NULL,
))
proxy::getErrorNumber returns 0
query...
errno...
proxy::getErrorNumber(array (
  0 =&gt; NULL,
))
proxy::getErrorNumber returns 1064
int(1064)
close...

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrorstring" title="9.7.10 MysqlndUhConnection::getErrorString"><code class="function">MysqlndUhConnection::getErrorString</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.errno" title="3.9.15 mysqli::$errno, mysqli_errno"><code class="function">mysqli_errno</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-errno" title="5.5.10 mysql_errno"><code class="function">mysql_errno</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.geterrorstring"></a>9.7.10 <code class="literal">MysqlndUhConnection::getErrorString</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getErrorString</code>
          </p><p>
            Returns a string description of the last error
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getErrorString</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns a string description of the last error.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Error string for the most recent function call.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrorstring" title="9.7.10 MysqlndUhConnection::getErrorString"><code class="function">MysqlndUhConnection::getErrorString</code></a>
        is not only executed after the invocation of a user space API
        call which maps directly to it but also called internally.
      </p><p>
</p>
<div class="example">
<a name="idm139660440975104"></a><p class="title"><b>Example 9.17 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrorstring" title="9.7.10 MysqlndUhConnection::getErrorString"><code class="function">MysqlndUhConnection::getErrorString</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getErrorString($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getErrorString($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

printf("connect...\n");
$mysqli = new mysqli("localhost", "root", "", "test");
printf("query...\n");
$mysqli-&gt;query("WILL_I_EVER_LEARN_SQL?");
printf("errno...\n");
var_dump($mysqli-&gt;error);
printf("close...\n");
$mysqli-&gt;close();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

connect...
proxy::getErrorString(array (
  0 =&gt; NULL,
))
proxy::getErrorString returns ''
query...
errno...
proxy::getErrorString(array (
  0 =&gt; NULL,
))
proxy::getErrorString returns 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'WILL_I_EVER_LEARN_SQL?\' at line 1'
string(168) "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WILL_I_EVER_LEARN_SQL?' at line 1"
close...

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.geterrornumber" title="9.7.9 MysqlndUhConnection::getErrorNumber"><code class="function">MysqlndUhConnection::getErrorNumber</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.error" title="3.9.17 mysqli::$error, mysqli_error"><code class="function">mysqli_error</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-error" title="5.5.11 mysql_error"><code class="function">mysql_error</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getfieldcount"></a>9.7.11 <code class="literal">MysqlndUhConnection::getFieldCount</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getFieldCount</code>
          </p><p>
            Returns the number of columns for the most recent query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getFieldCount</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the number of columns for the most recent query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Number of columns.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
        <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getfieldcount" title="9.7.11 MysqlndUhConnection::getFieldCount"><code class="function">MysqlndUhConnection::getFieldCount</code></a>
        is not only executed after the invocation of a user space API
        call which maps directly to it but also called internally.
      </p><p>
</p>
<div class="example">
<a name="idm139660440941936"></a><p class="title"><b>Example 9.18 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getfieldcount" title="9.7.11 MysqlndUhConnection::getFieldCount"><code class="function">MysqlndUhConnection::getFieldCount</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getFieldCount($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getFieldCount($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;query("WILL_I_EVER_LEARN_SQL?");
var_dump($mysqli-&gt;field_count);
$mysqli-&gt;query("SELECT 1, 2, 3 FROM DUAL");
var_dump($mysqli-&gt;field_count);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getFieldCount(array (
  0 =&gt; NULL,
))
proxy::getFieldCount returns 0
int(0)
proxy::getFieldCount(array (
  0 =&gt; NULL,
))
proxy::getFieldCount returns 3
proxy::getFieldCount(array (
  0 =&gt; NULL,
))
proxy::getFieldCount returns 3
int(3)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.field-count" title="3.9.18 mysqli::$field_count, mysqli_field_count"><code class="function">mysqli_field_count</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.gethostinformation"></a>9.7.12 <code class="literal">MysqlndUhConnection::getHostInformation</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getHostInformation</code>
          </p><p>
            Returns a string representing the type of connection used
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getHostInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns a string representing the type of connection used.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Connection description.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440915024"></a><p class="title"><b>Example 9.19 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.gethostinformation" title="9.7.12 MysqlndUhConnection::getHostInformation"><code class="function">MysqlndUhConnection::getHostInformation</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getHostInformation($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getHostInformation($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;host_info);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getHostInformation(array (
  0 =&gt; NULL,
))
proxy::getHostInformation returns 'Localhost via UNIX socket'
string(25) "Localhost via UNIX socket"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.get-host-info" title="3.9.24 mysqli::$host_info, mysqli_get_host_info"><code class="function">mysqli_get_host_info</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-get-host-info" title="5.5.27 mysql_get_host_info"><code class="function">mysql_get_host_info</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getlastinsertid"></a>9.7.13 <code class="literal">MysqlndUhConnection::getLastInsertId</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getLastInsertId</code>
          </p><p>
            Returns the auto generated id used in the last query.
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getLastInsertId</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the auto generated id used in the last query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Last insert id.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440886400"></a><p class="title"><b>Example 9.20 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getlastinsertid" title="9.7.13 MysqlndUhConnection::getLastInsertId"><code class="function">MysqlndUhConnection::getLastInsertId</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getLastInsertId($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getLastInsertId($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;query("DROP TABLE IF EXISTS test");
$mysqli-&gt;query("CREATE TABLE test(id INT AUTO_INCREMENT PRIMARY KEY, col VARCHAR(255))");
$mysqli-&gt;query("INSERT INTO test(col) VALUES ('a')");
var_dump($mysqli-&gt;insert_id);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getLastInsertId(array (
  0 =&gt; NULL,
))
proxy::getLastInsertId returns 1
int(1)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.insert-id" title="3.9.31 mysqli::$insert_id, mysqli_insert_id"><code class="function">mysqli_insert_id</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-insert-id" title="5.5.31 mysql_insert_id"><code class="function">mysql_insert_id</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getlastmessage"></a>9.7.14 <code class="literal">MysqlndUhConnection::getLastMessage</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getLastMessage</code>
          </p><p>
            Retrieves information about the most recently executed query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::getLastMessage</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Retrieves information about the most recently executed query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Last message. Trying to return a string longer than 511 bytes
        will cause an error of the type <code class="literal">E_WARNING</code> and
        result in the string being truncated.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440856928"></a><p class="title"><b>Example 9.21 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getlastmessage" title="9.7.14 MysqlndUhConnection::getLastMessage"><code class="function">MysqlndUhConnection::getLastMessage</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getLastMessage($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::getLastMessage($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;info);
$mysqli-&gt;query("DROP TABLE IF EXISTS test");
var_dump($mysqli-&gt;info);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getLastMessage(array (
  0 =&gt; NULL,
))
proxy::getLastMessage returns ''
string(0) ""
proxy::getLastMessage(array (
  0 =&gt; NULL,
))
proxy::getLastMessage returns ''
string(0) ""

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.info" title="3.9.29 mysqli::$info, mysqli_info"><code class="function">mysqli_info</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-info" title="5.5.30 mysql_info"><code class="function">mysql_info</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getprotocolinformation"></a>9.7.15 <code class="literal">MysqlndUhConnection::getProtocolInformation</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getProtocolInformation</code>
          </p><p>
            Returns the version of the MySQL protocol used
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getProtocolInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the version of the MySQL protocol used.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The protocol version.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440828368"></a><p class="title"><b>Example 9.22 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getprotocolinformation" title="9.7.15 MysqlndUhConnection::getProtocolInformation"><code class="function">MysqlndUhConnection::getProtocolInformation</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getProtocolInformation($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getProtocolInformation($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;protocol_version);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getProtocolInformation(array (
  0 =&gt; NULL,
))
proxy::getProtocolInformation returns 10
int(10)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.get-proto-info" title="3.9.25 mysqli::$protocol_version, mysqli_get_proto_info"><code class="function">mysqli_get_proto_info</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-get-proto-info" title="5.5.28 mysql_get_proto_info"><code class="function">mysql_get_proto_info</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getserverinformation"></a>9.7.16 <code class="literal">MysqlndUhConnection::getServerInformation</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getServerInformation</code>
          </p><p>
            Returns the version of the MySQL server
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getServerInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the version of the MySQL server.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The server version.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440799744"></a><p class="title"><b>Example 9.23 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverinformation" title="9.7.16 MysqlndUhConnection::getServerInformation"><code class="function">MysqlndUhConnection::getServerInformation</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getServerInformation($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getServerInformation($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;server_info);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getServerInformation(array (
  0 =&gt; NULL,
))
proxy::getServerInformation returns '5.1.45-debug-log'
string(16) "5.1.45-debug-log"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.get-server-info" title="3.9.26 mysqli::$server_info, mysqli_get_server_info"><code class="function">mysqli_get_server_info</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-get-server-info" title="5.5.29 mysql_get_server_info"><code class="function">mysql_get_server_info</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getserverstatistics"></a>9.7.17 <code class="literal">MysqlndUhConnection::getServerStatistics</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getServerStatistics</code>
          </p><p>
            Gets the current system status
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getServerStatistics</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Gets the current system status.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The system status message.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440771024"></a><p class="title"><b>Example 9.24 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverstatistics" title="9.7.17 MysqlndUhConnection::getServerStatistics"><code class="function">MysqlndUhConnection::getServerStatistics</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getServerStatistics($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getServerStatistics($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump(mysqli_stat($mysqli));
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getServerStatistics(array (
  0 =&gt; NULL,
))
proxy::getServerStatistics returns 'Uptime: 2059995  Threads: 1  Questions: 126157  Slow queries: 0  Opens: 6377  Flush tables: 1  Open tables: 18  Queries per second avg: 0.61'
string(140) "Uptime: 2059995  Threads: 1  Questions: 126157  Slow queries: 0  Opens: 6377  Flush tables: 1  Open tables: 18  Queries per second avg: 0.61"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.stat" title="3.9.57 mysqli::stat, mysqli_stat"><code class="function">mysqli_stat</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-stat" title="5.5.45 mysql_stat"><code class="function">mysql_stat</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getserverversion"></a>9.7.18 <code class="literal">MysqlndUhConnection::getServerVersion</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getServerVersion</code>
          </p><p>
            Returns the version of the MySQL server as an integer
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getServerVersion</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the version of the MySQL server as an integer.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The MySQL version.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440741792"></a><p class="title"><b>Example 9.25 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getserverversion" title="9.7.18 MysqlndUhConnection::getServerVersion"><code class="function">MysqlndUhConnection::getServerVersion</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getServerVersion($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getServerVersion($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;server_version);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getServerVersion(array (
  0 =&gt; NULL,
))
proxy::getServerVersion returns 50145
int(50145)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.get-server-version" title="3.9.27 mysqli::$server_version, mysqli_get_server_version"><code class="function">mysqli_get_server_version</code></a>

          </td></tr><tr><td><a class="ulink" href="http://www.php.net/mysql_get_server_version" target="_top"><code class="function">mysql_get_server_version</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getsqlstate"></a>9.7.19 <code class="literal">MysqlndUhConnection::getSqlstate</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getSqlstate</code>
          </p><p>
            Returns the SQLSTATE error from previous MySQL operation
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">string </span><span class="methodname">MysqlndUhConnection::getSqlstate</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the SQLSTATE error from previous MySQL operation.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        The SQLSTATE code.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440713344"></a><p class="title"><b>Example 9.26 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getsqlstate" title="9.7.19 MysqlndUhConnection::getSqlstate"><code class="function">MysqlndUhConnection::getSqlstate</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getSqlstate($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getSqlstate($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;sqlstate);
$mysqli-&gt;query("AN_INVALID_REQUEST_TO_PROVOKE_AN_ERROR");
var_dump($mysqli-&gt;sqlstate);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getSqlstate(array (
  0 =&gt; NULL,
))
proxy::getSqlstate returns '00000'
string(5) "00000"
proxy::getSqlstate(array (
  0 =&gt; NULL,
))
proxy::getSqlstate returns '42000'
string(5) "42000"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="ulink" href="http://www.php.net/mysqli_sql_state" target="_top"><code class="function">mysqli_sql_state</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getstatistics"></a>9.7.20 <code class="literal">MysqlndUhConnection::getStatistics</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getStatistics</code>
          </p><p>
            Returns statistics about the client connection.
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">array </span><span class="methodname">MysqlndUhConnection::getStatistics</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns statistics about the client connection.
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Connection statistics collected by mysqlnd.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440685664"></a><p class="title"><b>Example 9.27 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getstatistics" title="9.7.20 MysqlndUhConnection::getStatistics"><code class="function">MysqlndUhConnection::getStatistics</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getStatistics($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getStatistics($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;get_connection_stats());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getStatistics(array (
  0 =&gt; NULL,
))
proxy::getStatistics returns array (
  'bytes_sent' =&gt; '73',
  'bytes_received' =&gt; '77',
  'packets_sent' =&gt; '2',
  'packets_received' =&gt; '2',
  'protocol_overhead_in' =&gt; '8',
  'protocol_overhead_out' =&gt; '8',
  'bytes_received_ok_packet' =&gt; '0',
  'bytes_received_eof_packet' =&gt; '0',
  'bytes_received_rset_header_packet' =&gt; '0',
  'bytes_received_rset_field_meta_packet' =&gt; '0',
  'bytes_received_rset_row_packet' =&gt; '0',
  'bytes_received_prepare_response_packet' =&gt; '0',
  'bytes_received_change_user_packet' =&gt; '0',
  'packets_sent_command' =&gt; '0',
  'packets_received_ok' =&gt; '0',
  'packets_received_eof' =&gt; '0',
  'packets_received_rset_header' =&gt; '0',
  'packets_received_rset_field_meta' =&gt; '0',
  'packets_received_rset_row' =&gt; '0',
  'packets_received_prepare_response' =&gt; '0',
  'packets_received_change_user' =&gt; '0',
  'result_set_queries' =&gt; '0',
  'non_result_set_queries' =&gt; '0',
  'no_index_used' =&gt; '0',
  'bad_index_used' =&gt; '0',
  'slow_queries' =&gt; '0',
  'buffered_sets' =&gt; '0',
  'unbuffered_sets' =&gt; '0',
  'ps_buffered_sets' =&gt; '0',
  'ps_unbuffered_sets' =&gt; '0',
  'flushed_normal_sets' =&gt; '0',
  'flushed_ps_sets' =&gt; '0',
  'ps_prepared_never_executed' =&gt; '0',
  'ps_prepared_once_executed' =&gt; '0',
  'rows_fetched_from_server_normal' =&gt; '0',
  'rows_fetched_from_server_ps' =&gt; '0',
  'rows_buffered_from_client_normal' =&gt; '0',
  'rows_buffered_from_client_ps' =&gt; '0',
  'rows_fetched_from_client_normal_buffered' =&gt; '0',
  'rows_fetched_from_client_normal_unbuffered' =&gt; '0',
  'rows_fetched_from_client_ps_buffered' =&gt; '0',
  'rows_fetched_from_client_ps_unbuffered' =&gt; '0',
  'rows_fetched_from_client_ps_cursor' =&gt; '0',
  'rows_affected_normal' =&gt; '0',
  'rows_affected_ps' =&gt; '0',
  'rows_skipped_normal' =&gt; '0',
  'rows_skipped_ps' =&gt; '0',
  'copy_on_write_saved' =&gt; '0',
  'copy_on_write_performed' =&gt; '0',
  'command_buffer_too_small' =&gt; '0',
  'connect_success' =&gt; '1',
  'connect_failure' =&gt; '0',
  'connection_reused' =&gt; '0',
  'reconnect' =&gt; '0',
  'pconnect_success' =&gt; '0',
  'active_connections' =&gt; '1',
  'active_persistent_connections' =&gt; '0',
  'explicit_close' =&gt; '0',
  'implicit_close' =&gt; '0',
  'disconnect_close' =&gt; '0',
  'in_middle_of_command_close' =&gt; '0',
  'explicit_free_result' =&gt; '0',
  'implicit_free_result' =&gt; '0',
  'explicit_stmt_close' =&gt; '0',
  'implicit_stmt_close' =&gt; '0',
  'mem_emalloc_count' =&gt; '0',
  'mem_emalloc_amount' =&gt; '0',
  'mem_ecalloc_count' =&gt; '0',
  'mem_ecalloc_amount' =&gt; '0',
  'mem_erealloc_count' =&gt; '0',
  'mem_erealloc_amount' =&gt; '0',
  'mem_efree_count' =&gt; '0',
  'mem_efree_amount' =&gt; '0',
  'mem_malloc_count' =&gt; '0',
  'mem_malloc_amount' =&gt; '0',
  'mem_calloc_count' =&gt; '0',
  'mem_calloc_amount' =&gt; '0',
  'mem_realloc_count' =&gt; '0',
  'mem_realloc_amount' =&gt; '0',
  'mem_free_count' =&gt; '0',
  'mem_free_amount' =&gt; '0',
  'mem_estrndup_count' =&gt; '0',
  'mem_strndup_count' =&gt; '0',
  'mem_estndup_count' =&gt; '0',
  'mem_strdup_count' =&gt; '0',
  'proto_text_fetched_null' =&gt; '0',
  'proto_text_fetched_bit' =&gt; '0',
  'proto_text_fetched_tinyint' =&gt; '0',
  'proto_text_fetched_short' =&gt; '0',
  'proto_text_fetched_int24' =&gt; '0',
  'proto_text_fetched_int' =&gt; '0',
  'proto_text_fetched_bigint' =&gt; '0',
  'proto_text_fetched_decimal' =&gt; '0',
  'proto_text_fetched_float' =&gt; '0',
  'proto_text_fetched_double' =&gt; '0',
  'proto_text_fetched_date' =&gt; '0',
  'proto_text_fetched_year' =&gt; '0',
  'proto_text_fetched_time' =&gt; '0',
  'proto_text_fetched_datetime' =&gt; '0',
  'proto_text_fetched_timestamp' =&gt; '0',
  'proto_text_fetched_string' =&gt; '0',
  'proto_text_fetched_blob' =&gt; '0',
  'proto_text_fetched_enum' =&gt; '0',
  'proto_text_fetched_set' =&gt; '0',
  'proto_text_fetched_geometry' =&gt; '0',
  'proto_text_fetched_other' =&gt; '0',
  'proto_binary_fetched_null' =&gt; '0',
  'proto_binary_fetched_bit' =&gt; '0',
  'proto_binary_fetched_tinyint' =&gt; '0',
  'proto_binary_fetched_short' =&gt; '0',
  'proto_binary_fetched_int24' =&gt; '0',
  'proto_binary_fetched_int' =&gt; '0',
  'proto_binary_fetched_bigint' =&gt; '0',
  'proto_binary_fetched_decimal' =&gt; '0',
  'proto_binary_fetched_float' =&gt; '0',
  'proto_binary_fetched_double' =&gt; '0',
  'proto_binary_fetched_date' =&gt; '0',
  'proto_binary_fetched_year' =&gt; '0',
  'proto_binary_fetched_time' =&gt; '0',
  'proto_binary_fetched_datetime' =&gt; '0',
  'proto_binary_fetched_timestamp' =&gt; '0',
  'proto_binary_fetched_string' =&gt; '0',
  'proto_binary_fetched_blob' =&gt; '0',
  'proto_binary_fetched_enum' =&gt; '0',
  'proto_binary_fetched_set' =&gt; '0',
  'proto_binary_fetched_geometry' =&gt; '0',
  'proto_binary_fetched_other' =&gt; '0',
  'init_command_executed_count' =&gt; '0',
  'init_command_failed_count' =&gt; '0',
  'com_quit' =&gt; '0',
  'com_init_db' =&gt; '0',
  'com_query' =&gt; '0',
  'com_field_list' =&gt; '0',
  'com_create_db' =&gt; '0',
  'com_drop_db' =&gt; '0',
  'com_refresh' =&gt; '0',
  'com_shutdown' =&gt; '0',
  'com_statistics' =&gt; '0',
  'com_process_info' =&gt; '0',
  'com_connect' =&gt; '0',
  'com_process_kill' =&gt; '0',
  'com_debug' =&gt; '0',
  'com_ping' =&gt; '0',
  'com_time' =&gt; '0',
  'com_delayed_insert' =&gt; '0',
  'com_change_user' =&gt; '0',
  'com_binlog_dump' =&gt; '0',
  'com_table_dump' =&gt; '0',
  'com_connect_out' =&gt; '0',
  'com_register_slave' =&gt; '0',
  'com_stmt_prepare' =&gt; '0',
  'com_stmt_execute' =&gt; '0',
  'com_stmt_send_long_data' =&gt; '0',
  'com_stmt_close' =&gt; '0',
  'com_stmt_reset' =&gt; '0',
  'com_stmt_set_option' =&gt; '0',
  'com_stmt_fetch' =&gt; '0',
  'com_deamon' =&gt; '0',
  'bytes_received_real_data_normal' =&gt; '0',
  'bytes_received_real_data_ps' =&gt; '0',
)
array(160) {
  ["bytes_sent"]=&gt;
  string(2) "73"
  ["bytes_received"]=&gt;
  string(2) "77"
  ["packets_sent"]=&gt;
  string(1) "2"
  ["packets_received"]=&gt;
  string(1) "2"
  ["protocol_overhead_in"]=&gt;
  string(1) "8"
  ["protocol_overhead_out"]=&gt;
  string(1) "8"
  ["bytes_received_ok_packet"]=&gt;
  string(1) "0"
  ["bytes_received_eof_packet"]=&gt;
  string(1) "0"
  ["bytes_received_rset_header_packet"]=&gt;
  string(1) "0"
  ["bytes_received_rset_field_meta_packet"]=&gt;
  string(1) "0"
  ["bytes_received_rset_row_packet"]=&gt;
  string(1) "0"
  ["bytes_received_prepare_response_packet"]=&gt;
  string(1) "0"
  ["bytes_received_change_user_packet"]=&gt;
  string(1) "0"
  ["packets_sent_command"]=&gt;
  string(1) "0"
  ["packets_received_ok"]=&gt;
  string(1) "0"
  ["packets_received_eof"]=&gt;
  string(1) "0"
  ["packets_received_rset_header"]=&gt;
  string(1) "0"
  ["packets_received_rset_field_meta"]=&gt;
  string(1) "0"
  ["packets_received_rset_row"]=&gt;
  string(1) "0"
  ["packets_received_prepare_response"]=&gt;
  string(1) "0"
  ["packets_received_change_user"]=&gt;
  string(1) "0"
  ["result_set_queries"]=&gt;
  string(1) "0"
  ["non_result_set_queries"]=&gt;
  string(1) "0"
  ["no_index_used"]=&gt;
  string(1) "0"
  ["bad_index_used"]=&gt;
  string(1) "0"
  ["slow_queries"]=&gt;
  string(1) "0"
  ["buffered_sets"]=&gt;
  string(1) "0"
  ["unbuffered_sets"]=&gt;
  string(1) "0"
  ["ps_buffered_sets"]=&gt;
  string(1) "0"
  ["ps_unbuffered_sets"]=&gt;
  string(1) "0"
  ["flushed_normal_sets"]=&gt;
  string(1) "0"
  ["flushed_ps_sets"]=&gt;
  string(1) "0"
  ["ps_prepared_never_executed"]=&gt;
  string(1) "0"
  ["ps_prepared_once_executed"]=&gt;
  string(1) "0"
  ["rows_fetched_from_server_normal"]=&gt;
  string(1) "0"
  ["rows_fetched_from_server_ps"]=&gt;
  string(1) "0"
  ["rows_buffered_from_client_normal"]=&gt;
  string(1) "0"
  ["rows_buffered_from_client_ps"]=&gt;
  string(1) "0"
  ["rows_fetched_from_client_normal_buffered"]=&gt;
  string(1) "0"
  ["rows_fetched_from_client_normal_unbuffered"]=&gt;
  string(1) "0"
  ["rows_fetched_from_client_ps_buffered"]=&gt;
  string(1) "0"
  ["rows_fetched_from_client_ps_unbuffered"]=&gt;
  string(1) "0"
  ["rows_fetched_from_client_ps_cursor"]=&gt;
  string(1) "0"
  ["rows_affected_normal"]=&gt;
  string(1) "0"
  ["rows_affected_ps"]=&gt;
  string(1) "0"
  ["rows_skipped_normal"]=&gt;
  string(1) "0"
  ["rows_skipped_ps"]=&gt;
  string(1) "0"
  ["copy_on_write_saved"]=&gt;
  string(1) "0"
  ["copy_on_write_performed"]=&gt;
  string(1) "0"
  ["command_buffer_too_small"]=&gt;
  string(1) "0"
  ["connect_success"]=&gt;
  string(1) "1"
  ["connect_failure"]=&gt;
  string(1) "0"
  ["connection_reused"]=&gt;
  string(1) "0"
  ["reconnect"]=&gt;
  string(1) "0"
  ["pconnect_success"]=&gt;
  string(1) "0"
  ["active_connections"]=&gt;
  string(1) "1"
  ["active_persistent_connections"]=&gt;
  string(1) "0"
  ["explicit_close"]=&gt;
  string(1) "0"
  ["implicit_close"]=&gt;
  string(1) "0"
  ["disconnect_close"]=&gt;
  string(1) "0"
  ["in_middle_of_command_close"]=&gt;
  string(1) "0"
  ["explicit_free_result"]=&gt;
  string(1) "0"
  ["implicit_free_result"]=&gt;
  string(1) "0"
  ["explicit_stmt_close"]=&gt;
  string(1) "0"
  ["implicit_stmt_close"]=&gt;
  string(1) "0"
  ["mem_emalloc_count"]=&gt;
  string(1) "0"
  ["mem_emalloc_amount"]=&gt;
  string(1) "0"
  ["mem_ecalloc_count"]=&gt;
  string(1) "0"
  ["mem_ecalloc_amount"]=&gt;
  string(1) "0"
  ["mem_erealloc_count"]=&gt;
  string(1) "0"
  ["mem_erealloc_amount"]=&gt;
  string(1) "0"
  ["mem_efree_count"]=&gt;
  string(1) "0"
  ["mem_efree_amount"]=&gt;
  string(1) "0"
  ["mem_malloc_count"]=&gt;
  string(1) "0"
  ["mem_malloc_amount"]=&gt;
  string(1) "0"
  ["mem_calloc_count"]=&gt;
  string(1) "0"
  ["mem_calloc_amount"]=&gt;
  string(1) "0"
  ["mem_realloc_count"]=&gt;
  string(1) "0"
  ["mem_realloc_amount"]=&gt;
  string(1) "0"
  ["mem_free_count"]=&gt;
  string(1) "0"
  ["mem_free_amount"]=&gt;
  string(1) "0"
  ["mem_estrndup_count"]=&gt;
  string(1) "0"
  ["mem_strndup_count"]=&gt;
  string(1) "0"
  ["mem_estndup_count"]=&gt;
  string(1) "0"
  ["mem_strdup_count"]=&gt;
  string(1) "0"
  ["proto_text_fetched_null"]=&gt;
  string(1) "0"
  ["proto_text_fetched_bit"]=&gt;
  string(1) "0"
  ["proto_text_fetched_tinyint"]=&gt;
  string(1) "0"
  ["proto_text_fetched_short"]=&gt;
  string(1) "0"
  ["proto_text_fetched_int24"]=&gt;
  string(1) "0"
  ["proto_text_fetched_int"]=&gt;
  string(1) "0"
  ["proto_text_fetched_bigint"]=&gt;
  string(1) "0"
  ["proto_text_fetched_decimal"]=&gt;
  string(1) "0"
  ["proto_text_fetched_float"]=&gt;
  string(1) "0"
  ["proto_text_fetched_double"]=&gt;
  string(1) "0"
  ["proto_text_fetched_date"]=&gt;
  string(1) "0"
  ["proto_text_fetched_year"]=&gt;
  string(1) "0"
  ["proto_text_fetched_time"]=&gt;
  string(1) "0"
  ["proto_text_fetched_datetime"]=&gt;
  string(1) "0"
  ["proto_text_fetched_timestamp"]=&gt;
  string(1) "0"
  ["proto_text_fetched_string"]=&gt;
  string(1) "0"
  ["proto_text_fetched_blob"]=&gt;
  string(1) "0"
  ["proto_text_fetched_enum"]=&gt;
  string(1) "0"
  ["proto_text_fetched_set"]=&gt;
  string(1) "0"
  ["proto_text_fetched_geometry"]=&gt;
  string(1) "0"
  ["proto_text_fetched_other"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_null"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_bit"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_tinyint"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_short"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_int24"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_int"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_bigint"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_decimal"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_float"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_double"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_date"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_year"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_time"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_datetime"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_timestamp"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_string"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_blob"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_enum"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_set"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_geometry"]=&gt;
  string(1) "0"
  ["proto_binary_fetched_other"]=&gt;
  string(1) "0"
  ["init_command_executed_count"]=&gt;
  string(1) "0"
  ["init_command_failed_count"]=&gt;
  string(1) "0"
  ["com_quit"]=&gt;
  string(1) "0"
  ["com_init_db"]=&gt;
  string(1) "0"
  ["com_query"]=&gt;
  string(1) "0"
  ["com_field_list"]=&gt;
  string(1) "0"
  ["com_create_db"]=&gt;
  string(1) "0"
  ["com_drop_db"]=&gt;
  string(1) "0"
  ["com_refresh"]=&gt;
  string(1) "0"
  ["com_shutdown"]=&gt;
  string(1) "0"
  ["com_statistics"]=&gt;
  string(1) "0"
  ["com_process_info"]=&gt;
  string(1) "0"
  ["com_connect"]=&gt;
  string(1) "0"
  ["com_process_kill"]=&gt;
  string(1) "0"
  ["com_debug"]=&gt;
  string(1) "0"
  ["com_ping"]=&gt;
  string(1) "0"
  ["com_time"]=&gt;
  string(1) "0"
  ["com_delayed_insert"]=&gt;
  string(1) "0"
  ["com_change_user"]=&gt;
  string(1) "0"
  ["com_binlog_dump"]=&gt;
  string(1) "0"
  ["com_table_dump"]=&gt;
  string(1) "0"
  ["com_connect_out"]=&gt;
  string(1) "0"
  ["com_register_slave"]=&gt;
  string(1) "0"
  ["com_stmt_prepare"]=&gt;
  string(1) "0"
  ["com_stmt_execute"]=&gt;
  string(1) "0"
  ["com_stmt_send_long_data"]=&gt;
  string(1) "0"
  ["com_stmt_close"]=&gt;
  string(1) "0"
  ["com_stmt_reset"]=&gt;
  string(1) "0"
  ["com_stmt_set_option"]=&gt;
  string(1) "0"
  ["com_stmt_fetch"]=&gt;
  string(1) "0"
  ["com_deamon"]=&gt;
  string(1) "0"
  ["bytes_received_real_data_normal"]=&gt;
  string(1) "0"
  ["bytes_received_real_data_ps"]=&gt;
  string(1) "0"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.get-connection-stats" title="3.9.23 mysqli::get_connection_stats, mysqli_get_connection_stats"><code class="function">mysqli_get_connection_stats</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getthreadid"></a>9.7.21 <code class="literal">MysqlndUhConnection::getThreadId</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getThreadId</code>
          </p><p>
            Returns the thread ID for the current connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getThreadId</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the thread ID for the current connection.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Connection thread id.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440636656"></a><p class="title"><b>Example 9.28 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getthreadid" title="9.7.21 MysqlndUhConnection::getThreadId"><code class="function">MysqlndUhConnection::getThreadId</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getThreadId($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getThreadId($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;thread_id);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getThreadId(array (
  0 =&gt; NULL,
))
proxy::getThreadId returns 27646
int(27646)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.thread-id" title="3.9.60 mysqli::$thread_id, mysqli_thread_id"><code class="function">mysqli_thread_id</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-thread-id" title="5.5.47 mysql_thread_id"><code class="function">mysql_thread_id</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.getwarningcount"></a>9.7.22 <code class="literal">MysqlndUhConnection::getWarningCount</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::getWarningCount</code>
          </p><p>
            Returns the number of warnings from the last query for the
            given link
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">int </span><span class="methodname">MysqlndUhConnection::getWarningCount</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Returns the number of warnings from the last query for the given
        link.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Number of warnings.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440608128"></a><p class="title"><b>Example 9.29 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.getwarningcount" title="9.7.22 MysqlndUhConnection::getWarningCount"><code class="function">MysqlndUhConnection::getWarningCount</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function getWarningCount($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::getWarningCount($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump($mysqli-&gt;warning_count);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::getWarningCount(array (
  0 =&gt; NULL,
))
proxy::getWarningCount returns 0
int(0)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.warning-count" title="3.9.63 mysqli::$warning_count, mysqli_warning_count"><code class="function">mysqli_warning_count</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.init"></a>9.7.23 <code class="literal">MysqlndUhConnection::init</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::init</code>
          </p><p>
            Initialize mysqlnd connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::init</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Initialize mysqlnd connection. This is an mysqlnd internal call
        to initialize the connection object.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Failing to call the parent implementation may cause memory
          leaks or crash PHP. This is not considered a bug. Please, keep
          in mind that the <code class="literal">mysqlnd</code> library functions
          have never been designed to be exposed to the user space.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440578480"></a><p class="title"><b>Example 9.30 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.init" title="9.7.23 MysqlndUhConnection::init"><code class="function">MysqlndUhConnection::init</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function init($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::init($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::init(array (
  0 =&gt; NULL,
))
proxy::init returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.killconnection"></a>9.7.24 <code class="literal">MysqlndUhConnection::killConnection</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::killConnection</code>
          </p><p>
            Asks the server to kill a MySQL thread
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::killConnection</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                <span class="methodparam"><span class="type">int </span><span class="parameter">pid</span></span>);</code><p>
        Asks the server to kill a MySQL thread.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>pid</code></em>
          </span></dt><dd><p>
              Thread Id of the connection to be killed.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440548160"></a><p class="title"><b>Example 9.31 <a class="ulink" href="http://www.php.net/MysqlndUhConnection::kill" target="_top"><code class="function">MysqlndUhConnection::kill</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function killConnection($res, $pid) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::killConnection($res, $pid);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;kill($mysqli-&gt;thread_id);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::killConnection(array (
  0 =&gt; NULL,
  1 =&gt; 27650,
))
proxy::killConnection returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.kill" title="3.9.32 mysqli::kill, mysqli_kill"><code class="function">mysqli_kill</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.listfields"></a>9.7.25 <code class="literal">MysqlndUhConnection::listFields</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::listFields</code>
          </p><p>
            List MySQL table fields
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">array </span><span class="methodname">MysqlndUhConnection::listFields</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                             <span class="methodparam"><span class="type">string </span><span class="parameter">table</span></span>,<br>                                             <span class="methodparam"><span class="type">string </span><span class="parameter">achtung_wild</span></span>);</code><p>
        List MySQL table fields.
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>table</code></em>
          </span></dt><dd><p>
              The name of the table that's being queried.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>pattern</code></em>
          </span></dt><dd><p>
              Name pattern.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p></p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440512512"></a><p class="title"><b>Example 9.32 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.listfields" title="9.7.25 MysqlndUhConnection::listFields"><code class="function">MysqlndUhConnection::listFields</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function listFields($res, $table, $pattern) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::listFields($res, $table, $pattern);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysql = mysql_connect("localhost", "root", "");
mysql_select_db("test", $mysql);
mysql_query("DROP TABLE IF EXISTS test_a", $mysql);
mysql_query("CREATE TABLE test_a(id INT, col1 VARCHAR(255))", $mysql);
$res = mysql_list_fields("test", "test_a", $mysql);
printf("num_rows = %d\n", mysql_num_rows($res));
while ($row = mysql_fetch_assoc($res))
 var_dump($row);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::listFields(array (
  0 =&gt; NULL,
  1 =&gt; 'test_a',
  2 =&gt; '',
))
proxy::listFields returns NULL
num_rows = 0

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-list-fields" title="5.5.33 mysql_list_fields"><code class="function">mysql_list_fields</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.listmethod"></a>9.7.26 <code class="literal">MysqlndUhConnection::listMethod</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::listMethod</code>
          </p><p>
            Wrapper for assorted list commands
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::listMethod</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">achtung_wild</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">par1</span></span>);</code><p>
        Wrapper for assorted list commands.
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>query</code></em>
          </span></dt><dd><p>
              SHOW command to be executed.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>achtung_wild</code></em>
          </span></dt><dd><p></p></dd><dt><span class="term">
            <em class="parameter"><code>par1</code></em>
</span></dt><dd><p></p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p></p><p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        TODO
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440470624"></a><p class="title"><b>Example 9.33 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.listmethod" title="9.7.26 MysqlndUhConnection::listMethod"><code class="function">MysqlndUhConnection::listMethod</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function listMethod($res, $query, $pattern, $par1) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::listMethod($res, $query, $pattern, $par1);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysql = mysql_connect("localhost", "root", "");
$res = mysql_list_dbs($mysql);
printf("num_rows = %d\n", mysql_num_rows($res));
while ($row = mysql_fetch_assoc($res))
 var_dump($row);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::listMethod(array (
  0 =&gt; NULL,
  1 =&gt; 'SHOW DATABASES',
  2 =&gt; '',
  3 =&gt; '',
))
proxy::listMethod returns NULL
num_rows = 6
array(1) {
  ["Database"]=&gt;
  string(18) "information_schema"
}
array(1) {
  ["Database"]=&gt;
  string(5) "mysql"
}
array(1) {
  ["Database"]=&gt;
  string(8) "oxid_new"
}
array(1) {
  ["Database"]=&gt;
  string(7) "phptest"
}
array(1) {
  ["Database"]=&gt;
  string(7) "pushphp"
}
array(1) {
  ["Database"]=&gt;
  string(4) "test"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-list-dbs" title="5.5.32 mysql_list_dbs"><code class="function">mysql_list_dbs</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.moreresults"></a>9.7.27 <code class="literal">MysqlndUhConnection::moreResults</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::moreResults</code>
          </p><p>
            Check if there are any more query results from a multi query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::moreResults</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Check if there are any more query results from a multi query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440442400"></a><p class="title"><b>Example 9.34 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.moreresults" title="9.7.27 MysqlndUhConnection::moreResults"><code class="function">MysqlndUhConnection::moreResults</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function moreResults($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::moreResults($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;multi_query("SELECT 1 AS _one; SELECT 2 AS _two");
do {
  $res = $mysqli-&gt;store_result();
  var_dump($res-&gt;fetch_assoc());
  printf("%s\n", str_repeat("-", 40));
} while ($mysqli-&gt;more_results() &amp;&amp; $mysqli-&gt;next_result());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

array(1) {
  ["_one"]=&gt;
  string(1) "1"
}
----------------------------------------
proxy::moreResults(array (
  0 =&gt; NULL,
))
proxy::moreResults returns true
proxy::moreResults(array (
  0 =&gt; NULL,
))
proxy::moreResults returns true
array(1) {
  ["_two"]=&gt;
  string(1) "2"
}
----------------------------------------
proxy::moreResults(array (
  0 =&gt; NULL,
))
proxy::moreResults returns false

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.more-results" title="3.9.33 mysqli::more_results, mysqli_more_results"><code class="function">mysqli_more_results</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.nextresult"></a>9.7.28 <code class="literal">MysqlndUhConnection::nextResult</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::nextResult</code>
          </p><p>
            Prepare next result from multi_query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::nextResult</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Prepare next result from multi_query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440414176"></a><p class="title"><b>Example 9.35 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.nextresult" title="9.7.28 MysqlndUhConnection::nextResult"><code class="function">MysqlndUhConnection::nextResult</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function nextResult($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::nextResult($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;multi_query("SELECT 1 AS _one; SELECT 2 AS _two");
do {
  $res = $mysqli-&gt;store_result();
  var_dump($res-&gt;fetch_assoc());
  printf("%s\n", str_repeat("-", 40));
} while ($mysqli-&gt;more_results() &amp;&amp; $mysqli-&gt;next_result());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

array(1) {
  ["_one"]=&gt;
  string(1) "1"
}
----------------------------------------
proxy::nextResult(array (
  0 =&gt; NULL,
))
proxy::nextResult returns true
array(1) {
  ["_two"]=&gt;
  string(1) "2"
}
----------------------------------------

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.next-result" title="3.9.35 mysqli::next_result, mysqli_next_result"><code class="function">mysqli_next_result</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.ping"></a>9.7.29 <code class="literal">MysqlndUhConnection::ping</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::ping</code>
          </p><p>
            Pings a server connection, or tries to reconnect if the
            connection has gone down
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::ping</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Pings a server connection, or tries to reconnect if the
        connection has gone down.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440386336"></a><p class="title"><b>Example 9.36 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.ping" title="9.7.29 MysqlndUhConnection::ping"><code class="function">MysqlndUhConnection::ping</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function ping($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::ping($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;ping();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::ping(array (
  0 =&gt; NULL,
))
proxy::ping returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.ping" title="3.9.37 mysqli::ping, mysqli_ping"><code class="function">mysqli_ping</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-ping" title="5.5.39 mysql_ping"><code class="function">mysql_ping</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.query"></a>9.7.30 <code class="literal">MysqlndUhConnection::query</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::query</code>
          </p><p>
            Performs a query on the database
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::query</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                       <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>);</code><p>
        Performs a query on the database (COM_QUERY).
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>query</code></em>
          </span></dt><dd><p>
              The query string.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440353104"></a><p class="title"><b>Example 9.37 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.query" title="9.7.30 MysqlndUhConnection::query"><code class="function">MysqlndUhConnection::query</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function query($res, $query) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $query = "SELECT 'How about query rewriting?'";
  $ret = parent::query($res, $query);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$res = $mysqli-&gt;query("SELECT 'Welcome mysqlnd_uh!' FROM DUAL");
var_dump($res-&gt;fetch_assoc());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::query(array (
  0 =&gt; NULL,
  1 =&gt; 'SELECT \'Welcome mysqlnd_uh!\' FROM DUAL',
))
proxy::query returns true
array(1) {
  ["How about query rewriting?"]=&gt;
  string(26) "How about query rewriting?"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.query" title="3.9.40 mysqli::query, mysqli_query"><code class="function">mysqli_query</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-query" title="5.5.40 mysql_query"><code class="function">mysql_query</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.queryreadresultsetheader"></a>9.7.31 <code class="literal">MysqlndUhConnection::queryReadResultsetHeader</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::queryReadResultsetHeader</code>
          </p><p>
            Read a result set header
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::queryReadResultsetHeader</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                          <span class="methodparam"><span class="type">mysqlnd_statement </span><span class="parameter">mysqlnd_stmt</span></span>);</code><p>
        Read a result set header.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>mysqlnd_stmt</code></em>
          </span></dt><dd><p>
              Mysqlnd statement handle. Do not modify! Set to
              <code class="constant">NULL</code>, if function is not used in the
              context of a prepared statement.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440319024"></a><p class="title"><b>Example 9.38 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.queryreadresultsetheader" title="9.7.31 MysqlndUhConnection::queryReadResultsetHeader"><code class="function">MysqlndUhConnection::queryReadResultsetHeader</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function queryReadResultsetHeader($res, $stmt) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::queryReadResultsetHeader($res, $stmt);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$res = $mysqli-&gt;query("SELECT 'Welcome mysqlnd_uh!' FROM DUAL");
var_dump($res-&gt;fetch_assoc());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::queryReadResultsetHeader(array (
  0 =&gt; NULL,
  1 =&gt; NULL,
))
proxy::queryReadResultsetHeader returns true
array(1) {
  ["Welcome mysqlnd_uh!"]=&gt;
  string(19) "Welcome mysqlnd_uh!"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.reapquery"></a>9.7.32 <code class="literal">MysqlndUhConnection::reapQuery</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::reapQuery</code>
          </p><p>
            Get result from async query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::reapQuery</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Get result from async query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440292448"></a><p class="title"><b>Example 9.39 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.reapquery" title="9.7.32 MysqlndUhConnection::reapQuery"><code class="function">MysqlndUhConnection::reapQuery</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function reapQuery($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::reapQuery($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$conn1 = new mysqli("localhost", "root", "", "test");
$conn2 = new mysqli("localhost", "root", "", "test");

$conn1-&gt;query("SELECT 1 as 'one', SLEEP(1) AS _sleep FROM DUAL", MYSQLI_ASYNC |  MYSQLI_USE_RESULT);
$conn2-&gt;query("SELECT 1.1 as 'one dot one' FROM DUAL", MYSQLI_ASYNC |  MYSQLI_USE_RESULT);

$links = array(
 $conn1-&gt;thread_id =&gt; array('link' =&gt; $conn1, 'processed' =&gt; false),
 $conn2-&gt;thread_id =&gt; array('link' =&gt; $conn2, 'processed' =&gt; false)
);

$saved_errors = array();
do {
 $poll_links = $poll_errors = $poll_reject = array();
 foreach ($links as $thread_id =&gt; $link) {
  if (!$link['processed']) {
   $poll_links[] = $link['link'];
   $poll_errors[] = $link['link'];
   $poll_reject[] = $link['link'];
  }
 }
 if (0 == count($poll_links))
  break;

 if (0 == ($num_ready = mysqli_poll($poll_links, $poll_errors, $poll_reject, 0, 200000)))
  continue;

 if (!empty($poll_errors)) {
  die(var_dump($poll_errors));
 }

 foreach ($poll_links as $link) {
  $thread_id = mysqli_thread_id($link);
  $links[$thread_id]['processed'] = true;

  if (is_object($res = mysqli_reap_async_query($link))) {
   // result set object
   while ($row = mysqli_fetch_assoc($res)) {
    // eat up all results
    var_dump($row);
   }
   mysqli_free_result($res);
  } else {
   // either there is no result (no SELECT) or there is an error
   if (mysqli_errno($link) &gt; 0) {
    $saved_errors[$thread_id] = mysqli_errno($link);
    printf("'%s' caused %d\n", $links[$thread_id]['query'],     mysqli_errno($link));
   }
  }
 }
} while (true);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::reapQuery(array (
  0 =&gt; NULL,
))
proxy::reapQuery returns true
array(1) {
  ["one dot one"]=&gt;
  string(3) "1.1"
}
proxy::reapQuery(array (
  0 =&gt; NULL,
))
proxy::reapQuery returns true
array(2) {
  ["one"]=&gt;
  string(1) "1"
  ["_sleep"]=&gt;
  string(1) "0"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="ulink" href="http://www.php.net/mysqli_real_async_query" target="_top"><code class="function">mysqli_real_async_query</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.refreshserver"></a>9.7.33 <code class="literal">MysqlndUhConnection::refreshServer</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::refreshServer</code>
          </p><p>
            Flush or reset tables and caches
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::refreshServer</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                               <span class="methodparam"><span class="type">int </span><span class="parameter">options</span></span>);</code><p>
        Flush or reset tables and caches.
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>options</code></em>
          </span></dt><dd><p>
              What to refresh.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440258480"></a><p class="title"><b>Example 9.40 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.refreshserver" title="9.7.33 MysqlndUhConnection::refreshServer"><code class="function">MysqlndUhConnection::refreshServer</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function refreshServer($res, $option) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::refreshServer($res, $option);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
mysqli_refresh($mysqli, 1);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::refreshServer(array (
  0 =&gt; NULL,
  1 =&gt; 1,
))
proxy::refreshServer returns false

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.restartpsession"></a>9.7.34 <code class="literal">MysqlndUhConnection::restartPSession</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::restartPSession</code>
          </p><p>
            Restart a persistent mysqlnd connection
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::restartPSession</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Restart a persistent mysqlnd connection.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440232080"></a><p class="title"><b>Example 9.41 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.restartpsession" title="9.7.34 MysqlndUhConnection::restartPSession"><code class="function">MysqlndUhConnection::restartPSession</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function ping($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::ping($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;ping();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::restartPSession(array (
  0 =&gt; NULL,
))
proxy::restartPSession returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.selectdb"></a>9.7.35 <code class="literal">MysqlndUhConnection::selectDb</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::selectDb</code>
          </p><p>
            Selects the default database for database queries
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::selectDb</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                          <span class="methodparam"><span class="type">string </span><span class="parameter">database</span></span>);</code><p>
        Selects the default database for database queries.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>database</code></em>
          </span></dt><dd><p>
              The database name.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440201632"></a><p class="title"><b>Example 9.42 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.selectdb" title="9.7.35 MysqlndUhConnection::selectDb"><code class="function">MysqlndUhConnection::selectDb</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function selectDb($res, $database) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::selectDb($res, $database);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;select_db("mysql");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::selectDb(array (
  0 =&gt; NULL,
  1 =&gt; 'mysql',
))
proxy::selectDb returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.select-db" title="3.9.50 mysqli::select_db, mysqli_select_db"><code class="function">mysqli_select_db</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysql.html#apis-php-function.mysql-select-db" title="5.5.43 mysql_select_db"><code class="function">mysql_select_db</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.sendclose"></a>9.7.36 <code class="literal">MysqlndUhConnection::sendClose</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::sendClose</code>
          </p><p>
            Sends a close command to MySQL
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::sendClose</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Sends a close command to MySQL.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440172400"></a><p class="title"><b>Example 9.43 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sendclose" title="9.7.36 MysqlndUhConnection::sendClose"><code class="function">MysqlndUhConnection::sendClose</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function sendClose($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::sendClose($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;close();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::sendClose(array (
  0 =&gt; NULL,
))
proxy::sendClose returns true
proxy::sendClose(array (
  0 =&gt; NULL,
))
proxy::sendClose returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.sendquery"></a>9.7.37 <code class="literal">MysqlndUhConnection::sendQuery</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::sendQuery</code>
          </p><p>
            Sends a query to MySQL
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::sendQuery</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                           <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>);</code><p>
        Sends a query to MySQL.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>query</code></em>
          </span></dt><dd><p>
              The query string.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440141952"></a><p class="title"><b>Example 9.44 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sendquery" title="9.7.37 MysqlndUhConnection::sendQuery"><code class="function">MysqlndUhConnection::sendQuery</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function sendQuery($res, $query) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::sendQuery($res, $query);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;query("SELECT 1");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::sendQuery(array (
  0 =&gt; NULL,
  1 =&gt; 'SELECT 1',
))
proxy::sendQuery returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.serverdumpdebuginformation"></a>9.7.38 <code class="literal">MysqlndUhConnection::serverDumpDebugInformation</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::serverDumpDebugInformation</code>
          </p><p>
            Dump debugging information into the log for the MySQL server
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::serverDumpDebugInformation</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Dump debugging information into the log for the MySQL server.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440115504"></a><p class="title"><b>Example 9.45 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.serverdumpdebuginformation" title="9.7.38 MysqlndUhConnection::serverDumpDebugInformation"><code class="function">MysqlndUhConnection::serverDumpDebugInformation</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function serverDumpDebugInformation($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::serverDumpDebugInformation($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;dump_debug_info();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::serverDumpDebugInformation(array (
  0 =&gt; NULL,
))
proxy::serverDumpDebugInformation returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.dump-debug-info" title="3.9.14 mysqli::dump_debug_info, mysqli_dump_debug_info"><code class="function">mysqli_dump_debug_info</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.setautocommit"></a>9.7.39 <code class="literal">MysqlndUhConnection::setAutocommit</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::setAutocommit</code>
          </p><p>
            Turns on or off auto-committing database modifications
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::setAutocommit</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                               <span class="methodparam"><span class="type">int </span><span class="parameter">mode</span></span>);</code><p>
        Turns on or off auto-committing database modifications
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>mode</code></em>
          </span></dt><dd><p>
              Whether to turn on auto-commit or not.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440083376"></a><p class="title"><b>Example 9.46 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setautocommit" title="9.7.39 MysqlndUhConnection::setAutocommit"><code class="function">MysqlndUhConnection::setAutocommit</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function setAutocommit($res, $mode) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::setAutocommit($res, $mode);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;autocommit(false);
$mysqli-&gt;autocommit(true);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::setAutocommit(array (
  0 =&gt; NULL,
  1 =&gt; 0,
))
proxy::setAutocommit returns true
proxy::setAutocommit(array (
  0 =&gt; NULL,
  1 =&gt; 1,
))
proxy::setAutocommit returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.autocommit" title="3.9.2 mysqli::autocommit, mysqli_autocommit"><code class="function">mysqli_autocommit</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.setcharset"></a>9.7.40 <code class="literal">MysqlndUhConnection::setCharset</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::setCharset</code>
          </p><p>
            Sets the default client character set
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::setCharset</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                            <span class="methodparam"><span class="type">string </span><span class="parameter">charset</span></span>);</code><p>
        Sets the default client character set.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>charset</code></em>
          </span></dt><dd><p>
              The charset to be set as default.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440051344"></a><p class="title"><b>Example 9.47 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setcharset" title="9.7.40 MysqlndUhConnection::setCharset"><code class="function">MysqlndUhConnection::setCharset</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function setCharset($res, $charset) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::setCharset($res, $charset);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;set_charset("latin1");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::setCharset(array (
  0 =&gt; NULL,
  1 =&gt; 'latin1',
))
proxy::setCharset returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.set-charset" title="3.9.52 mysqli::set_charset, mysqli_set_charset"><code class="function">mysqli_set_charset</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.setclientoption"></a>9.7.41 <code class="literal">MysqlndUhConnection::setClientOption</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::setClientOption</code>
          </p><p>
            Sets a client option
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::setClientOption</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">option</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">value</span></span>);</code><p>
        Sets a client option.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>option</code></em>
          </span></dt><dd><p>
              The option to be set.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>value</code></em>
          </span></dt><dd><p>
              Optional option value, if required.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660440015296"></a><p class="title"><b>Example 9.48 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setclientoption" title="9.7.41 MysqlndUhConnection::setClientOption"><code class="function">MysqlndUhConnection::setClientOption</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
function client_option_to_string($option) {
 static $mapping = array(
  MYSQLND_UH_MYSQLND_OPTION_OPT_CONNECT_TIMEOUT =&gt; "MYSQLND_UH_MYSQLND_OPTION_OPT_CONNECT_TIMEOUT",
  MYSQLND_UH_MYSQLND_OPTION_OPT_COMPRESS =&gt; "MYSQLND_UH_MYSQLND_OPTION_OPT_COMPRESS",
  MYSQLND_UH_MYSQLND_OPTION_OPT_NAMED_PIPE =&gt; "MYSQLND_UH_MYSQLND_OPTION_OPT_NAMED_PIPE",
  MYSQLND_UH_MYSQLND_OPTION_INIT_COMMAND =&gt; "MYSQLND_UH_MYSQLND_OPTION_INIT_COMMAND",
  MYSQLND_UH_MYSQLND_READ_DEFAULT_FILE =&gt; "MYSQLND_UH_MYSQLND_READ_DEFAULT_FILE",
  MYSQLND_UH_MYSQLND_READ_DEFAULT_GROUP =&gt; "MYSQLND_UH_MYSQLND_READ_DEFAULT_GROUP",
  MYSQLND_UH_MYSQLND_SET_CHARSET_DIR =&gt; "MYSQLND_UH_MYSQLND_SET_CHARSET_DIR",
  MYSQLND_UH_MYSQLND_SET_CHARSET_NAME =&gt; "MYSQLND_UH_MYSQLND_SET_CHARSET_NAME",
  MYSQLND_UH_MYSQLND_OPT_LOCAL_INFILE =&gt; "MYSQLND_UH_MYSQLND_OPT_LOCAL_INFILE",
  MYSQLND_UH_MYSQLND_OPT_PROTOCOL =&gt; "MYSQLND_UH_MYSQLND_OPT_PROTOCOL",
  MYSQLND_UH_MYSQLND_SHARED_MEMORY_BASE_NAME =&gt; "MYSQLND_UH_MYSQLND_SHARED_MEMORY_BASE_NAME",
  MYSQLND_UH_MYSQLND_OPT_READ_TIMEOUT =&gt; "MYSQLND_UH_MYSQLND_OPT_READ_TIMEOUT",
  MYSQLND_UH_MYSQLND_OPT_WRITE_TIMEOUT =&gt; "MYSQLND_UH_MYSQLND_OPT_WRITE_TIMEOUT",
  MYSQLND_UH_MYSQLND_OPT_USE_RESULT =&gt; "MYSQLND_UH_MYSQLND_OPT_USE_RESULT",
  MYSQLND_UH_MYSQLND_OPT_USE_REMOTE_CONNECTION =&gt; "MYSQLND_UH_MYSQLND_OPT_USE_REMOTE_CONNECTION",
  MYSQLND_UH_MYSQLND_OPT_USE_EMBEDDED_CONNECTION =&gt; "MYSQLND_UH_MYSQLND_OPT_USE_EMBEDDED_CONNECTION",
  MYSQLND_UH_MYSQLND_OPT_GUESS_CONNECTION =&gt; "MYSQLND_UH_MYSQLND_OPT_GUESS_CONNECTION",
  MYSQLND_UH_MYSQLND_SET_CLIENT_IP =&gt; "MYSQLND_UH_MYSQLND_SET_CLIENT_IP",
  MYSQLND_UH_MYSQLND_SECURE_AUTH =&gt; "MYSQLND_UH_MYSQLND_SECURE_AUTH",
  MYSQLND_UH_MYSQLND_REPORT_DATA_TRUNCATION =&gt; "MYSQLND_UH_MYSQLND_REPORT_DATA_TRUNCATION",
  MYSQLND_UH_MYSQLND_OPT_RECONNECT =&gt; "MYSQLND_UH_MYSQLND_OPT_RECONNECT",
  MYSQLND_UH_MYSQLND_OPT_SSL_VERIFY_SERVER_CERT =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_VERIFY_SERVER_CERT",
  MYSQLND_UH_MYSQLND_OPT_NET_CMD_BUFFER_SIZE =&gt; "MYSQLND_UH_MYSQLND_OPT_NET_CMD_BUFFER_SIZE",
  MYSQLND_UH_MYSQLND_OPT_NET_READ_BUFFER_SIZE =&gt; "MYSQLND_UH_MYSQLND_OPT_NET_READ_BUFFER_SIZE",
  MYSQLND_UH_MYSQLND_OPT_SSL_KEY =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_KEY",
  MYSQLND_UH_MYSQLND_OPT_SSL_CERT =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_CERT",
  MYSQLND_UH_MYSQLND_OPT_SSL_CA =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_CA",
  MYSQLND_UH_MYSQLND_OPT_SSL_CAPATH =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_CAPATH",
  MYSQLND_UH_MYSQLND_OPT_SSL_CIPHER =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_CIPHER",
  MYSQLND_UH_MYSQLND_OPT_SSL_PASSPHRASE =&gt; "MYSQLND_UH_MYSQLND_OPT_SSL_PASSPHRASE",
  MYSQLND_UH_SERVER_OPTION_PLUGIN_DIR =&gt; "MYSQLND_UH_SERVER_OPTION_PLUGIN_DIR",
  MYSQLND_UH_SERVER_OPTION_DEFAULT_AUTH =&gt; "MYSQLND_UH_SERVER_OPTION_DEFAULT_AUTH",
  MYSQLND_UH_SERVER_OPTION_SET_CLIENT_IP =&gt; "MYSQLND_UH_SERVER_OPTION_SET_CLIENT_IP"
 );
 if (version_compare(PHP_VERSION, '5.3.99-dev', '&gt;')) {
  $mapping[MYSQLND_UH_MYSQLND_OPT_MAX_ALLOWED_PACKET] = "MYSQLND_UH_MYSQLND_OPT_MAX_ALLOWED_PACKET";
  $mapping[MYSQLND_UH_MYSQLND_OPT_AUTH_PROTOCOL] = "MYSQLND_UH_MYSQLND_OPT_AUTH_PROTOCOL";
 }
 if (defined("MYSQLND_UH_MYSQLND_OPT_INT_AND_FLOAT_NATIVE")) {
  /* special mysqlnd build */
  $mapping["MYSQLND_UH_MYSQLND_OPT_INT_AND_FLOAT_NATIVE"] = "MYSQLND_UH_MYSQLND_OPT_INT_AND_FLOAT_NATIVE";
 }
 return (isset($mapping[$option])) ? $mapping[$option] : 'unknown';
}

class proxy extends MysqlndUhConnection {
 public function setClientOption($res, $option, $value) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  printf("Option '%s' set to %s\n", client_option_to_string($option), var_export($value, true));
  $ret = parent::setClientOption($res, $option, $value);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::setClientOption(array (
  0 =&gt; NULL,
  1 =&gt; 210,
  2 =&gt; 3221225472,
))
Option 'MYSQLND_UH_MYSQLND_OPT_MAX_ALLOWED_PACKET' set to 3221225472
proxy::setClientOption returns true
proxy::setClientOption(array (
  0 =&gt; NULL,
  1 =&gt; 211,
  2 =&gt; 'mysql_native_password',
))
Option 'MYSQLND_UH_MYSQLND_OPT_AUTH_PROTOCOL' set to 'mysql_native_password'
proxy::setClientOption returns true
proxy::setClientOption(array (
  0 =&gt; NULL,
  1 =&gt; 8,
  2 =&gt; 1,
))
Option 'MYSQLND_UH_MYSQLND_OPT_LOCAL_INFILE' set to 1
proxy::setClientOption returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.real-connect" title="3.9.41 mysqli::real_connect, mysqli_real_connect"><code class="function">mysqli_real_connect</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.options" title="3.9.36 mysqli::options, mysqli_options"><code class="function">mysqli_options</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.setserveroption"></a>9.7.42 <code class="literal">MysqlndUhConnection::setServerOption</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::setServerOption</code>
          </p><p>
            Sets a server option
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::setServerOption</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                 <span class="methodparam"><span class="type">int </span><span class="parameter">option</span></span>);</code><p>
        Sets a server option.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>option</code></em>
          </span></dt><dd><p>
              The option to be set.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439973360"></a><p class="title"><b>Example 9.49 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.setserveroption" title="9.7.42 MysqlndUhConnection::setServerOption"><code class="function">MysqlndUhConnection::setServerOption</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
function server_option_to_string($option) {
 $ret = 'unknown';
 switch ($option) {
  case MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_ON:
   $ret = 'MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_ON';
   break;
  case MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_OFF:
   $ret = 'MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_ON';
   break;
 }
 return $ret;
}

class proxy extends MysqlndUhConnection {
 public function setServerOption($res, $option) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  printf("Option '%s' set\n", server_option_to_string($option));
  $ret = parent::setServerOption($res, $option);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;multi_query("SELECT 1; SELECT 2");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::setServerOption(array (
  0 =&gt; NULL,
  1 =&gt; 0,
))
Option 'MYSQLND_UH_SERVER_OPTION_MULTI_STATEMENTS_ON' set
proxy::setServerOption returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.real-connect" title="3.9.41 mysqli::real_connect, mysqli_real_connect"><code class="function">mysqli_real_connect</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.options" title="3.9.36 mysqli::options, mysqli_options"><code class="function">mysqli_options</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.multi-query" title="3.9.34 mysqli::multi_query, mysqli_multi_query"><code class="function">mysqli_multi_query</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.shutdownserver"></a>9.7.43 <code class="literal">MysqlndUhConnection::shutdownServer</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::shutdownServer</code>
          </p><p>
            The shutdownServer purpose
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
</p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">void </span><span class="methodname">MysqlndUhConnection::shutdownServer</span>(<span class="methodparam"><span class="type">string </span><span class="parameter">MYSQLND_UH_RES_MYSQLND_NAME</span></span>,<br>                                                <span class="methodparam"><span class="type">string </span><span class="parameter">"level"</span></span>);</code><p></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>MYSQLND_UH_RES_MYSQLND_NAME</code></em>
          </span></dt><dd><p></p></dd><dt><span class="term">
            <em class="parameter"><code>"level"</code></em>
</span></dt><dd><p></p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
</p><p></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.simplecommand"></a>9.7.44 <code class="literal">MysqlndUhConnection::simpleCommand</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::simpleCommand</code>
          </p><p>
            Sends a basic COM_* command
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::simpleCommand</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                               <span class="methodparam"><span class="type">int </span><span class="parameter">command</span></span>,<br>                                               <span class="methodparam"><span class="type">string </span><span class="parameter">arg</span></span>,<br>                                               <span class="methodparam"><span class="type">int </span><span class="parameter">ok_packet</span></span>,<br>                                               <span class="methodparam"><span class="type">bool </span><span class="parameter">silent</span></span>,<br>                                               <span class="methodparam"><span class="type">bool </span><span class="parameter">ignore_upsert_status</span></span>);</code><p>
        Sends a basic COM_* command to MySQL.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>command</code></em>
          </span></dt><dd><p>
              The COM command to be send.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>arg</code></em>
          </span></dt><dd><p>
              Optional COM command arguments.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>ok_packet</code></em>
          </span></dt><dd><p>
              The OK packet type.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>silent</code></em>
          </span></dt><dd><p>
              Whether mysqlnd may emit errors.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>ignore_upsert_status</code></em>
          </span></dt><dd><p>
              Whether to ignore
              <code class="literal">UPDATE</code>/<code class="literal">INSERT</code>
              status.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439900272"></a><p class="title"><b>Example 9.50 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommand" title="9.7.44 MysqlndUhConnection::simpleCommand"><code class="function">MysqlndUhConnection::simpleCommand</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
function server_cmd_2_string($command) {
 $mapping = array(
  MYSQLND_UH_MYSQLND_COM_SLEEP =&gt; "MYSQLND_UH_MYSQLND_COM_SLEEP",
  MYSQLND_UH_MYSQLND_COM_QUIT =&gt; "MYSQLND_UH_MYSQLND_COM_QUIT",
  MYSQLND_UH_MYSQLND_COM_INIT_DB =&gt; "MYSQLND_UH_MYSQLND_COM_INIT_DB",
  MYSQLND_UH_MYSQLND_COM_QUERY =&gt; "MYSQLND_UH_MYSQLND_COM_QUERY",
  MYSQLND_UH_MYSQLND_COM_FIELD_LIST =&gt; "MYSQLND_UH_MYSQLND_COM_FIELD_LIST",
  MYSQLND_UH_MYSQLND_COM_CREATE_DB =&gt; "MYSQLND_UH_MYSQLND_COM_CREATE_DB",
  MYSQLND_UH_MYSQLND_COM_DROP_DB =&gt; "MYSQLND_UH_MYSQLND_COM_DROP_DB",
  MYSQLND_UH_MYSQLND_COM_REFRESH =&gt; "MYSQLND_UH_MYSQLND_COM_REFRESH",
  MYSQLND_UH_MYSQLND_COM_SHUTDOWN =&gt; "MYSQLND_UH_MYSQLND_COM_SHUTDOWN",
  MYSQLND_UH_MYSQLND_COM_STATISTICS =&gt; "MYSQLND_UH_MYSQLND_COM_STATISTICS",
  MYSQLND_UH_MYSQLND_COM_PROCESS_INFO =&gt; "MYSQLND_UH_MYSQLND_COM_PROCESS_INFO",
  MYSQLND_UH_MYSQLND_COM_CONNECT =&gt; "MYSQLND_UH_MYSQLND_COM_CONNECT",
  MYSQLND_UH_MYSQLND_COM_PROCESS_KILL =&gt; "MYSQLND_UH_MYSQLND_COM_PROCESS_KILL",
  MYSQLND_UH_MYSQLND_COM_DEBUG =&gt; "MYSQLND_UH_MYSQLND_COM_DEBUG",
  MYSQLND_UH_MYSQLND_COM_PING =&gt; "MYSQLND_UH_MYSQLND_COM_PING",
  MYSQLND_UH_MYSQLND_COM_TIME =&gt; "MYSQLND_UH_MYSQLND_COM_TIME",
  MYSQLND_UH_MYSQLND_COM_DELAYED_INSERT =&gt; "MYSQLND_UH_MYSQLND_COM_DELAYED_INSERT",
  MYSQLND_UH_MYSQLND_COM_CHANGE_USER =&gt; "MYSQLND_UH_MYSQLND_COM_CHANGE_USER",
  MYSQLND_UH_MYSQLND_COM_BINLOG_DUMP =&gt; "MYSQLND_UH_MYSQLND_COM_BINLOG_DUMP",
  MYSQLND_UH_MYSQLND_COM_TABLE_DUMP =&gt; "MYSQLND_UH_MYSQLND_COM_TABLE_DUMP",
  MYSQLND_UH_MYSQLND_COM_CONNECT_OUT =&gt; "MYSQLND_UH_MYSQLND_COM_CONNECT_OUT",
  MYSQLND_UH_MYSQLND_COM_REGISTER_SLAVED =&gt; "MYSQLND_UH_MYSQLND_COM_REGISTER_SLAVED",
  MYSQLND_UH_MYSQLND_COM_STMT_PREPARE =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_PREPARE",
  MYSQLND_UH_MYSQLND_COM_STMT_EXECUTE =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_EXECUTE",
  MYSQLND_UH_MYSQLND_COM_STMT_SEND_LONG_DATA =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_SEND_LONG_DATA",
  MYSQLND_UH_MYSQLND_COM_STMT_CLOSE =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_CLOSE",
  MYSQLND_UH_MYSQLND_COM_STMT_RESET =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_RESET",
  MYSQLND_UH_MYSQLND_COM_SET_OPTION =&gt; "MYSQLND_UH_MYSQLND_COM_SET_OPTION",
  MYSQLND_UH_MYSQLND_COM_STMT_FETCH =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_FETCH",
  MYSQLND_UH_MYSQLND_COM_DAEMON =&gt; "MYSQLND_UH_MYSQLND_COM_DAEMON",
  MYSQLND_UH_MYSQLND_COM_END =&gt; "MYSQLND_UH_MYSQLND_COM_END",
 );
 return (isset($mapping[$command])) ? $mapping[$command] : 'unknown';
}

function ok_packet_2_string($ok_packet) {
 $mapping = array(
  MYSQLND_UH_MYSQLND_PROT_GREET_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_GREET_PACKET",
  MYSQLND_UH_MYSQLND_PROT_AUTH_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_AUTH_PACKET",
  MYSQLND_UH_MYSQLND_PROT_OK_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_OK_PACKET",
  MYSQLND_UH_MYSQLND_PROT_EOF_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_EOF_PACKET",
  MYSQLND_UH_MYSQLND_PROT_CMD_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_CMD_PACKET",
  MYSQLND_UH_MYSQLND_PROT_RSET_HEADER_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_RSET_HEADER_PACKET",
  MYSQLND_UH_MYSQLND_PROT_RSET_FLD_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_RSET_FLD_PACKET",
  MYSQLND_UH_MYSQLND_PROT_ROW_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_ROW_PACKET",
  MYSQLND_UH_MYSQLND_PROT_STATS_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_STATS_PACKET",
  MYSQLND_UH_MYSQLND_PREPARE_RESP_PACKET =&gt; "MYSQLND_UH_MYSQLND_PREPARE_RESP_PACKET",
  MYSQLND_UH_MYSQLND_CHG_USER_RESP_PACKET =&gt; "MYSQLND_UH_MYSQLND_CHG_USER_RESP_PACKET",
  MYSQLND_UH_MYSQLND_PROT_LAST =&gt; "MYSQLND_UH_MYSQLND_PROT_LAST",
 );
 return (isset($mapping[$ok_packet])) ? $mapping[$ok_packet] : 'unknown';
}

class proxy extends MysqlndUhConnection {
 public function simpleCommand($conn, $command, $arg, $ok_packet, $silent, $ignore_upsert_status) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  printf("Command '%s'\n", server_cmd_2_string($command));
  printf("OK packet '%s'\n",  ok_packet_2_string($ok_packet));
  $ret = parent::simpleCommand($conn, $command, $arg, $ok_packet, $silent, $ignore_upsert_status);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;query("SELECT 1");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::simpleCommand(array (
  0 =&gt; NULL,
  1 =&gt; 3,
  2 =&gt; 'SELECT 1',
  3 =&gt; 13,
  4 =&gt; false,
  5 =&gt; false,
))
Command 'MYSQLND_UH_MYSQLND_COM_QUERY'
OK packet 'MYSQLND_UH_MYSQLND_PROT_LAST'
proxy::simpleCommand returns true
:)proxy::simpleCommand(array (
  0 =&gt; NULL,
  1 =&gt; 1,
  2 =&gt; '',
  3 =&gt; 13,
  4 =&gt; true,
  5 =&gt; true,
))
Command 'MYSQLND_UH_MYSQLND_COM_QUIT'
OK packet 'MYSQLND_UH_MYSQLND_PROT_LAST'
proxy::simpleCommand returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.simplecommandhandleresponse"></a>9.7.45 <code class="literal">MysqlndUhConnection::simpleCommandHandleResponse</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::simpleCommandHandleResponse</code>
          </p><p>
            Process a response for a basic COM_* command send to the
            client
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::simpleCommandHandleResponse</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                                             <span class="methodparam"><span class="type">int </span><span class="parameter">ok_packet</span></span>,<br>                                                             <span class="methodparam"><span class="type">bool </span><span class="parameter">silent</span></span>,<br>                                                             <span class="methodparam"><span class="type">int </span><span class="parameter">command</span></span>,<br>                                                             <span class="methodparam"><span class="type">bool </span><span class="parameter">ignore_upsert_status</span></span>);</code><p>
        Process a response for a basic COM_* command send to the client.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>ok_packet</code></em>
          </span></dt><dd><p>
              The OK packet type.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>silent</code></em>
          </span></dt><dd><p>
              Whether mysqlnd may emit errors.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>command</code></em>
          </span></dt><dd><p>
              The COM command to process results from.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>ignore_upsert_status</code></em>
          </span></dt><dd><p>
              Whether to ignore
              <code class="literal">UPDATE</code>/<code class="literal">INSERT</code>
              status.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439850736"></a><p class="title"><b>Example 9.51 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.simplecommandhandleresponse" title="9.7.45 MysqlndUhConnection::simpleCommandHandleResponse"><code class="function">MysqlndUhConnection::simpleCommandHandleResponse</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
function server_cmd_2_string($command) {
 $mapping = array(
  MYSQLND_UH_MYSQLND_COM_SLEEP =&gt; "MYSQLND_UH_MYSQLND_COM_SLEEP",
  MYSQLND_UH_MYSQLND_COM_QUIT =&gt; "MYSQLND_UH_MYSQLND_COM_QUIT",
  MYSQLND_UH_MYSQLND_COM_INIT_DB =&gt; "MYSQLND_UH_MYSQLND_COM_INIT_DB",
  MYSQLND_UH_MYSQLND_COM_QUERY =&gt; "MYSQLND_UH_MYSQLND_COM_QUERY",
  MYSQLND_UH_MYSQLND_COM_FIELD_LIST =&gt; "MYSQLND_UH_MYSQLND_COM_FIELD_LIST",
  MYSQLND_UH_MYSQLND_COM_CREATE_DB =&gt; "MYSQLND_UH_MYSQLND_COM_CREATE_DB",
  MYSQLND_UH_MYSQLND_COM_DROP_DB =&gt; "MYSQLND_UH_MYSQLND_COM_DROP_DB",
  MYSQLND_UH_MYSQLND_COM_REFRESH =&gt; "MYSQLND_UH_MYSQLND_COM_REFRESH",
  MYSQLND_UH_MYSQLND_COM_SHUTDOWN =&gt; "MYSQLND_UH_MYSQLND_COM_SHUTDOWN",
  MYSQLND_UH_MYSQLND_COM_STATISTICS =&gt; "MYSQLND_UH_MYSQLND_COM_STATISTICS",
  MYSQLND_UH_MYSQLND_COM_PROCESS_INFO =&gt; "MYSQLND_UH_MYSQLND_COM_PROCESS_INFO",
  MYSQLND_UH_MYSQLND_COM_CONNECT =&gt; "MYSQLND_UH_MYSQLND_COM_CONNECT",
  MYSQLND_UH_MYSQLND_COM_PROCESS_KILL =&gt; "MYSQLND_UH_MYSQLND_COM_PROCESS_KILL",
  MYSQLND_UH_MYSQLND_COM_DEBUG =&gt; "MYSQLND_UH_MYSQLND_COM_DEBUG",
  MYSQLND_UH_MYSQLND_COM_PING =&gt; "MYSQLND_UH_MYSQLND_COM_PING",
  MYSQLND_UH_MYSQLND_COM_TIME =&gt; "MYSQLND_UH_MYSQLND_COM_TIME",
  MYSQLND_UH_MYSQLND_COM_DELAYED_INSERT =&gt; "MYSQLND_UH_MYSQLND_COM_DELAYED_INSERT",
  MYSQLND_UH_MYSQLND_COM_CHANGE_USER =&gt; "MYSQLND_UH_MYSQLND_COM_CHANGE_USER",
  MYSQLND_UH_MYSQLND_COM_BINLOG_DUMP =&gt; "MYSQLND_UH_MYSQLND_COM_BINLOG_DUMP",
  MYSQLND_UH_MYSQLND_COM_TABLE_DUMP =&gt; "MYSQLND_UH_MYSQLND_COM_TABLE_DUMP",
  MYSQLND_UH_MYSQLND_COM_CONNECT_OUT =&gt; "MYSQLND_UH_MYSQLND_COM_CONNECT_OUT",
  MYSQLND_UH_MYSQLND_COM_REGISTER_SLAVED =&gt; "MYSQLND_UH_MYSQLND_COM_REGISTER_SLAVED",
  MYSQLND_UH_MYSQLND_COM_STMT_PREPARE =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_PREPARE",
  MYSQLND_UH_MYSQLND_COM_STMT_EXECUTE =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_EXECUTE",
  MYSQLND_UH_MYSQLND_COM_STMT_SEND_LONG_DATA =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_SEND_LONG_DATA",
  MYSQLND_UH_MYSQLND_COM_STMT_CLOSE =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_CLOSE",
  MYSQLND_UH_MYSQLND_COM_STMT_RESET =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_RESET",
  MYSQLND_UH_MYSQLND_COM_SET_OPTION =&gt; "MYSQLND_UH_MYSQLND_COM_SET_OPTION",
  MYSQLND_UH_MYSQLND_COM_STMT_FETCH =&gt; "MYSQLND_UH_MYSQLND_COM_STMT_FETCH",
  MYSQLND_UH_MYSQLND_COM_DAEMON =&gt; "MYSQLND_UH_MYSQLND_COM_DAEMON",
  MYSQLND_UH_MYSQLND_COM_END =&gt; "MYSQLND_UH_MYSQLND_COM_END",
 );
 return (isset($mapping[$command])) ? $mapping[$command] : 'unknown';
}

function ok_packet_2_string($ok_packet) {
 $mapping = array(
  MYSQLND_UH_MYSQLND_PROT_GREET_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_GREET_PACKET",
  MYSQLND_UH_MYSQLND_PROT_AUTH_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_AUTH_PACKET",
  MYSQLND_UH_MYSQLND_PROT_OK_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_OK_PACKET",
  MYSQLND_UH_MYSQLND_PROT_EOF_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_EOF_PACKET",
  MYSQLND_UH_MYSQLND_PROT_CMD_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_CMD_PACKET",
  MYSQLND_UH_MYSQLND_PROT_RSET_HEADER_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_RSET_HEADER_PACKET",
  MYSQLND_UH_MYSQLND_PROT_RSET_FLD_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_RSET_FLD_PACKET",
  MYSQLND_UH_MYSQLND_PROT_ROW_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_ROW_PACKET",
  MYSQLND_UH_MYSQLND_PROT_STATS_PACKET =&gt; "MYSQLND_UH_MYSQLND_PROT_STATS_PACKET",
  MYSQLND_UH_MYSQLND_PREPARE_RESP_PACKET =&gt; "MYSQLND_UH_MYSQLND_PREPARE_RESP_PACKET",
  MYSQLND_UH_MYSQLND_CHG_USER_RESP_PACKET =&gt; "MYSQLND_UH_MYSQLND_CHG_USER_RESP_PACKET",
  MYSQLND_UH_MYSQLND_PROT_LAST =&gt; "MYSQLND_UH_MYSQLND_PROT_LAST",
 );
 return (isset($mapping[$ok_packet])) ? $mapping[$ok_packet] : 'unknown';
}

class proxy extends MysqlndUhConnection {
 public function simpleCommandHandleResponse($conn, $ok_packet, $silent, $command, $ignore_upsert_status) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  printf("Command '%s'\n", server_cmd_2_string($command));
  printf("OK packet '%s'\n",  ok_packet_2_string($ok_packet));
  $ret = parent::simpleCommandHandleResponse($conn, $ok_packet, $silent, $command, $ignore_upsert_status);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysql = mysql_connect("localhost", "root", "");
mysql_query("SELECT 1 FROM DUAL", $mysql);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::simpleCommandHandleResponse(array (
  0 =&gt; NULL,
  1 =&gt; 5,
  2 =&gt; false,
  3 =&gt; 27,
  4 =&gt; true,
))
Command 'MYSQLND_UH_MYSQLND_COM_SET_OPTION'
OK packet 'MYSQLND_UH_MYSQLND_PROT_EOF_PACKET'
proxy::simpleCommandHandleResponse returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.sslset"></a>9.7.46 <code class="literal">MysqlndUhConnection::sslSet</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::sslSet</code>
          </p><p>
            Used for establishing secure connections using SSL
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::sslSet</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>,<br>                                        <span class="methodparam"><span class="type">string </span><span class="parameter">key</span></span>,<br>                                        <span class="methodparam"><span class="type">string </span><span class="parameter">cert</span></span>,<br>                                        <span class="methodparam"><span class="type">string </span><span class="parameter">ca</span></span>,<br>                                        <span class="methodparam"><span class="type">string </span><span class="parameter">capath</span></span>,<br>                                        <span class="methodparam"><span class="type">string </span><span class="parameter">cipher</span></span>);</code><p>
        Used for establishing secure connections using SSL.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
            </p></dd><dt><span class="term">
            <em class="parameter"><code>key</code></em>
          </span></dt><dd><p>
              The path name to the key file.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>cert</code></em>
          </span></dt><dd><p>
              The path name to the certificate file.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>ca</code></em>
          </span></dt><dd><p>
              The path name to the certificate authority file.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>capath</code></em>
          </span></dt><dd><p>
              The pathname to a directory that contains trusted SSL CA
              certificates in PEM format.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>cipher</code></em>
          </span></dt><dd><p>
              A list of allowable ciphers to use for SSL encryption.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439798544"></a><p class="title"><b>Example 9.52 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.sslset" title="9.7.46 MysqlndUhConnection::sslSet"><code class="function">MysqlndUhConnection::sslSet</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function sslSet($conn, $key, $cert, $ca, $capath, $cipher) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::sslSet($conn, $key, $cert, $ca, $capath, $cipher);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;ssl_set("key", "cert", "ca", "capath", "cipher");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::sslSet(array (
  0 =&gt; NULL,
  1 =&gt; 'key',
  2 =&gt; 'cert',
  3 =&gt; 'ca',
  4 =&gt; 'capath',
  5 =&gt; 'cipher',
))
proxy::sslSet returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.ssl-set" title="3.9.56 mysqli::ssl_set, mysqli_ssl_set"><code class="function">mysqli_ssl_set</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.stmtinit"></a>9.7.47 <code class="literal">MysqlndUhConnection::stmtInit</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::stmtInit</code>
          </p><p>
            Initializes a statement and returns a resource for use with
            mysqli_statement::prepare
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">resource </span><span class="methodname">MysqlndUhConnection::stmtInit</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Initializes a statement and returns a resource for use with
        mysqli_statement::prepare.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Resource of type <code class="literal">Mysqlnd Prepared Statement (internal
        only - you must not modify it!)</code>. The documentation may
        also refer to such resources using the alias name
        <code class="literal">mysqlnd_prepared_statement</code>.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439769968"></a><p class="title"><b>Example 9.53 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.stmtinit" title="9.7.47 MysqlndUhConnection::stmtInit"><code class="function">MysqlndUhConnection::stmtInit</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function stmtInit($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  var_dump($res);
  $ret = parent::stmtInit($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  var_dump($ret);
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());
$mysqli = new mysqli("localhost", "root", "", "test");
$stmt = $mysqli-&gt;prepare("SELECT 1 AS _one FROM DUAL");
$stmt-&gt;execute();
$one = NULL;
$stmt-&gt;bind_result($one);
$stmt-&gt;fetch();
var_dump($one);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::stmtInit(array (
  0 =&gt; NULL,
))
resource(19) of type (Mysqlnd Connection)
proxy::stmtInit returns NULL
resource(246) of type (Mysqlnd Prepared Statement (internal only - you must not modify it!))
int(1)

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.stmt-init" title="3.9.58 mysqli::stmt_init, mysqli_stmt_init"><code class="function">mysqli_stmt_init</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.storeresult"></a>9.7.48 <code class="literal">MysqlndUhConnection::storeResult</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::storeResult</code>
          </p><p>
            Transfers a result set from the last query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">resource </span><span class="methodname">MysqlndUhConnection::storeResult</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Transfers a result set from the last query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Resource of type <code class="literal">Mysqlnd Resultset (internal only - you
        must not modify it!)</code>. The documentation may also refer
        to such resources using the alias name
        <code class="literal">mysqlnd_resultset</code>.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439741104"></a><p class="title"><b>Example 9.54 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.storeresult" title="9.7.48 MysqlndUhConnection::storeResult"><code class="function">MysqlndUhConnection::storeResult</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function storeResult($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::storeResult($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  var_dump($ret);
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$res = $mysqli-&gt;query("SELECT 'Also called buffered result' AS _msg FROM DUAL");
var_dump($res-&gt;fetch_assoc());

$mysqli-&gt;real_query("SELECT 'Good morning!' AS _msg FROM DUAL");
$res = $mysqli-&gt;store_result();
var_dump($res-&gt;fetch_assoc());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::storeResult(array (
  0 =&gt; NULL,
))
proxy::storeResult returns NULL
resource(475) of type (Mysqlnd Resultset (internal only - you must not modify it!))
array(1) {
  ["_msg"]=&gt;
  string(27) "Also called buffered result"
}
proxy::storeResult(array (
  0 =&gt; NULL,
))
proxy::storeResult returns NULL
resource(730) of type (Mysqlnd Resultset (internal only - you must not modify it!))
array(1) {
  ["_msg"]=&gt;
  string(13) "Good morning!"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.store-result" title="3.9.59 mysqli::store_result, mysqli_store_result"><code class="function">mysqli_store_result</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.real-query" title="3.9.43 mysqli::real_query, mysqli_real_query"><code class="function">mysqli_real_query</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.txcommit"></a>9.7.49 <code class="literal">MysqlndUhConnection::txCommit</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::txCommit</code>
          </p><p>
            Commits the current transaction
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::txCommit</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Commits the current transaction.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439711152"></a><p class="title"><b>Example 9.55 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.txcommit" title="9.7.49 MysqlndUhConnection::txCommit"><code class="function">MysqlndUhConnection::txCommit</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function txCommit($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::txCommit($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;commit();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::txCommit(array (
  0 =&gt; NULL,
))
proxy::txCommit returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.commit" title="3.9.9 mysqli::commit, mysqli_commit"><code class="function">mysqli_commit</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.txrollback"></a>9.7.50 <code class="literal">MysqlndUhConnection::txRollback</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::txRollback</code>
          </p><p>
            Rolls back current transaction
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhConnection::txRollback</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Rolls back current transaction.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439683440"></a><p class="title"><b>Example 9.56 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.txrollback" title="9.7.50 MysqlndUhConnection::txRollback"><code class="function">MysqlndUhConnection::txRollback</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function txRollback($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::txRollback($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;rollback();
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::txRollback(array (
  0 =&gt; NULL,
))
proxy::txRollback returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.commit" title="3.9.9 mysqli::commit, mysqli_commit"><code class="function">mysqli_commit</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhconnection.useresult"></a>9.7.51 <code class="literal">MysqlndUhConnection::useResult</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhConnection::useResult</code>
          </p><p>
            Initiate a result set retrieval
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">resource </span><span class="methodname">MysqlndUhConnection::useResult</span>(<span class="methodparam"><span class="type">mysqlnd_connection </span><span class="parameter">connection</span></span>);</code><p>
        Initiate a result set retrieval.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection</code></em>
          </span></dt><dd><p>
              Mysqlnd connection handle. Do not modify!
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Resource of type <code class="literal">Mysqlnd Resultset (internal only - you
        must not modify it!)</code>. The documentation may also refer
        to such resources using the alias name
        <code class="literal">mysqlnd_resultset</code>.
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439655024"></a><p class="title"><b>Example 9.57 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.useresult" title="9.7.51 MysqlndUhConnection::useResult"><code class="function">MysqlndUhConnection::useResult</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class proxy extends MysqlndUhConnection {
 public function useResult($res) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $ret = parent::useResult($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  var_dump($ret);
  return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;real_query("SELECT 'Good morning!' AS _msg FROM DUAL");
$res = $mysqli-&gt;use_result();
var_dump($res-&gt;fetch_assoc());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::useResult(array (
  0 =&gt; NULL,
))
proxy::useResult returns NULL
resource(425) of type (Mysqlnd Resultset (internal only - you must not modify it!))
array(1) {
  ["_msg"]=&gt;
  string(13) "Good morning!"
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.use-result" title="3.9.62 mysqli::use_result, mysqli_use_result"><code class="function">mysqli_use_result</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.real-query" title="3.9.43 mysqli::real_query, mysqli_real_query"><code class="function">mysqli_real_query</code></a>

          </td></tr></table><p>
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-class.mysqlnduhpreparedstatement"></a>9.8 The MysqlndUhPreparedStatement class</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.construct">9.8.1 <code class="literal">MysqlndUhPreparedStatement::__construct</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.execute">9.8.2 <code class="literal">MysqlndUhPreparedStatement::execute</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.prepare">9.8.3 <code class="literal">MysqlndUhPreparedStatement::prepare</code></a></span></dt></dl>
</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p><a name="apis-php-mysqlnduhpreparedstatement.intro"></a></p><p></p><p><a name="apis-php-mysqlnduhpreparedstatement.synopsis"></a></p><pre class="classsynopsis"> <span class="ooclass"><span class="classname">MysqlndUhPreparedStatement</span></span> {<br> <span class="ooclass"><span class="classname">MysqlndUhPreparedStatement</span></span>

Methods<code class="methodsynopsis">  <span class="modifier">public </span><span class="methodname">MysqlndUhPreparedStatement::__construct</span>();</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhPreparedStatement::execute</span>(<span class="methodparam"><span class="type">mysqlnd_prepared_statement </span><span class="parameter">statement</span></span>);</code><br><code class="methodsynopsis">  <span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhPreparedStatement::prepare</span>(<span class="methodparam"><span class="type">mysqlnd_prepared_statement </span><span class="parameter">statement</span></span>,<br>                                                  <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>);</code><br>}</pre>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhpreparedstatement.construct"></a>9.8.1 <code class="literal">MysqlndUhPreparedStatement::__construct</code></h3>
</div>
</div>
</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhPreparedStatement::__construct</code>
          </p><p>
            The __construct purpose
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
</p><code class="methodsynopsis"><span class="modifier">public </span><span class="methodname">MysqlndUhPreparedStatement::__construct</span>();</code><p></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>This function is
currently not documented; only its argument list is available.
</p>
</div>
<p>
        <span class="bold"><strong>Parameters</strong></span>
      </p><p>
        This function has no parameters.
      </p><p>
        <span class="bold"><strong>Return Values</strong></span>
</p><p></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhpreparedstatement.execute"></a>9.8.2 <code class="literal">MysqlndUhPreparedStatement::execute</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhPreparedStatement::execute</code>
          </p><p>
            Executes a prepared Query
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhPreparedStatement::execute</span>(<span class="methodparam"><span class="type">mysqlnd_prepared_statement </span><span class="parameter">statement</span></span>);</code><p>
        Executes a prepared Query.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>statement</code></em>
          </span></dt><dd><p>
              Mysqlnd prepared statement handle. Do not modify! Resource
              of type <code class="literal">Mysqlnd Prepared Statement (internal only
              - you must not modify it!)</code>.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439595344"></a><p class="title"><b>Example 9.58 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.execute" title="9.8.2 MysqlndUhPreparedStatement::execute"><code class="function">MysqlndUhPreparedStatement::execute</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class stmt_proxy extends MysqlndUhPreparedStatement {
 public function execute($res) {
  printf("%s(", __METHOD__);
  var_dump($res);
  printf(")\n");
  $ret = parent::execute($res);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  var_dump($ret);
  return $ret;
 }
}
mysqlnd_uh_set_statement_proxy(new stmt_proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$stmt = $mysqli-&gt;prepare("SELECT 'Labskaus' AS _msg FROM DUAL");
$stmt-&gt;execute();
$msg = NULL;
$stmt-&gt;bind_result($msg);
$stmt-&gt;fetch();
var_dump($msg);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

stmt_proxy::execute(resource(256) of type (Mysqlnd Prepared Statement (internal only - you must not modify it!))
)
stmt_proxy::execute returns true
bool(true)
string(8) "Labskaus"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy" title="9.9.3 mysqlnd_uh_set_statement_proxy"><code class="function">mysqlnd_uh_set_statement_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli-stmt.execute" title="3.10.12 mysqli_stmt::execute, mysqli_stmt_execute"><code class="function">mysqli_stmt_execute</code></a>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnduhpreparedstatement.prepare"></a>9.8.3 <code class="literal">MysqlndUhPreparedStatement::prepare</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MysqlndUhPreparedStatement::prepare</code>
          </p><p>
            Prepare an SQL statement for execution
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="modifier">public </span><span class="type">bool </span><span class="methodname">MysqlndUhPreparedStatement::prepare</span>(<span class="methodparam"><span class="type">mysqlnd_prepared_statement </span><span class="parameter">statement</span></span>,<br>                                                <span class="methodparam"><span class="type">string </span><span class="parameter">query</span></span>);</code><p>
        Prepare an SQL statement for execution.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>statement</code></em>
          </span></dt><dd><p>
              Mysqlnd prepared statement handle. Do not modify! Resource
              of type <code class="literal">Mysqlnd Prepared Statement (internal only
              - you must not modify it!)</code>.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>query</code></em>
          </span></dt><dd><p>
              The query to be prepared.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439562528"></a><p class="title"><b>Example 9.59 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhpreparedstatement.prepare" title="9.8.3 MysqlndUhPreparedStatement::prepare"><code class="function">MysqlndUhPreparedStatement::prepare</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
class stmt_proxy extends MysqlndUhPreparedStatement {
 public function prepare($res, $query) {
  printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
  $query = "SELECT 'No more you-know-what-I-mean for lunch, please' AS _msg FROM DUAL";
  $ret = parent::prepare($res, $query);
  printf("%s returns %s\n", __METHOD__, var_export($ret, true));
  var_dump($ret);
  return $ret;
 }
}
mysqlnd_uh_set_statement_proxy(new stmt_proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
$stmt = $mysqli-&gt;prepare("SELECT 'Labskaus' AS _msg FROM DUAL");
$stmt-&gt;execute();
$msg = NULL;
$stmt-&gt;bind_result($msg);
$stmt-&gt;fetch();
var_dump($msg);
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

stmt_proxy::prepare(array (
  0 =&gt; NULL,
  1 =&gt; 'SELECT \'Labskaus\' AS _msg FROM DUAL',
))
stmt_proxy::prepare returns true
bool(true)
string(46) "No more you-know-what-I-mean for lunch, please"

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy" title="9.9.3 mysqlnd_uh_set_statement_proxy"><code class="function">mysqlnd_uh_set_statement_proxy</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli-stmt.prepare" title="3.10.23 mysqli_stmt::prepare, mysqli_stmt_prepare"><code class="function">mysqli_stmt_prepare</code></a>

          </td></tr><tr><td><a class="link" href="apis-php-mysqli.html#apis-php-mysqli.prepare" title="3.9.39 mysqli::prepare, mysqli_prepare"><code class="function">mysqli_prepare</code></a>

          </td></tr></table><p>
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-ref.mysqlnd-uh"></a>9.9 Mysqlnd_uh Functions</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-convert-to-mysqlnd">9.9.1 <code class="literal">mysqlnd_uh_convert_to_mysqlnd</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy">9.9.2 <code class="literal">mysqlnd_uh_set_connection_proxy</code></a></span></dt><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy">9.9.3 <code class="literal">mysqlnd_uh_set_statement_proxy</code></a></span></dt></dl>
</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-function.mysqlnd-uh-convert-to-mysqlnd"></a>9.9.1 <code class="literal">mysqlnd_uh_convert_to_mysqlnd</code></h3>
</div>
</div>
</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">mysqlnd_uh_convert_to_mysqlnd</code>
          </p><p>
            Converts a MySQL connection handle into a mysqlnd connection
            handle
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="type">resource </span><span class="methodname">mysqlnd_uh_convert_to_mysqlnd</span>(<span class="methodparam"><span class="type">mysqli </span><span class="parameter">mysql_connection</span></span>);</code><p>
        Converts a MySQL connection handle into a mysqlnd connection
        handle. After conversion you can execute mysqlnd library calls
        on the connection handle. This can be used to access mysqlnd
        functionality not made available through user space API calls.
      </p><p>
        The function can be disabled with
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>.
        If
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>
        is set to <code class="constant">FALSE</code> the function will not
        install the proxy and always return <code class="constant">TRUE</code>.
        Additionally, an error of the type <code class="literal">E_WARNING</code>
        may be emitted. The error message may read like <code class="literal">PHP
        Warning: mysqlnd_uh_convert_to_mysqlnd(): (Mysqlnd User Handler)
        The plugin has been disabled by setting the configuration
        parameter mysqlnd_uh.enable = false. You are not allowed to call
        this function [...]</code>.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>MySQL connection handle</code></em>
          </span></dt><dd><p>
              A MySQL connection handle of type mysql, mysqli or
              PDO_MySQL.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        A mysqlnd connection handle.
      </p><p>
        <span class="bold"><strong>Changelog</strong></span>
      </p><p>
</p>
<div class="informaltable">
<table class="informaltable" summary="Changelog information for this function" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">5.4.0</td><td>The <em class="parameter"><code>mysql_connection</code></em> parameter can now be of type
                  <code class="literal">mysql</code>,
                  <code class="literal">PDO_MySQL</code>, or
                  <code class="literal">mysqli</code>. Before, only the
<code class="literal">mysqli</code> type was allowed.</td></tr></tbody></table>
</div>
<p>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439514416"></a><p class="title"><b>Example 9.60 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-convert-to-mysqlnd" title="9.9.1 mysqlnd_uh_convert_to_mysqlnd"><code class="function">mysqlnd_uh_convert_to_mysqlnd</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
/* PDO user API gives no access to connection thread id */
$mysql_connection = new PDO("mysql:host=localhost;dbname=test", "root", "");

/* Convert PDO MySQL handle to mysqlnd handle */
$mysqlnd = mysqlnd_uh_convert_to_mysqlnd($mysql_connection);

/* Create Proxy to call mysqlnd connection class methods */
$obj = new MySQLndUHConnection();
/* Call mysqlnd_conn::get_thread_id */
var_dump($obj-&gt;getThreadId($mysqlnd));

/* Use SQL to fetch connection thread id */
var_dump($mysql_connection-&gt;query("SELECT CONNECTION_ID()")-&gt;fetchAll());
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

int(27054)
array(1) {
  [0]=&gt;
  array(2) {
    ["CONNECTION_ID()"]=&gt;
    string(5) "27054"
    [0]=&gt;
    string(5) "27054"
  }
}

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-function.mysqlnd-uh-set-connection-proxy"></a>9.9.2 <code class="literal">mysqlnd_uh_set_connection_proxy</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">mysqlnd_uh_set_connection_proxy</code>
          </p><p>
            Installs a proxy for mysqlnd connections
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="type">bool </span><span class="methodname">mysqlnd_uh_set_connection_proxy</span>(<span class="methodparam"><span class="type">MysqlndUhConnection </span><span class="parameter">connection_proxy</span></span>,<br>                                     <span class="methodparam"><span class="type">mysqli </span><span class="parameter">mysqli_connection</span></span>);</code><p>
        Installs a proxy object to hook mysqlnd's connection
        objects methods. Once installed, the proxy will be used for all
        MySQL connections opened with
        <a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>,
        <a class="link" href="apis-php-mysql.html#apis-php-ref.mysql" title="5.5 MySQL Functions">mysql</a> or
        <a class="link" href="apis-php-pdo-mysql.html" title="Chapter 4 MySQL Functions (PDO_MYSQL)">PDO_MYSQL</a>, assuming
        that the listed extensions are compiled to use the
        <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a> library.
      </p><p>
        The function can be disabled with
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>.
        If
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>
        is set to <code class="constant">FALSE</code> the function will not
        install the proxy and always return <code class="constant">TRUE</code>.
        Additionally, an error of the type <code class="literal">E_WARNING</code>
        may be emitted. The error message may read like <code class="literal">PHP
        Warning: mysqlnd_uh_set_connection_proxy(): (Mysqlnd User
        Handler) The plugin has been disabled by setting the
        configuration parameter mysqlnd_uh.enable = false. The proxy has
        not been installed [...]</code>.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>connection_proxy</code></em>
          </span></dt><dd><p>
              A proxy object of type
              <code class="classname">MysqlndUhConnection</code>.
            </p></dd><dt><span class="term">
            <em class="parameter"><code>mysqli_connection</code></em>
          </span></dt><dd><p>
              Object of type <code class="literal">mysqli</code>. If given, the
              proxy will be set for this particular connection only.
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>Examples</strong></span>
      </p><p>
</p>
<div class="example">
<a name="idm139660439474064"></a><p class="title"><b>Example 9.61 <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>
example</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php
$mysqli = new mysqli("localhost", "root", "", "test");
$mysqli-&gt;query("SELECT 'No proxy installed, yet'");

class proxy extends MysqlndUhConnection {
 public function query($res, $query) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::query($res, $query);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli-&gt;query("SELECT 'mysqlnd rocks!'");

$mysql = mysql_connect("localhost", "root", "", "test");
mysql_query("SELECT 'Ahoy Andrey!'", $mysql);

$pdo = new PDO("mysql:host=localhost;dbname=test", "root", "");
$pdo-&gt;query("SELECT 'Moin Johannes!'");
?&gt;

    </pre><p>
            The above example will output:
          </p><pre class="screen">

proxy::query(array (
  0 =&gt; NULL,
  1 =&gt; 'SELECT \'mysqlnd rocks!\'',
))
proxy::query returns true
proxy::query(array (
  0 =&gt; NULL,
  1 =&gt; 'SELECT \'Ahoy Andrey!\'',
))
proxy::query returns true
proxy::query(array (
  0 =&gt; NULL,
  1 =&gt; 'SELECT \'Moin Johannes!\'',
))
proxy::query returns true

</pre>
</div>

</div>
<p><br class="example-break">
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-statement-proxy" title="9.9.3 mysqlnd_uh_set_statement_proxy"><code class="function">mysqlnd_uh_set_statement_proxy</code></a>

          </td></tr><tr><td><code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>

          </td></tr></table><p>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-function.mysqlnd-uh-set-statement-proxy"></a>9.9.3 <code class="literal">mysqlnd_uh_set_statement_proxy</code></h3>

</div>

</div>

</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">mysqlnd_uh_set_statement_proxy</code>
          </p><p>
            Installs a proxy for mysqlnd statements
</p></li></ul>
</div>
<p>
        <span class="bold"><strong>Description</strong></span>
      </p><code class="methodsynopsis"><span class="type">bool </span><span class="methodname">mysqlnd_uh_set_statement_proxy</span>(<span class="methodparam"><span class="type">MysqlndUhStatement </span><span class="parameter">statement_proxy</span></span>);</code><p>
        Installs a proxy for mysqlnd statements. The proxy object will
        be used for all mysqlnd prepared statement objects, regardless
        which PHP MySQL extension
        (<a class="link" href="apis-php-mysqli.html#apis-php-ref.mysqli" title="3.15 Aliases and deprecated Mysqli Functions">mysqli</a>,
        <a class="link" href="apis-php-mysql.html#apis-php-ref.mysql" title="5.5 MySQL Functions">mysql</a>,
        <a class="link" href="apis-php-pdo-mysql.html" title="Chapter 4 MySQL Functions (PDO_MYSQL)">PDO_MYSQL</a>) has created
        them as long as the extension is compiled to use the
        <a class="link" href="apis-php-mysqlnd.html" title="Chapter 6 MySQL Native Driver">mysqlnd</a> library.
      </p><p>
        The function can be disabled with
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>.
        If
        <code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>
        is set to <code class="constant">FALSE</code> the function will not
        install the proxy and always return <code class="constant">TRUE</code>.
        Additionally, an error of the type <code class="literal">E_WARNING</code>
        may be emitted. The error message may read like <code class="literal">PHP
        Warning: mysqlnd_uh_set_statement_proxy(): (Mysqlnd User
        Handler) The plugin has been disabled by setting the
        configuration parameter mysqlnd_uh.enable = false. The proxy has
        not been installed [...]</code>.
      </p><p>
        <span class="bold"><strong>Parameters</strong></span>
</p>
<div class="variablelist">
<dl class="variablelist"><dt><span class="term">
            <em class="parameter"><code>statement_proxy</code></em>
          </span></dt><dd><p>
              The mysqlnd statement proxy object of type
              <code class="literal">MysqlndUhStatement</code>
</p></dd></dl>
</div>
<p>
        <span class="bold"><strong>Return Values</strong></span>
      </p><p>
        Returns <code class="constant">TRUE</code> on success. Otherwise, returns
        <code class="constant">FALSE</code>
      </p><p>
        <span class="bold"><strong>See Also</strong></span>
      </p><p>
        </p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-function.mysqlnd-uh-set-connection-proxy" title="9.9.2 mysqlnd_uh_set_connection_proxy"><code class="function">mysqlnd_uh_set_connection_proxy</code></a>

          </td></tr><tr><td><code class="literal"><a class="link" href="apis-php-mysqlnd-uh.html#apis-php-ini.mysqlnd-uh.enable">mysqlnd_uh.enable</a></code>

          </td></tr></table><p>
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="apis-php-mysqlnd-uh.changes"></a>9.10 Change History</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="apis-php-mysqlnd-uh.html#apis-php-mysqlnd-uh.changes-one-o">9.10.1 PECL/mysqlnd_uh 1.0 series</a></span></dt></dl>
</div>
<p>
      <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
      Documentation Group.</a>
    </p><p>
      The Change History lists major changes users need to be aware if
      upgrading from one version to another. It is a high level summary
      of selected changes that may impact applications or might even
      break backwards compatibility. See also the
      <code class="filename">CHANGES</code> file contained in the source for
      additional changelog information. The commit history is also
      available.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="apis-php-mysqlnd-uh.changes-one-o"></a>9.10.1 PECL/mysqlnd_uh 1.0 series</h3>
</div>
</div>
</div>
<p>
        <a class="link" href="apis-php-introduction.html#php-api-copyright">Copyright 1997-2014 the PHP
        Documentation Group.</a>
      </p><p>
        1.0.1-alpha

</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
      Release date: TBD
     </li><li class="listitem">
      Motto/theme: bug fix release
</li></ul>
</div>
<p>
      </p><p>
        Feature changes

</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
      Support of PHP 5.4.0 or later.
     </li><li class="listitem">
      BC break: <a class="link" href="apis-php-mysqlnd-uh.html#apis-php-mysqlnduhconnection.changeuser" title="9.7.1 MysqlndUhConnection::changeUser"><code class="function">MysqlndUhConnection::changeUser</code></a> requires
      additional <code class="literal">passwd_len</code> parameter.
     </li><li class="listitem">
      BC break: <code class="constant">MYSQLND_UH_VERSION_STR</code> renamed to <code class="constant">MYSQLND_UH_VERSION</code>.
      <code class="constant">MYSQLND_UH_VERSION</code> renamed to <code class="constant">MYSQLND_UH_VERSION_ID</code>.
     </li><li class="listitem">
      BC break: <code class="literal">mysqlnd_uh.enabled</code> configuration setting renamed to <code class="literal">mysqlnd_uh.enable</code>.
</li></ul>
</div>
<p>
      </p><p>
        1.0.0-alpha

</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
      Release date: 08/2010
     </li><li class="listitem">
      Motto/theme: Initial release
</li></ul>
</div>
<p>
</p>
</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href="apis-php-mysqlnd-qc.html">Prev</a></td>
<td width="20%" align="center"><a accesskey="u" href="">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="apis-php-mysqlnd-mux.html">Next</a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 8 Mysqlnd query result cache plugin</td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top">Chapter 10 Mysqlnd connection multiplexing plugin</td>
</tr>
</table>
</div>
</body>
</html>
