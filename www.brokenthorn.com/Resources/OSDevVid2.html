<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.1  (Win32)">
	<META NAME="CREATED" CONTENT="20120714;20392900">
	<META NAME="CHANGED" CONTENT="20140108;23513300">
	<STYLE TYPE="text/css">
	<!--
		@page { margin: 0.79in }
		TD P { margin-bottom: 0in; color: #000000 }
		TD P.western { font-family: "Verdana", sans-serif; font-size: 10pt }
		H1 { margin-bottom: 0.08in; background: transparent; color: #000080; text-decoration: none; page-break-before: auto; page-break-after: auto }
		H1.western { font-family: "Verdana", sans-serif; font-size: 16pt }
		H1.cjk { font-family: "Lucida Sans Unicode"; font-size: 16pt }
		H1.ctl { font-family: "Tahoma"; font-size: 16pt }
		P { margin-bottom: 0.08in; color: #000000 }
		P.western { font-family: "Verdana", sans-serif; font-size: 10pt }
		H2 { margin-bottom: 0.08in; color: #800000; text-decoration: none }
		H2.western { font-family: "Verdana", sans-serif; font-size: 13pt }
		H3 { margin-bottom: 0.08in; color: #008000; text-decoration: none }
		H3.western { font-family: "Verdana", sans-serif; font-size: 11pt }
		DD { margin-left: 0.09in }
		H4 { text-decoration: none }
		PRE.western { font-family: "Lucida Console", monospace }
		A:link { so-language: zxx }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<TABLE WIDTH=100% CELLPADDING=2 CELLSPACING=2 STYLE="page-break-before: always">
	<TR>
		<TD>
			<P CLASS="western"><A HREF="http://www.brokenthorn.com/"><IMG SRC="http://brokenthorn.com/Resources/site/5.png" NAME="graphics1" ALIGN=BOTTOM WIDTH=375 HEIGHT=71 BORDER=0></A>
						</P>
		</TD>
		<TD>
			<DIV ID="ad_main" DIR="LTR">
				<P CLASS="western">
				<BR>
				</P>
			</DIV>
		</TD>
	</TR>
</TABLE>
<TABLE WIDTH=100% BORDER=0 CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=256*>
	<TR>
		<TD WIDTH=100% HEIGHT=12 BGCOLOR="#000080">
			<P CLASS="western" STYLE="page-break-after: avoid"><FONT COLOR="#ffffff"><FONT FACE="Verdana, sans-serif"><FONT SIZE=2><B>Operating
			System Development Series</B></FONT></FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">This series is intended to demonstrate and teach
operating system development from the ground up.</P>

<SCRIPT SRC="http://www.gmodules.com/ig/ifr?url=http://www.google.com/ig/modules/translatemypage.xml&amp;up_source_language=en&amp;synd=open&amp;w=160&amp;h=60&amp;title=&amp;lang=en&amp;country=ALL&amp;border=%23ffffff%7C3px%2C1px+solid+%23999999&amp;output=js"></SCRIPT>


<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=129*>
	<COL WIDTH=127*>
	<TR VALIGN=TOP>
		<TD WIDTH=50% STYLE="background: url(BlueToWhiteGradient.jpg) no-repeat top left scroll">
			<P CLASS="western" STYLE="margin-top: 0.17in; margin-bottom: 0.2in; text-decoration: none; page-break-after: avoid">
			<FONT COLOR="#000000"><FONT FACE="Verdana, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Graphics
			2: VGA and SuperVGA</B></FONT></FONT></FONT></P>
			<P CLASS="western">by Mike, 2013</P>
		</TD>
		<TD WIDTH=50%>
			<BLOCKQUOTE><FONT COLOR="#000000">&ldquo;</FONT><FONT COLOR="#000000"><FONT FACE="Helvetica, Verdana, Arial, Liberation Sans, FreeSans, sans-serif"><FONT SIZE=2 STYLE="font-size: 9pt"><I><SPAN STYLE="font-weight: normal">Controlling
			complexity is the essence of computer programming</SPAN></I></FONT></FONT></FONT>&ldquo;
			-Brian W. Kernighan</BLOCKQUOTE>
		</TD>
	</TR>
</TABLE>

<H1 CLASS="western">1. Introduction</H1>
<P CLASS="western">Welcome!</P>
<P CLASS="western">In the previous article, we introduced some
concepts pertaining to video devices with an emphasize on VGA on the
Video BIOS firmware. In this article, we will look at different
hardware and firmware interfaces for video devices for VGA, SuperVGA
and Video BIOS support and implement a common video interface in C
supporting the interfaces. Here are the topics to be covered.</P>
<OL>
	<LI><DD>VGA hardware</DD><LI><DD>
	VGA BIOS</DD><LI><DD>
	Vesa BIOS Extensions</DD><LI><DD STYLE="margin-bottom: 0.2in">
	Bochs VBE Interface</DD></OL>
<P CLASS="western">We first introduce the <B>Video Graphics Array
(VGA)</B> standard as it is the most supported on personal computers
and one of the oldest. The VGA standard provides a way to interact
with video hardware in a standard way, but it is limited to low
resolution display modes and lack of graphics acceleration support
present in modern display devices. We will look at both the hardware
interface and the VGA BIOS firmware interface. The VGA BIOS interface
is by far simpler then the VGA hardware interface but can only be
used in real or v86 processor modes. The hardware interface can be
used from any processor mode.</P>
<P CLASS="western">Then we move on to <B>Vesa BIOS Extensions (VBE)</B><SPAN STYLE="font-weight: normal">.
VBE is a standard developed by the </SPAN><B>Video Electronic
Standards Association (Vesa)</B> <SPAN STYLE="font-weight: normal">that
provides a standard set of BIOS extensions for supporting high
resolution display modes and monitor features. Due to it being a BIOS
extension, not all personal computers support it. It also can only be
used from real or v86 modes.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">In summary, the goal
of this chapter is to cover changing the video mode and accessing
display memory. By the end of the chapter, you should have a demo
built that does just that, either using VGA or SuperVGA. Later
chapters will then focus on the graphics (and possibly some SuperVGA
hardware graphics support.)</P>
<H2 CLASS="western">1.1. Interfacing with the BIOS</H2>
<P CLASS="western" STYLE="font-weight: normal">Before we start
getting into the main topics of the chapter, we need to take a small
detour and take a closer look at the BIOS. You may recall our use of
some of these BIOS services for VGA in the previous article. If the
software uses any of these services then it must run in real or v8086
mode. This poses a problem for protected mode or long mode software.
Thus we need to find a way to resolve this before continuing. <B>If
you don't plan on using any BIOS services, however, please feel free
to skip this section.</B></P>
<P CLASS="western" STYLE="font-weight: normal">There are two
approaches of calling the BIOS from protected mode (not long mode.)</P>
<OL>
	<LI><DD>Drop down to real mode and call the BIOS</DD><LI><DD STYLE="margin-bottom: 0.2in">
	Virtual 8086 mode</DD></OL>
<P CLASS="western" STYLE="font-weight: normal">The first method is
simpler but can be very ugly for more complete designed systems. The
second approach is the most commonly used method but is also the
hardest; requiring user mode, interrupt dispatching, task switching,
and instruction emulation.</P>
<H3 CLASS="western">Method 1</H3>
<P CLASS="western" STYLE="font-weight: normal">The first method
requires that the software be able to switch to real mode from
protected mode when needed. Without certain restrictions applied to
the software design (such as not supporting virtual memory or higher
half kernel support) this method can become increasingly complicated
to support to the point where it is not worth it. It is, however, the
simplest method to implement and requires the least amount of
additional software support. For these reasons, we opted to go with
this method for the associated demos but highly recommend using
method 2 when the software system is large enough to warrant the
need.</P>
<P CLASS="western" STYLE="font-weight: normal">In order to implement
this method, we need a routine or a set of routines to act as an
interface between 32 bit protected mode and 16 bit real mode. These
routines must do the following while preserving routine input and
output values.</P>
<OL>
	<LI><DT>Save current system state that must be reserved. In the most
	basic case, this is the protected mode stack and IDTR.</DT><LI><DT>
	Disable hardware interrupts (CLI instruction).</DT><LI><DT>
	Reload original IVT. This is done by setting IDTR.size to 0xffff and
	IDTR.base to 0.</DT><LI><DT>
	Perform a jump to 16 bit protected mode.</DT><LI><DT>
	Disable protected mode by clearing CR0.PM bit</DT><LI><DT>
	Perform a jump to 16 bit real mode code.</DT><LI><DT>
	Set all real mode segments, enable interrupts and call BIOS.</DT><LI><DT>
	Perform a jump to 32 bit protected mode.</DT><LI><DT STYLE="margin-bottom: 0.2in">
	Restore saved system state. In the most basic case as in (1) this is
	the selectors, protected mode stack, and IDTR.</DT></OL>
<P CLASS="western" STYLE="font-weight: normal">This routines can get
very complicated as the system becomes more demanding in what it
supports. The above list sounds like a lot, but its more tricky then
hard&mdash;provided the system does not use paging and the kernel
image is less then 1MB. In other words, <B>we assume the project base
address is 64K and paging is disabled in order to keep the routine
relatively simple.</B></P>
<P CLASS="western" STYLE="font-weight: normal">In the demos, the
method <B>io_services</B> is used to call the BIOS. It drops into
real mode using the steps above. <B>io_services</B> looks like this:</P>
<PRE CLASS="western" STYLE="margin-bottom: 0.2in">extern void io_services (unsigned int num, INTR* in, INTR* out);</PRE><P CLASS="western">
<SPAN STYLE="font-weight: normal">Where </SPAN><B>num</B> <SPAN STYLE="font-weight: normal">is
the interrupt number, </SPAN><B>in</B> <SPAN STYLE="font-weight: normal">is
a pointer to a </SPAN><B>INTR</B> <SPAN STYLE="font-weight: normal">structure,
and </SPAN><B>out</B> <SPAN STYLE="font-weight: normal">is a pointer
to an output </SPAN><B>INTR</B> <SPAN STYLE="font-weight: normal">structure.
</SPAN><B>INTR</B> <SPAN STYLE="font-weight: normal">is a set of
structures that store register values. Both </SPAN><B>io_services</B>
<SPAN STYLE="font-weight: normal">and </SPAN><B>INTR</B> <SPAN STYLE="font-weight: normal">are
fairly large and so will be omitted in the text. Please reference
</SPAN><B>bios.asm</B> <SPAN STYLE="font-weight: normal">in the
demos.</SPAN></P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=31*>
	<COL WIDTH=225*>
	<TR VALIGN=TOP>
		<TD WIDTH=12%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics8" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=88%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in">This example uses
			the function <B>io_services</B> <SPAN STYLE="font-weight: normal">and
			</SPAN><B>INTR</B> <SPAN STYLE="font-weight: normal">structure to
			call the BIOS to set the video mode. Note the C code is runs in
			protected mode.</SPAN></P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vga_set_mode (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>mode) {</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
        INTR in, out;
        in.eax.val = mode;
        io_services (0x10, &amp;in, &amp;out);
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">If the software is in long mode, the only options
is to program the device directly or to write an emulator.</P>
<H3 CLASS="western">Method 2</H3>
<P CLASS="western">The second method is using v8086 mode. This is by
far the best long-term way to support calling the BIOS firmware but
is also the most demanding. At a minimum, v8086 mode requires that
the operating system support the following.</P>
<OL>
	<LI><DD>User mode processes</DD><LI><DD>
	Task switching</DD><LI><DD>
	Interrupt dispatching</DD><LI><DD STYLE="margin-bottom: 0.2in">
	Instruction emulation</DD></OL>
<P CLASS="western">Virtual 8086 mode can only execute as user mode
processes. This poses a problem however as user mode processes can
not execute kernel mode instructions (like <B>int</B><SPAN STYLE="font-weight: normal">)
and so can not call the BIOS which sort of defeats the purpose. In
other words, when the v8086 process executes an </SPAN><B>int</B>
<SPAN STYLE="font-weight: normal">(interrupt) instruction, it
triggers a </SPAN><B>general protection fault (GPF)</B><SPAN STYLE="font-weight: normal">.
What can we do to fix this?</SPAN></P>
<P CLASS="western"><SPAN STYLE="font-weight: normal">We are not
entirely out of solutions here. While the v8086 process cannot call
the BIOS, the kernel </SPAN><I><SPAN STYLE="font-weight: normal">can</SPAN></I><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">.
When the GPF occurs, the kernel effectively gets called. The kernel
GPF handler then can detect what caused the GPF and do something
about it like so:</SPAN></SPAN></P>
<OL>
	<LI><DD STYLE="font-style: normal; font-weight: normal">Check
	current process.v8086 flag</DD><LI><DD>
	<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">If
	set; call </SPAN></SPAN><SPAN STYLE="font-style: normal"><B>v86_monitor</B></SPAN></DD><LI><DD STYLE="margin-bottom: 0.2in; font-style: normal; font-weight: normal">
	If not set, continue with GPF and possibly terminate process</DD></OL>
<P CLASS="western"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">Our
</SPAN></SPAN><SPAN STYLE="font-style: normal"><B>v86_monitor</B></SPAN>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">is
a special function that is called by the kernel GPF handler for all
v8086 processes. Now we are getting somewhere; what we have here is
that whenever the v8086 process attempts to call the BIOS (or use any
kernel mode instruction) the kernel GPF handler gets called which
calls </SPAN></SPAN><SPAN STYLE="font-style: normal"><B>v86_monitor</B></SPAN>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">to
&ldquo;monitor&rdquo; the v8086 task.</SPAN></SPAN></P>
<P CLASS="western"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">The
</SPAN></SPAN><SPAN STYLE="font-style: normal"><B>v86_monitor</B></SPAN>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">implements
a </SPAN></SPAN><SPAN STYLE="font-style: normal"><B>v8086 monitor</B></SPAN>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">that
is responsible for </SPAN></SPAN><I><SPAN STYLE="font-weight: normal">emulating</SPAN></I>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">the
problem instructions the v8086 task tried to use. For example, the
</SPAN></SPAN><SPAN STYLE="font-style: normal"><B>v8086 monitor</B></SPAN>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">would
</SPAN></SPAN><I><SPAN STYLE="font-weight: normal">detect</SPAN></I>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">the
problem instruction (it will have the CS:EIP given by the CPU) as an
interrupt call and </SPAN></SPAN><I><SPAN STYLE="font-weight: normal">emulate</SPAN></I>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">it
by invoking IVT [n] where n = BIOS number to call (recall however
that the IVT instruction pointers are in segment:offset format </SPAN></SPAN><I><SPAN STYLE="font-weight: normal">not</SPAN></I>
<SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">linear.)</SPAN></SPAN></P>
<H1 CLASS="western">2. Video Graphics Array (VGA)</H1>
<P CLASS="western"><B>Readers may skip this section if you only want
to look at SuperVGA.</B></P>
<P CLASS="western">The <B>Video Graphics Array (VGA) </B>is the
design of display hardware first introduced in 1987 for the IBM PS/2
computers [1] but has been widely adopted by organizations as a
display standard. The highest video mode resolution supported is
640x480x16 color. Due to the widespread adoption by PC manufactures,
VGA has become one of the oldest standards still supported by modern
PC's.</P>
<P CLASS="western">VGA was followed by IBM's <B>Extended Graphics
Array (XGA)</B> standard but extensions implemented by different
manufacturers produced <B>SuperVGA</B> <SPAN STYLE="font-weight: normal">adapters
that are common in modern PC's. Most SuperVGA cards are backward
compatible with the VGA standard.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">Please note that this
is not going to be an exhaustive explanation of VGA due to its
complexity. Please reference resources [2] and [3] for more
information on VGA hardware and I encourage reading one of the many
large books on VGA.</P>
<H2 CLASS="western">2.1. Video modes</H2>
<P CLASS="western">There is a standard set of video modes and mode
numbers supported by VGA. The <B>video mode</B> <SPAN STYLE="font-weight: normal">refers
to the </SPAN><B>display configuration </B><SPAN STYLE="font-weight: normal">and
its properties, such as </SPAN><B>resolution</B><SPAN STYLE="font-weight: normal">,
</SPAN><B>bit depth</B> <SPAN STYLE="font-weight: normal">(bits per
pixel), number of colors, </SPAN><B>memory mode</B><SPAN STYLE="font-weight: normal">,
etc. </SPAN><B>Standard video mode numbers are 0h, 1h, 2h, 3h, 4h,
5h, 7h, Dh, Eh, Fh, 10h, 11h, 12h, and 13h.</B> <SPAN STYLE="font-weight: normal">There
is nothing special about the mode number itself; it is just used by
the video BIOS to refer to a particular video mode. There may be more
modes, however they are nonstandard.</SPAN></P>
<TABLE WIDTH=458 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=45>
	<COL WIDTH=79>
	<COL WIDTH=85>
	<COL WIDTH=40>
	<COL WIDTH=83>
	<COL WIDTH=75>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">Mode</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">Resolution</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">Color depth</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">Mode</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">Resolution</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">Color depth</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">0h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">40x25 Text</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">16 Color</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">Dh</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">16 Color</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">1h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">40x25 Text</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">16 Color</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">Eh</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">640x200</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">16 Color</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">2h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">80x25 Text</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">16 Color</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">Fh</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">640x350</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">2 Color</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">3h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">80x25 Text</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">16 Color</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">10h</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">640x350</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">16 Color</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">4h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">4 Color</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">11h</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">2 Color</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">5h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">4 Gray</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">12h</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">16 Color</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">7h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">80x25 Text</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">2 Color</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">13h</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">256 Color</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">The highest resolution supported by standard VGA
is <B>mode 12h</B> <SPAN STYLE="font-weight: normal">which is
640x480x16 color. (Interesting note, Windows XP logo screen runs in
mode 12h.) Higher resolutions can only be obtained using SuperVGA
which is described later on.</SPAN></P>
<H2 CLASS="western">2.2. VGA Firmware</H2>
<P CLASS="western"><SPAN STYLE="font-weight: normal">We first look at
the firmware interface of VGA, and the facilities provided by the
</SPAN><B>Video BIOS</B><SPAN STYLE="font-weight: normal">. In the
last article we introduced some of the facilities, most notably
</SPAN><B>interrupt 0x10 function 0</B> <SPAN STYLE="font-weight: normal">to
set the video mode. The Video BIOS provides services for setting,
getting, and working with VGA hardware through a more abstract
interface. Arguably it is far more safer, simpler, and more portable
for software to use the video BIOS facilities then it is to directly
control the hardware.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">Here we present some
of the common facilities that software can use for video services. Of
course, because these are BIOS interrupts, they can only be used in
real or v8086 mode and on systems that have BIOS firmware. Also, they
can only be used by kernel mode software.</P>
<H3 CLASS="western"><B>INT 0x10 Function 0 &ndash; Set Video Mode</B></H3>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DT></DL>
<UL>
	<LI><DD>
	AH=0</DD><LI><DD STYLE="margin-bottom: 0.2in">
	AL = video mode</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output:</B></DT></DL>
<UL>
	<LI><DD>
	AL=video mode flag (Phoenix, AMI BIOS)</DD><LI><DD STYLE="margin-bottom: 0.2in">
	AL = CRT Controller (CRTC) mode byte (Phoenix 386 BIOS v1.10)</DD></UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=29*>
	<COL WIDTH=227*>
	<TR VALIGN=TOP>
		<TD WIDTH=11%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics7" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=89%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in">This function sets
			the video mode.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vga_set_mode (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>mode) {</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
        INTR in, out;
        in.eax.val = mode;
        io_services (0x10, &amp;in, &amp;out);
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">We can now use the above function to set any VGA
BIOS video mode, such as Mode 13h. The result might look something
like this.</P>
<P CLASS="western" STYLE="font-weight: normal"><IMG SRC="images/OSDevVid2/OSDevVid2_html_m331d1b82.gif" NAME="graphics4" ALIGN=LEFT WIDTH=336 HEIGHT=210 BORDER=0><BR CLEAR=LEFT><I>Result
after setting VGA mode.</I></P>
<P CLASS="western" STYLE="font-weight: normal">As you can see from
the above image, there is a lot of garbage on the display. This
&ldquo;garbage&rdquo; is actually what what was in VGA memory before
the mode switch. This includes everything from all 4 <B>planes</B>
(we will look at these later on) such as any textural characters from
plane 1 and the VGA font in plane 2. If we clear the display, all of
this is cleared. This is a problem if the software must return back
to text mode because by clearing the display the software cleared the
VGA font. There are two ways to fix this:</P>
<OL>
	<LI><DD>Upload a new copy of the VGA font from the BIOS</DD><LI><DD STYLE="margin-bottom: 0.2in">
	Save the VGA font before clearing memory and restoring it later.</DD></OL>
<P CLASS="western" STYLE="font-weight: normal">By performing one of
the above the software can switch to a graphics mode and return back
to text mode without error.</P>
<H3 CLASS="western"><B>INT 0x10 Function B &ndash; Set Palette (Text
modes only)</B></H3>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DT></DL>
<UL>
	<LI><DD>
	AH=B</DD><LI><DD>
	BH=1</DD><LI><DD>
	BL=Palette ID. 
	</DD>
	<UL><LI><DD>
		00h background, green, red, and brown/yellow</DD><LI><DD STYLE="margin-bottom: 0.2in">
		01h background, cyan, magenta, and white</DD></UL>
</UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=28*>
	<COL WIDTH=228*>
	<TR VALIGN=TOP>
		<TD WIDTH=11%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics6" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=89%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in">The following code
			sets a VGA palette.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vga_set_palette (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>id) {</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
        INTR in, out;
        in.eax.val = 0xB;
        in.ebx.val = 0x0100 | id;
        io_services (0x10, &amp;in, &amp;out);
}</PRE>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">INT 0x10 Function C &ndash; Write pixel</H3>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DT></DL>
<UL>
	<LI><DD>
	AH=C</DD><LI><DD>
	<SPAN STYLE="font-weight: normal">BH=</SPAN><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">Page
	number</SPAN></SPAN></FONT></FONT></FONT></DD><LI><DD>
	AL=Pixel color</DD><LI><DD>
	CX=Column</DD><LI><DD STYLE="margin-bottom: 0.2in">
	DX=Row</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output:</B></DT></DL>
<UL>
	<LI><DD STYLE="margin-bottom: 0.2in">
	AL=Pixel color</DD></UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=28*>
	<COL WIDTH=228*>
	<TR VALIGN=TOP>
		<TD WIDTH=11%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics5" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=89%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in">The following
			writes a pixel. This might be omitted in the demos as it shouldn't
			be used; we only provide it for completeness.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff">void</FONT><FONT COLOR="#000000"> vga_plot_pixel (</FONT><FONT COLOR="#0000ff">int</FONT><FONT COLOR="#000000"> col, </FONT><FONT COLOR="#0000ff">int</FONT><FONT COLOR="#000000"> x, </FONT><FONT COLOR="#0000ff">int</FONT><FONT COLOR="#000000"> y) {</FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
        <FONT SIZE=2>INTR in, out;</FONT>
        <FONT SIZE=2>in.eax.val = 0x0C00 | col;</FONT>
        <FONT SIZE=2>in.ebx.val = 0;</FONT>
        <FONT SIZE=2>in.ecx.val = x;</FONT>
        <FONT SIZE=2>in.edx.val = y;</FONT>
        <FONT SIZE=2>io_services (0x10, &amp;in, &amp;out);</FONT>
<FONT SIZE=2>}</FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">Note that some versions of the Bochs emulator do
not support this interrupt. It is however implemented for VirtualPC.
We can use the above interrupt to plot pixels.</P>
<H3 CLASS="western"><B>INT 0x10 Function F &ndash; Get Video Mode</B></H3>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DT></DL>
<UL>
	<LI><DD STYLE="margin-bottom: 0.2in">
	AH=F</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output:</B></DT></DL>
<UL>
	<LI><DD>
	AH=Number of character columns</DD><LI><DD>
	AL=Display page number</DD><LI><DD STYLE="margin-bottom: 0.2in">
	BH=Active page</DD></UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=29*>
	<COL WIDTH=227*>
	<TR VALIGN=TOP>
		<TD WIDTH=11%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics3" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=89%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following code returns the mode information.</P>
			<PRE CLASS="western" STYLE="font-weight: normal">void vga_get_mode (unsigned int* col, unsigned int* dispPage, unsigned int* actPage) {
  <SPAN STYLE="font-weight: normal">INTR in, out;</SPAN>
  <SPAN STYLE="font-weight: normal">/* sanity check */</SPAN>
  <SPAN STYLE="font-weight: normal">if (!col || !dispPage || !actPage)</SPAN>
     <SPAN STYLE="font-weight: normal">return;</SPAN>

  <FONT SIZE=2><SPAN STYLE="font-weight: normal">in.eax.val = 0xf;</SPAN></FONT>
  <FONT SIZE=2><SPAN STYLE="font-weight: normal">io_services (0x10, &amp;in, &amp;out);</SPAN></FONT>
  <SPAN STYLE="font-weight: normal">*dispPage = out.ax.r.al;</SPAN>
  <SPAN STYLE="font-weight: normal">*actPage = out.bx.r.bh;</SPAN>
}</PRE>
		</TD>
	</TR>
</TABLE>
<H2 CLASS="western">2.3. VGA Hardware Interface</H2>
<P CLASS="western">The VGA hardware interface is very complex,
consisting of five controllers and over a hundred hardware registers
accessible from the Port I/O address space. A standard set of
register configurations help define the standard VGA video modes we
still see today. Due to the use of the Port I/O address space,
software can interface with the VGA hardware in any processor mode.
Of course, the software must be in supervisor level (ring 0) for the
<B>in</B> and <B>out</B> family of instructions to actually interact
with the hardware. Thus, only kernel mode software can access VGA
hardware. User mode software that attempts it will generate a general
protection fault when executing the <B>in</B> or <B>out</B>
instruction.</P>
<P CLASS="western">Before looking at the hardware, there is a
warning. The warning applies to all display monitors and video cards
that may lack protection from invalid data or data outside of the
range supported by the device (for example, an excess frequency
setting that the device is unable to work with in a safe manner.)
Most modern monitors will display an error message or show no output
on invalid settings. Make sure to test the driver software in an
emulator and virtual environment first and verify the driver software
works properly before testing on real hardware.</P>
<H3 CLASS="western">Video memory</H3>
<P CLASS="western">The memory layout of VGA differs depending on the
type of video mode is currently active. The VGA supports the
following memory layouts.</P>
<OL>
	<LI><DD>Linear</DD><LI><DD>
	Planar</DD><LI><DD>
	Palette</DD><LI><DD STYLE="margin-bottom: 0.2in">
	4 Color mode</DD></OL>
<P CLASS="western">We will take a look at all of these modes next and
when they are used. Knowing the different memory models is important
in order to properly read and write to display memory. We will cover
linear modes last as it is the most complex. Before that though, we
first need to know how to access video memory.</P>
<P CLASS="western">Recall the <B>memory map</B> <SPAN STYLE="font-weight: normal">that
we have looked at in the </SPAN><B>system architecture</B> <SPAN STYLE="font-weight: normal">chapter.
Here it is again.</SPAN></P>
<UL>
	<LI><DT><B>0x00000000 - 0x000003FF</B>&nbsp;- Real Mode Interrupt
	Vector Table</DT><LI><DT>
	<B>0x00000400 - 0x000004FF</B>&nbsp;- BIOS Data Area</DT><LI><DT>
	<B>0x00000500 - 0x00007BFF</B>&nbsp;- Unused</DT><LI><DT>
	<B>0x00007C00 - 0x00007DFF</B>&nbsp;- Our Bootloader</DT><LI><DT>
	<B>0x00007E00 - 0x0009FFFF</B>&nbsp;- Unused</DT><LI><DT>
	<B>0x000A0000 - 0x000BFFFF</B>&nbsp;- Video RAM (VRAM) Memory</DT><LI><DT>
	<B>0x000B0000 - 0x000B7777</B>&nbsp;- Monochrome Video Memory</DT><LI><DT>
	<B>0x000B8000 - 0x000BFFFF</B>&nbsp;- Color Video Memory</DT><LI><DT>
	<B>0x000C0000 - 0x000C7FFF</B>&nbsp;- Video ROM BIOS</DT><LI><DT>
	<B>0x000C8000 - 0x000EFFFF</B>&nbsp;- BIOS Shadow Area</DT><LI><DT STYLE="margin-bottom: 0.2in">
	<FONT COLOR="#000000"><FONT FACE="Verdana"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="font-style: normal"><B>0x000F0000
	- 0x000FFFFF</B></SPAN></FONT></FONT></FONT><FONT COLOR="#000000">&nbsp;</FONT><FONT COLOR="#000000"><FONT FACE="Verdana"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">-
	System BIOS</SPAN></SPAN></FONT></FONT></FONT></DT></UL>
<H4 STYLE="font-weight: normal">According to the memory map, video
memory is mapped into the physical address space at <B>0xA0000 &ndash;
0xBFFFF</B>. This is <B>0x1FFFF</B> bytes of memory or 131072 bytes
which is 128K. According to [2] VGA hardware has up to 256K or memory
however only 128K of it is mapped. The unmapped memory is accessible
by changing the address decoding mechanism of the VGA (we will not
cover that here though.) <B>Graphics mode memory starts at 0xA0000
and may extend to 0xAFFFF, or 64K.</B> Some of the following examples
will demonstrate this.</H4>
<H4>Planar memory modes (16 bit color modes)</H4>
<P CLASS="western"><SPAN STYLE="font-weight: normal">VGA memory is
referenced as 4 </SPAN><B>planes</B><SPAN STYLE="text-decoration: none">
</SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-weight: normal">each
64k of memory. You can think of them as different memory banks that
are connected to each other (although that might not be the case.)
Its sort of like having 4 windows on top of each other. Those windows
are the planes.</SPAN></SPAN></P>
<P CLASS="western" STYLE="font-weight: normal; text-decoration: none">
In 16 color modes there are 4 bits per color. The 4 bits are stored
at the same location on each plane.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=31*>
	<COL WIDTH=225*>
	<TR VALIGN=TOP>
		<TD WIDTH=12%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics9" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=88%>
			<P CLASS="western" STYLE="font-weight: normal; text-decoration: none">
			A 4 bit pixel can be stored at plane0[0], plane1[0], plane2[0] and
			plane3[0]. This displays a single pixel to display memory. Notice
			that the 4 bit pixel is stored across all 4 planes, where each
			plane only stores one bit of the pixel. Also notice that the pixel
			is at the same location (index is 0) of all 4 planes.</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="text-decoration: none">We will show an
example of how to write a pixel in planar memory modes a little later
after reviewing the registers and how to set a video mode.
Unfortunately writing a pixel requires also writing to a hardware
register to select the plane to write to and thus an example cannot
be provided yet.</P>
<H4 STYLE="text-decoration: none">Palette memory modes (256 color
modes)</H4>
<P CLASS="western"><SPAN STYLE="text-decoration: none">In palette
memory modes, each pixel is represented by a number&mdash;an
</SPAN><SPAN STYLE="text-decoration: none"><I>index&mdash;</I></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal">into
a color table. The color table is the </SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>palette</B></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">.
Probably most notable is the 256 color mode, where each pixel is 8
bits. Other palette modes include the 16 color (4 bit pixel) and
monochrome (1 bit pixel) modes that have only 2 colors.</SPAN></SPAN></SPAN></P>
<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
The color table might look something like this. This is the palette
used in a 16 color mode; in fact, its the VGA text mode palette that
is the default on system start up.</P>
<TABLE WIDTH=377 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=GROUPS>
	<COL WIDTH=62>
	<COL WIDTH=92>
	<COL WIDTH=63>
	<COL WIDTH=126>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=62 BGCOLOR="#e6e6e6">
				<P CLASS="western">Index</P>
			</TD>
			<TD WIDTH=92 BGCOLOR="#e6e6e6">
				<P CLASS="western">Color name</P>
			</TD>
			<TD WIDTH=63 BGCOLOR="#e6e6e6">
				<P CLASS="western">Index</P>
			</TD>
			<TD WIDTH=126 BGCOLOR="#e6e6e6">
				<P CLASS="western">Color name</P>
			</TD>
		</TR>
	</TBODY>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=62 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
				<P CLASS="western">0</P>
			</TD>
			<TD WIDTH=92 BGCOLOR="#cccccc">
				<P CLASS="western">Black</P>
			</TD>
			<TD WIDTH=63 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
				<P CLASS="western">8</P>
			</TD>
			<TD WIDTH=126 BGCOLOR="#cccccc">
				<P CLASS="western">Dark Gray</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 SDVAL="1" SDNUM="1033;">
				<P CLASS="western">1</P>
			</TD>
			<TD WIDTH=92>
				<P CLASS="western">Blue</P>
			</TD>
			<TD WIDTH=63 SDVAL="9" SDNUM="1033;">
				<P CLASS="western">9</P>
			</TD>
			<TD WIDTH=126>
				<P CLASS="western">Light Blue</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 BGCOLOR="#cccccc" SDVAL="2" SDNUM="1033;">
				<P CLASS="western">2</P>
			</TD>
			<TD WIDTH=92 BGCOLOR="#cccccc">
				<P CLASS="western">Green</P>
			</TD>
			<TD WIDTH=63 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
				<P CLASS="western">10</P>
			</TD>
			<TD WIDTH=126 BGCOLOR="#cccccc">
				<P CLASS="western">Light Green</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 SDVAL="3" SDNUM="1033;">
				<P CLASS="western">3</P>
			</TD>
			<TD WIDTH=92>
				<P CLASS="western">Cyan</P>
			</TD>
			<TD WIDTH=63 SDVAL="11" SDNUM="1033;">
				<P CLASS="western">11</P>
			</TD>
			<TD WIDTH=126>
				<P CLASS="western">Light Cyan</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
				<P CLASS="western">4</P>
			</TD>
			<TD WIDTH=92 BGCOLOR="#cccccc">
				<P CLASS="western">Red</P>
			</TD>
			<TD WIDTH=63 BGCOLOR="#cccccc" SDVAL="12" SDNUM="1033;">
				<P CLASS="western">12</P>
			</TD>
			<TD WIDTH=126 BGCOLOR="#cccccc">
				<P CLASS="western">Light Red</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 SDVAL="5" SDNUM="1033;">
				<P CLASS="western">5</P>
			</TD>
			<TD WIDTH=92>
				<P CLASS="western">Magenta</P>
			</TD>
			<TD WIDTH=63 SDVAL="13" SDNUM="1033;">
				<P CLASS="western">13</P>
			</TD>
			<TD WIDTH=126>
				<P CLASS="western">Light Magenta</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 BGCOLOR="#cccccc" SDVAL="6" SDNUM="1033;">
				<P CLASS="western">6</P>
			</TD>
			<TD WIDTH=92 BGCOLOR="#cccccc">
				<P CLASS="western">Brown</P>
			</TD>
			<TD WIDTH=63 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
				<P CLASS="western">14</P>
			</TD>
			<TD WIDTH=126 BGCOLOR="#cccccc">
				<P CLASS="western">Yellow</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=62 SDVAL="7" SDNUM="1033;">
				<P CLASS="western">7</P>
			</TD>
			<TD WIDTH=92>
				<P CLASS="western">Light Gray</P>
			</TD>
			<TD WIDTH=63 SDVAL="15" SDNUM="1033;">
				<P CLASS="western">15</P>
			</TD>
			<TD WIDTH=126>
				<P CLASS="western">White</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western">Lets look at an example of the palette use in text
modes.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=34*>
	<COL WIDTH=222*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics10" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
			Recall that in text modes, each character includes a character
			code (ASCII character typically) and an attribute byte. The
			attribute byte is an index into the above palette. In other words,
			if you have worked with text modes in protected mode you have
			already been working with a palette memory mode!</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western"><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">256
color modes were widely used by DOS video games. This became
infamously known as </SPAN></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>Mode
13h</B></SPAN></SPAN><SPAN STYLE="text-decoration: none"> </SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">after
its standard Video BIOS mode number. Mode 13h is an interesting mode
because it is very fast, linear, and can display 256 colors on the
screen at once. In other words, video memory in this mode is </SPAN></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>linear</B></SPAN></SPAN><SPAN STYLE="text-decoration: none">
</SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">where
each pixel is 1 byte and stored right after each other in memory.
What makes Mode 13h interesting is that VGA is a planar display
device not a linear one.</SPAN></SPAN></SPAN></P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=35*>
	<COL WIDTH=221*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics11" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-style: normal; font-weight: normal; text-decoration: none">
			The following C code defines a function, <B>pixel_256</B> that
			plots a pixel in 256 color mode at some x and y location in mode
			13h. Recall that mode 13h is 320x200 and so the pitch (here pitch
			is width) is 320. Also unlike the VGA BIOS interrupt plot pixel
			service, this one will work in any PC emulator or virtual machine.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>#define</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>VGA_VRAM 0xA0000</FONT></FONT>
<FONT COLOR="#0000ff"><FONT SIZE=2>#define</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>PITCH 320</FONT></FONT>
<FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>pixel_256 (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>color, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>x, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>y) {</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>* fb       = (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>*) VGA_VRAM;</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>offset     = y * PITCH + x;</FONT></FONT>
   fb [offset] = color;
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
The above example also demonstrates the simplicity of working with
Mode 13h. We can render multiple pixels by just writing to them
consecutively. In 256 color modes each pixel is represented as a byte
so we use unsigned char's.</P>
<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
In palette memory modes, there is a maximum to the amount of colors
that can be displayed at once. This is the same as the number of
entries in the color table being used for the mode. For example, 256
color mode can only display at most 256 colors on the screen at once.
16 color modes can only display 16 colors. Software could modify the
color table itself in order to display different colors.</P>
<H4 STYLE="font-style: normal; text-decoration: none"><B>Linear
memory modes</B></H4>
<P CLASS="western"><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>Linear
memory modes</B></SPAN></SPAN><SPAN STYLE="text-decoration: none">
</SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">are
the set of video modes that support a </SPAN></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>linear
frame buffer (LFB)</B></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">.
Linear memory is an array of consecutive bytes; like an array in C.
Mode 13h is an example mode that has a linear memory model. Another
example is the infamous </SPAN></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>Mode
X (360x480x256 color)</B></SPAN></SPAN><SPAN STYLE="text-decoration: none">
</SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">and
</SPAN></SPAN></SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><B>Mode
Q (chain-4 256x256x256 color)</B></SPAN></SPAN><SPAN STYLE="text-decoration: none">
</SPAN><SPAN STYLE="text-decoration: none"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">which
are modified versions of Mode 13h.</SPAN></SPAN></SPAN></P>
<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
Recall that VGA is not a linear device; it does not support linear
memory modes. Modes like Mode 13h, Mode X, and Mode Q are all planar
modes that configure the hardware in a way that creates the illusion
of a linear memory model.</P>
<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
To write a pixel in linear memory modes, all we need to do is
calculate the offset of the pixel location and write the pixel to the
frame buffer.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=31*>
	<COL WIDTH=225*>
	<TR VALIGN=TOP>
		<TD WIDTH=12%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics12" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=88%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following code plots a 8 bit pixel in a linear memory mode.
			This example is the same as the above but is more generic; it can
			be applied to any mode that has a linear memory model.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>#define</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>VGA_VRAM 0xA0000</FONT></FONT>
<FONT COLOR="#0000ff"><FONT SIZE=2>#define</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>PITCH 320</FONT></FONT>
<FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>pixel_256 (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>color, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>x, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>y) {</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>* fb       = (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>*) VGA_VRAM;</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>offset     = y * PITCH + x;</FONT></FONT>
   fb [offset] = color;
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">Hardware</H3>
<P CLASS="western">The VGA hardware design consists of the following
components. Some of these might look familiar.</P>
<OL>
	<LI><DD>CRT Controller</DD><LI><DD>
	Sequencer</DD><LI><DD>
	Graphics Controller</DD><LI><DD>
	RAMDAC</DD><LI><DD>
	Video memory</DD><LI><DD STYLE="margin-bottom: 0.2in">
	Attribute Controller</DD></OL>
<P CLASS="western">All of the hardware registers are mapped into the
I/O port space. That is, we can access them using the <B>in</B> <SPAN STYLE="font-weight: normal">and
</SPAN><B>out</B> <SPAN STYLE="font-weight: normal">family of CPU
instructions. Most of the controllers map two registers: an </SPAN><B>address
register</B> <SPAN STYLE="font-weight: normal">and </SPAN><B>data
register</B><SPAN STYLE="font-weight: normal">. The </SPAN><B>address
register</B> <SPAN STYLE="font-weight: normal">stores an </SPAN><B>index</B>
<SPAN STYLE="font-weight: normal">of a particular register that we
want to read or write from, the </SPAN><B>data register</B> <SPAN STYLE="font-weight: normal">contains
the data of that register. This may become more clear as we see some
examples.</SPAN></P>
<P CLASS="western"><SPAN STYLE="font-weight: normal">Before looking
at each of these components, we would like to emphasize the
complexity of VGA hardware. Entire books have been written that
covers VGA in depth; covering all of the details in a single article
is a very daunting task. In order to keep the discussion minimal, we
will only look at what each component does and the set of registers
used by the component. Due to the large number of registers, we will
not be describing the registers here. Unfortunately we cannot
describe how to set a video mode without having some background in
the hardware registers. To rectify this, we present a list of all of
the registers and a table of the video mode settings will be listed
at the end. </SPAN><B>This will allow readers to set VGA video modes
without having to worry about the details of each register nor its
format</B><SPAN STYLE="font-weight: normal">. We do encourage reading
more about each register by referencing [3] and [4] however for
anyone that is interested in learning more about VGA.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">In short, don't worry
to much on the details of the registers. The video mode list will
tell you what value to put into what register.</P>
<H4><B>CRT Controller (CRTC)</B></H4>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=33*>
	<COL WIDTH=223*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_4191c4bd.gif" NAME="graphics2" ALIGN=BOTTOM WIDTH=16 HEIGHT=16 BORDER=0>
			<B>Warning.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="font-weight: normal"><B>Improperly
			configuring the CRT Controller (CRTC) can potentially damage the
			video card or attached monitor</B>. Although rare, instances of
			CRT and LCD monitors have been known to burn out or explode due to
			improper or erroneous configuration.</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western"><SPAN STYLE="font-weight: normal">The </SPAN><B>CRT
Controller (CRTC)</B> <SPAN STYLE="font-weight: normal">is
responsible for controlling the output of video data to the display
monitor. It is accessed by an address and data register. </SPAN><B>Address
register is at 3D4h the Data Register is at 3D5h (or 3B4h, 3B5h
respectively if Miscellaneous Output Register I/O Address select
field is set.)</B> <SPAN STYLE="font-weight: normal">We can select
what CRTC register we want to access by using the address register.
We can then use the data register to read or write from that CRTC
register.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">We will not be
providing a complete technical review of each register due to the
number of registers. Please reference the FreeVGA project page
dedicated to describing the CRT registers in detail. If there is
demand, we may extend our topic on VGA in the future.</P>
<TABLE WIDTH=740 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=53>
	<COL WIDTH=669>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Horizontal total register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">End Horizontal display register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Start horizontal blanking register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">End horizontal blanking register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Start horizontal retrace register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">End horizontal retrace register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Vertical total register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Overflow register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Preset row scan line register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Maximum scan line register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Cursor start register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Cursor end register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Start address high register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Start address low register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Cursor location high register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Cursor location low register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Vertical retrace start register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Vertical retrace end register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Vertical display end register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="19" SDNUM="1033;">
			<P CLASS="western">19</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Offset register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="20" SDNUM="1033;">
			<P CLASS="western">20</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Underline location register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="21" SDNUM="1033;">
			<P CLASS="western">21</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Start vertical blanking register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="22" SDNUM="1033;">
			<P CLASS="western">22</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">End vertical blanking register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="23" SDNUM="1033;">
			<P CLASS="western">23</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">CRTC mode control register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="24" SDNUM="1033;">
			<P CLASS="western">24</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Line compare register</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="font-weight: normal">The CRTC registers
allow us to control the pixel clock timings of the horizontal and
vertical retrace and blanking periods of the display. These timing
periods help control the output of the display (the <B>video
resolution</B>), and the <B>refresh rate</B>. Other CRTC registers
allow us to change the start address of video memory (the <B>preset
row scan line</B> and <B>start address</B> registers, hardware cursor
location (<B>cursor location</B> registers) and underline (<B>underline
location</B> register.) The <B>CRTC mode control</B> register gives
us some way of controlling the CRT itself and some addressing modes.</P>
<H3 CLASS="western">Graphics Controller</H3>
<P CLASS="western">The graphics controller is responsible for
managing the interface between CPU and video memory. <B>The address
register is mapped to 3CEh and the data register is mapped to 3CFh</B>.
In order to access the graphics controller registers, write the index
of the register into the address register and read or write from the
data register.</P>
<P CLASS="western">The following is a list of the standard registers.
Please reference the FreeVGA project for a detailed description of
each register.</P>
<TABLE WIDTH=740 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=53>
	<COL WIDTH=669>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Set/Reset register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Enable Set/Reset register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Color compare register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Data rotate register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Read map select register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Graphics mode register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Miscellaneous graphics register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Color don't care register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Bit mask register</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">Sequencer</H3>
<P CLASS="western"><SPAN STYLE="font-weight: normal">The sequencer
manages the interface between the video data and RAMDAC. </SPAN><B>The
address register is mapped to 3C4h and the data register is mapped to
3C5h</B>. In order to access the sequencer registers, write the index
of the register into the address register and read or write from the
data register.</P>
<P CLASS="western">The following is a list of the standard registers.
Please reference the FreeVGA project for a detailed description of
each register.</P>
<TABLE WIDTH=740 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=53>
	<COL WIDTH=669>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Reset register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Clocking mode register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Map mask register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Character map register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Sequencer memory mode register</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">Attribute Controller</H3>
<P CLASS="western"><SPAN STYLE="font-weight: normal">The attribute
controller consists of 21 registers for the VGA. The controller has
two registers mapped into I/O port space, one at </SPAN><B>3C0h</B>
<SPAN STYLE="font-weight: normal">and the other at </SPAN><B>3C1h</B><SPAN STYLE="font-weight: normal">.
Unlike the other controllers, </SPAN><B>the attribute controller uses
the register at 3C0h as both a data write port and address port</B><SPAN STYLE="font-weight: normal">.
</SPAN><B>The register at 3C1h is the data read register</B><SPAN STYLE="font-weight: normal">.
In order to communicate with the attribute controller, </SPAN><B>the
software should first write a register address to port 3C0h followed
by the data to write to that register</B><SPAN STYLE="font-weight: normal">.
</SPAN><B>Data can be read by writing to port 3C0h and reading from
3C1h after</B><SPAN STYLE="font-weight: normal">. The attribute
address register also has a particular format.</SPAN></P>
<TABLE WIDTH=328 BORDER=1 CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=34>
	<COL WIDTH=33>
	<COL WIDTH=35>
	<COL WIDTH=36>
	<COL WIDTH=36>
	<COL WIDTH=32>
	<COL WIDTH=33>
	<COL WIDTH=21>
	<TR>
		<TD COLSPAN=8 WIDTH=318 VALIGN=TOP BGCOLOR="#cccccc">
			<P CLASS="western">Attribute Address Register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=34 SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=33 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=35 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=36 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=36 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=32 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=33 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=21 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD COLSPAN=2 WIDTH=75>
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=35>
			<P CLASS="western">PAS</P>
		</TD>
		<TD COLSPAN=5 WIDTH=191>
			<P CLASS="western" ALIGN=CENTER>Address</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western"><B>Address</B> <SPAN STYLE="font-weight: normal">refers
to a register index to access. Please refer to the following table of
registers.</SPAN></P>
<P CLASS="western"><B>PAS (Palette Address Source)</B> <SPAN STYLE="font-weight: normal">Determines
access to palette data by host or EGA display adapter. If it is 0,
the host can access the palette RAM and the adapter will disallow
display memory from gaining access to the palette. If 1, the display
memory can access the palette RAM and the host is disallowed from
accessing it.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">The attribute
controller stores a set of 16 palette registers that map a color
index to a color. This small palette is a drawback from EGA. VGA
still uses these registers but instead of storing the palette
information it stores an address into a second set of color index
registers. We won't be covering the details of how it all works &ndash;
but I encourage reading [4] page 394 for anyone that is interested.</P>
<P CLASS="western">The following is a list of the standard registers.
Please reference the FreeVGA project or [4] for a detailed
description of each register.</P>
<TABLE WIDTH=740 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=53>
	<COL WIDTH=669>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc">
			<P CLASS="western">0-15</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Palette entry register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Mode control register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Overscan color register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Color plane enable register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 BGCOLOR="#cccccc" SDVAL="19" SDNUM="1033;">
			<P CLASS="western">19</P>
		</TD>
		<TD WIDTH=669 BGCOLOR="#cccccc">
			<P CLASS="western">Horizontal pixel panning register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=53 SDVAL="20" SDNUM="1033;">
			<P CLASS="western">20</P>
		</TD>
		<TD WIDTH=669>
			<P CLASS="western">Color select register</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western"><B>General Registers / External Registers</B></H3>
<P CLASS="western" STYLE="font-weight: normal">These register lists
just don't seem to end do they? We have looked at lists of registers
for all of the major controllers of VGA however there are more sets
of registers for general use and miscellaneous data that are used by
the video modes and thus need to be looked at. These registers can be
referred to as <B>general registers</B> or <B>external registers</B>.</P>
<P CLASS="western">The following is a list of the standard registers.
Please reference the FreeVGA project or [4] for a detailed
description of each register. <B>Please note that we assume a color
adapter and VGA (not EGA).</B> <SPAN STYLE="font-weight: normal">Monochrome
and EGA adapters may use different ports.</SPAN></P>
<TABLE WIDTH=740 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=128>
	<COL WIDTH=594>
	<TR VALIGN=TOP>
		<TD WIDTH=128 BGCOLOR="#cccccc">
			<P CLASS="western">Write port: 3C2h Read port: 3CCh</P>
		</TD>
		<TD WIDTH=594 BGCOLOR="#cccccc">
			<P CLASS="western">Miscellaneous output register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128>
			<P CLASS="western">Write port: 3BAh Read port: 3CAh</P>
		</TD>
		<TD WIDTH=594>
			<P CLASS="western">Feature control register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128 BGCOLOR="#cccccc">
			<P CLASS="western">Read port: 3C2h</P>
		</TD>
		<TD WIDTH=594 BGCOLOR="#cccccc">
			<P CLASS="western">Input Status #0 register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128>
			<P CLASS="western">Read port: 3BAh</P>
		</TD>
		<TD WIDTH=594>
			<P CLASS="western">Input Status #1 register</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western"><B>Color Registers</B></H3>
<P CLASS="western" STYLE="font-weight: normal">These registers allow
us the software to manipulate and manage the 256 color palette. They
are an important set of registers if working in 256 color modes and
may be used after setting the video mode so getting familiar with
them is a good idea. You might also be happy to learn that this is
the final set of registers that we are going to look at.</P>
<P CLASS="western">The following is a list of the standard registers.
Please reference the FreeVGA project or [4] for a detailed
description of each register.</P>
<TABLE WIDTH=740 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=128>
	<COL WIDTH=594>
	<TR VALIGN=TOP>
		<TD WIDTH=128 BGCOLOR="#cccccc">
			<P CLASS="western">Write port: 3C8h Read port: 3C8h</P>
		</TD>
		<TD WIDTH=594 BGCOLOR="#cccccc">
			<P CLASS="western">PEL address write mode register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128>
			<P CLASS="western">Write port: 3C7h 
			</P>
		</TD>
		<TD WIDTH=594>
			<P CLASS="western">PEL address read mode register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128 BGCOLOR="#cccccc">
			<P CLASS="western">Write port: 3C9h Read port: 3C9h</P>
		</TD>
		<TD WIDTH=594 BGCOLOR="#cccccc">
			<P CLASS="western">PEL data register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128>
			<P CLASS="western">Read port: 3C7h</P>
		</TD>
		<TD WIDTH=594>
			<P CLASS="western">DAC state register</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=128 BGCOLOR="#cccccc">
			<P CLASS="western">Write port: 3C6h Read port: 3C6h</P>
		</TD>
		<TD WIDTH=594 BGCOLOR="#cccccc">
			<P CLASS="western">PEL mask register</P>
		</TD>
	</TR>
</TABLE>
<H2 CLASS="western"><B>2.4. Standard video modes</B></H2>
<P CLASS="western"><SPAN STYLE="font-weight: normal">By configuring
the video hardware we can define different display modes with
different properties. However many modes that the video hardware can
support many monitors do not. Other configurations may have undesired
effects. Some VGA mode configurations have become a standard; well
supported by most monitors. The following is a list of standard video
modes and their configurations. </SPAN><B>Standard video mode numbers
are Mode 0h, 1h, 2h, 3h, 4h, 5h, 7h, Dh, Eh, Fh, 10h, 11h, 12h, and
13h</B><SPAN STYLE="font-weight: normal">. Other notable modes, such</SPAN>
as <B>Mode X</B> <SPAN STYLE="font-weight: normal">and </SPAN><B>Mode
Q</B> <SPAN STYLE="font-weight: normal">while well supported are not
standard modes.</SPAN></P>
<P CLASS="western"><SPAN STYLE="font-weight: normal">Please reference
[3] or [4] for other lists. The following tables were adopted from
pages 304-305 of [4]. The tables are split between the different sets
of registers each mode modifies. The top row indicates the mode
number, the left column is the index to use to access the particular
register. According to [4] the values presented represent the </SPAN><B>initial
mode state</B> <SPAN STYLE="font-weight: normal">the standard video
BIOS uses.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">In order to set a
video mode, the software must disable the video output and write the
associated values to all of the hardware registers that it modifies.
This sets everything &ndash; the read/write modes, address start,
horizontal and vertical blanking periods and timing, refresh rate,
resolution, graphics mode type, and more.</P>
<P CLASS="western" STYLE="font-weight: normal">While every attempt
has been made to insure accuracy, there might be some errors that
have been undetected in the following tables. The tables were written
to match that of which what was presented in [4] but may have errors
in the rewrite. We give all credit to the original authors.</P>
<P CLASS="western" STYLE="font-weight: normal">General registers</P>
<TABLE WIDTH=616 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=65>
	<COL WIDTH=22>
	<COL WIDTH=25>
	<COL WIDTH=26>
	<COL WIDTH=28>
	<COL WIDTH=22>
	<COL WIDTH=26>
	<COL WIDTH=25>
	<COL WIDTH=33>
	<COL WIDTH=36>
	<COL WIDTH=24>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=28>
	<COL WIDTH=25>
	<COL WIDTH=41>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6ff">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD COLSPAN=15 WIDTH=533 BGCOLOR="#e6e6e6">
			<P CLASS="western">Mode</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western">Index</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#e6e6e6" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#e6e6e6" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#e6e6e6" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=36 BGCOLOR="#e6e6e6">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=24 BGCOLOR="#e6e6e6">
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#e6e6e6" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=25 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=26 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=28 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=22 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=26 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=25 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">A6</P>
		</TD>
		<TD WIDTH=36 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=24 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">A2</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">A3</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">E3</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">E3</P>
		</TD>
		<TD WIDTH=41 SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=36 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=24 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=25 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=26 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=28 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=22 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=26 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=25 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=33 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=36 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=24 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=29 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=31 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=28 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=25 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
		<TD WIDTH=41 SDVAL="70" SDNUM="1033;">
			<P CLASS="western">70</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=36 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=24 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="font-weight: normal">Sequence registers</P>
<TABLE WIDTH=616 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=65>
	<COL WIDTH=22>
	<COL WIDTH=23>
	<COL WIDTH=28>
	<COL WIDTH=28>
	<COL WIDTH=22>
	<COL WIDTH=26>
	<COL WIDTH=25>
	<COL WIDTH=33>
	<COL WIDTH=36>
	<COL WIDTH=24>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=28>
	<COL WIDTH=25>
	<COL WIDTH=41>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD COLSPAN=15 WIDTH=533 BGCOLOR="#e6e6e6">
			<P CLASS="western">Mode</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western">Index</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#e6e6e6" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#e6e6e6" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#e6e6e6" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=36 BGCOLOR="#e6e6e6">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=24 BGCOLOR="#e6e6e6">
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#e6e6e6" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=23 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=26 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=25 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=33 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=36 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=24 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=29 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=31 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=25 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=41 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=36 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=24 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=23 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=26 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=25 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=33 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=36>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=24>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=36 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=24 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=22 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=23 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=26 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=25 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=33 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=36 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=24 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=29 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=31 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=28 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=25 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">E</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="font-weight: normal">CRTC Registers</P>
<TABLE WIDTH=616 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=65>
	<COL WIDTH=22>
	<COL WIDTH=23>
	<COL WIDTH=28>
	<COL WIDTH=28>
	<COL WIDTH=22>
	<COL WIDTH=26>
	<COL WIDTH=25>
	<COL WIDTH=33>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=28>
	<COL WIDTH=25>
	<COL WIDTH=41>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD COLSPAN=15 WIDTH=533 BGCOLOR="#e6e6e6">
			<P CLASS="western">Mode</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western">Index</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#e6e6e6" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#e6e6e6" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#e6e6e6" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6">
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#e6e6e6" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">2D</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">2D</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">2D</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">2D</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">2D</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">5F</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">5F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="27" SDNUM="1033;">
			<P CLASS="western">27</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="27" SDNUM="1033;">
			<P CLASS="western">27</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="27" SDNUM="1033;">
			<P CLASS="western">27</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="27" SDNUM="1033;">
			<P CLASS="western">27</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="27" SDNUM="1033;">
			<P CLASS="western">27</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">4F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=23 SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=28 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=28 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=22 SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=26 SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=25 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=31 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=28 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=25 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
		<TD WIDTH=41 SDVAL="50" SDNUM="1033;">
			<P CLASS="western">50</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="90" SDNUM="1033;">
			<P CLASS="western">90</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="90" SDNUM="1033;">
			<P CLASS="western">90</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="90" SDNUM="1033;">
			<P CLASS="western">90</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="90" SDNUM="1033;">
			<P CLASS="western">90</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="90" SDNUM="1033;">
			<P CLASS="western">90</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="82" SDNUM="1033;">
			<P CLASS="western">82</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">2B</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">2B</P>
		</TD>
		<TD WIDTH=28 SDVAL="55" SDNUM="1033;">
			<P CLASS="western">55</P>
		</TD>
		<TD WIDTH=28 SDVAL="55" SDNUM="1033;">
			<P CLASS="western">55</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">2B</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">2B</P>
		</TD>
		<TD WIDTH=25 SDVAL="54" SDNUM="1033;">
			<P CLASS="western">54</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">2B</P>
		</TD>
		<TD WIDTH=31 SDVAL="54" SDNUM="1033;">
			<P CLASS="western">54</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="54" SDNUM="1033;">
			<P CLASS="western">54</P>
		</TD>
		<TD WIDTH=28 SDVAL="54" SDNUM="1033;">
			<P CLASS="western">54</P>
		</TD>
		<TD WIDTH=25 SDVAL="54" SDNUM="1033;">
			<P CLASS="western">54</P>
		</TD>
		<TD WIDTH=41 SDVAL="24" SDNUM="1033;">
			<P CLASS="western">24</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">A0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc">
			<P CLASS="western">A0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="81" SDNUM="1033;">
			<P CLASS="western">81</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="81" SDNUM="1033;">
			<P CLASS="western">81</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="80" SDNUM="1033;">
			<P CLASS="western">80</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">BF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">B</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">B</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">BF</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3E</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">3E</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">1F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">C7</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc">
			<P CLASS="western">C7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">C7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">C7</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">C1</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc">
			<P CLASS="western">C1</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">C1</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">C0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">C0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="40" SDNUM="1033;">
			<P CLASS="western">40</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="40" SDNUM="1033;">
			<P CLASS="western">40</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="40" SDNUM="1033;">
			<P CLASS="western">40</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="41" SDNUM="1033;">
			<P CLASS="western">41</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65>
			<P CLASS="western">A</P>
		</TD>
		<TD WIDTH=22 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=23 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=28 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=28 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc">
			<P CLASS="western">B</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65>
			<P CLASS="western">C</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65>
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="31" SDNUM="1033;">
			<P CLASS="western">31</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="31" SDNUM="1033;">
			<P CLASS="western">31</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="31" SDNUM="1033;">
			<P CLASS="western">31</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="31" SDNUM="1033;">
			<P CLASS="western">31</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="31" SDNUM="1033;">
			<P CLASS="western">31</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="59" SDNUM="1033;">
			<P CLASS="western">59</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="31" SDNUM="1033;">
			<P CLASS="western">31</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">9C</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 SDVAL="83" SDNUM="1033;">
			<P CLASS="western">83</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">EA</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">EA</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">9C</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="85" SDNUM="1033;">
			<P CLASS="western">85</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">8C</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">8C</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">8E</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">8F</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">5D</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">DF</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">DF</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">8F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="28" SDNUM="1033;">
			<P CLASS="western">28</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">1F</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="40" SDNUM="1033;">
			<P CLASS="western">40</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="63" SDNUM="1033;">
			<P CLASS="western">63</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">E7</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">E7</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="96" SDNUM="1033;">
			<P CLASS="western">96</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">B9</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">BA</P>
		</TD>
		<TD WIDTH=28 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=25 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">B9</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">A3</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc">
			<P CLASS="western">A3</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">A3</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">A3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc">
			<P CLASS="western">A2</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc">
			<P CLASS="western">A2</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">C2</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">E3</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">E3</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc">
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">E3</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">C3</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">E3</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">A3</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">FF</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0in; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Graphics
Controller</FONT></FONT></FONT></P>
<TABLE WIDTH=616 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=65>
	<COL WIDTH=22>
	<COL WIDTH=23>
	<COL WIDTH=28>
	<COL WIDTH=28>
	<COL WIDTH=22>
	<COL WIDTH=26>
	<COL WIDTH=25>
	<COL WIDTH=33>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=28>
	<COL WIDTH=25>
	<COL WIDTH=41>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD COLSPAN=15 WIDTH=533 BGCOLOR="#e6e6e6">
			<P CLASS="western">Mode</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western">Index</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#e6e6e6" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#e6e6e6" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#e6e6e6" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6">
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#e6e6e6" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="30" SDNUM="1033;">
			<P CLASS="western">30</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="30" SDNUM="1033;">
			<P CLASS="western">30</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="40" SDNUM="1033;">
			<P CLASS="western">40</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">0E</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">0E</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">0E</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">0E</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">0D</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">0A</P>
		</TD>
		<TD WIDTH=29 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=31 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=29 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=31 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=28 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=41 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=26>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">FF</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">FF</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0in; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Attribute
Controller</FONT></FONT></FONT></P>
<TABLE WIDTH=616 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=65>
	<COL WIDTH=22>
	<COL WIDTH=23>
	<COL WIDTH=28>
	<COL WIDTH=28>
	<COL WIDTH=22>
	<COL WIDTH=26>
	<COL WIDTH=25>
	<COL WIDTH=33>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=29>
	<COL WIDTH=31>
	<COL WIDTH=28>
	<COL WIDTH=25>
	<COL WIDTH=41>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD COLSPAN=15 WIDTH=533 BGCOLOR="#e6e6e6">
			<P CLASS="western">Mode</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#e6e6e6">
			<P CLASS="western">Index</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#e6e6e6" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#e6e6e6" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#e6e6e6" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#e6e6e6" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6">
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#e6e6e6">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#e6e6e6" SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#e6e6e6" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#e6e6e6" SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#e6e6e6" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=23 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=22 SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=26 SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=31 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=41 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=22 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=23 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=28 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=28 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=22 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=26 SDVAL="2" SDNUM="1033;">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=31 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=29 SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=31 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=41 SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="4" SDNUM="1033;">
			<P CLASS="western">4</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=22 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=23 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=28 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=28 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=22 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=26 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=31 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=41 SDVAL="6" SDNUM="1033;">
			<P CLASS="western">6</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="7" SDNUM="1033;">
			<P CLASS="western">7</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=22 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=23 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=28 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=22 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=26 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=29 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=31 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="38" SDNUM="1033;">
			<P CLASS="western">38</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 SDVAL="38" SDNUM="1033;">
			<P CLASS="western">38</P>
		</TD>
		<TD WIDTH=41 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="39" SDNUM="1033;">
			<P CLASS="western">39</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="39" SDNUM="1033;">
			<P CLASS="western">39</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65>
			<P CLASS="western">A</P>
		</TD>
		<TD WIDTH=22 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=23 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=28 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=28 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=22 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=26 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=31 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">3A</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">3A</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">0A</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc">
			<P CLASS="western">B</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">3B</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">3B</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">0B</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65>
			<P CLASS="western">C</P>
		</TD>
		<TD WIDTH=22 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=23 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=28 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=28 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=22 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=26 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=31 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">3C</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">3C</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">0C</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc">
			<P CLASS="western">D</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">3D</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">3D</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">0D</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65>
			<P CLASS="western">E</P>
		</TD>
		<TD WIDTH=22 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=23 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=28 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=28 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=22 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=26 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=25 SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=31 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">3E</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">3E</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">0E</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc">
			<P CLASS="western">F</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="18" SDNUM="1033;">
			<P CLASS="western">18</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="17" SDNUM="1033;">
			<P CLASS="western">17</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc">
			<P CLASS="western">3F</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc">
			<P CLASS="western">0F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=22 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=23 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=28 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=28 SDVAL="8" SDNUM="1033;">
			<P CLASS="western">8</P>
		</TD>
		<TD WIDTH=22 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=26 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=25 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">0E</P>
		</TD>
		<TD WIDTH=29 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=31 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">0B</P>
		</TD>
		<TD WIDTH=31 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=28 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=25 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=41 SDVAL="41" SDNUM="1033;">
			<P CLASS="western">41</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=22>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=23>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=22 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=26 SDVAL="3" SDNUM="1033;">
			<P CLASS="western">3</P>
		</TD>
		<TD WIDTH=25 SDVAL="1" SDNUM="1033;">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=33>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=29>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=29 SDVAL="5" SDNUM="1033;">
			<P CLASS="western">5</P>
		</TD>
		<TD WIDTH=31>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=28>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=25>
			<P CLASS="western">0F</P>
		</TD>
		<TD WIDTH=41>
			<P CLASS="western">0F</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 BGCOLOR="#cccccc" SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 BGCOLOR="#cccccc" SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=65 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=23 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=22 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=26 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=33 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=29 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=31 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=28 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=41 SDVAL="0" SDNUM="1033;">
			<P CLASS="western">0</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">To set a video mode, we must set all of the
registers the mode modifies in the above tables. The following
example illustrates setting the mode.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=32*>
	<COL WIDTH=224*>
	<TR VALIGN=TOP>
		<TD WIDTH=12%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics13" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=88%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-style: normal; font-weight: normal; text-decoration: none">
			In order to set a video mode, we need to upload all of the values
			into the registers associated with that mode. For example, if we
			have a function, <B>uploadRegisters</B>, that does this, we can
			set Mode 13h by doing the following.</P>
			<PRE CLASS="western">unsigned char _mode13h = {
   /* general registers */
   0x63,0,0x70,0x4,
   /* sequencer */
   0x3,0x1,0xF,0,0xE,
   /* CRTC */
   0x5F,0x4F,0x50,0x82,0x24,0x80,0xBF,0x1F,0,0x41,
   0,0,0,0,0,0x31,0x9C,0x8E,0x8F,0x28,0x40,0x96,0x89,0xA3,0xFF,
   /* graphics */
   0,0,0,0,0,0x40,0x5,0xF,0xFF,
   /* attribute */
   0,1,2,3,4,5,6,7,8,9,0xA,0xB,0xC,0xD,0xE,0xF,0x41,0,0xF,0,0
}

/* set mode 13h */
uploadRegisters (&amp;_mode13);   </PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">After writing the register values, we have
successfully changed video modes.</P>
<P CLASS="western"><IMG SRC="images/OSDevVid2/OSDevVid2_html_4db38949.gif" NAME="graphics22" ALIGN=LEFT WIDTH=391 HEIGHT=245 BORDER=0><BR CLEAR=LEFT><I>Demo
running in VGA Mode 13h and clearing display memory</I></P>
<P CLASS="western">Recall that we have looked at the planar memory
model earlier; we could not complete an example of plotting a pixel
until looking at the hardware registers. We now present that example
now.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=32*>
	<COL WIDTH=224*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics14" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following code plots a 8 bit pixel in a planar mode.</P>
			<PRE CLASS="western">void pixel_p (unsigned char color, unsigned int x, unsigned int y) {

   unsigned int* fb        = (unsigned int*) 0xa0000;
   unsigned int offset     = y * pitch + (x/8);
   bankSwitch (offset &gt;&gt; 16);

   /* writes to bit mask register of graphics controller to select plane */
   outportb(0x3CE,8);
   outportb(0x3CF,0x80 &gt;&gt; (x &amp; 7));
   fb [bankOffset] = color;
}</PRE>
		</TD>
	</TR>
</TABLE>
<H1 CLASS="western">3. SuperVGA Interface</H1>
<P CLASS="western"><B>SuperVGA</B> refers to the class of display
hardware that includes SuperVGA (SVGA), and typically also XGA, SXGA,
SXGA+, UXGA, QXGA, QSXGA, and other standards that support
resolutions to 2560x2048 and higher. SuperVGA began as a set of
extensions by manufacturers to VGA and adopted into separate SuperVGA
standards that we have today. This means that <B>there is no all
encompassing standard for SuperVGA devices.</B> <SPAN STYLE="font-weight: normal">Every
SuperVGA card is different and provide different hardware and
firmware interfaces. Thus we have a problem. How could we support
SuperVGA if there is no standard way of using it? The problem is
compounded by the fact that most manufacturers do not release the
technical specifications for the cards. Instead they write black box
drivers for different operating systems such as Windows and Linux.</SPAN></P>
<P CLASS="western" STYLE="font-weight: normal">Thus, in order for us
to support SuperVGA devices we have only two options.</P>
<OL>
	<LI><DD>Write a device driver for each type of display device we
	want to support.</DD><LI><DD STYLE="margin-bottom: 0.2in">
	Use Vesa Bios Extensions (VBE)</DD></OL>
<P CLASS="western" STYLE="font-weight: normal">The first option is
hard because we need to have the specification to work off of. For
devices where we cannot get any specification we have to rely on
reverse engineering. The SuperVGA &ldquo;card&rdquo; we will look at
is the one used in the Bochs emulator. We chose this one because
anyone that uses Bochs could use it. The code for the driver will be
Bochs specific however.</P>
<P CLASS="western"><SPAN STYLE="font-weight: normal">The second
option is by using </SPAN><B>Vesa Bios Extensions (VBE)</B><SPAN STYLE="font-weight: normal">.
VBE is a standard set of BIOS interrupt extensions for SuperVGA
hardware. VBE is very simple to work with and creates a single
standard interface for working with SuperVGA. It does however require
real mode or v8086 mode and not all machines support VBE since it
uses BIOS interrupts and is an extension.</SPAN></P>
<H2 CLASS="western">3.1. Vesa Bios Extensions (VBE) Firmware
Interface</H2>
<P CLASS="western"><B>Vesa Bios Extensions (VBE)</B> <SPAN STYLE="font-weight: normal">defines
a set of BIOS interrupt services for working with SuperVGA modes. VBE
is defined in the </SPAN><B>Vesa Bios Extensions (VBE) Core Standard</B><SPAN STYLE="font-weight: normal">.
(Please reference [5].) Kernel mode software could call the BIOS
services in real mode or v8086 mode.</SPAN></P>
<H3 CLASS="western">VBE Mode numbers</H3>
<P CLASS="western">VBE defines a set of <B>mode numbers</B> <SPAN STYLE="font-weight: normal">in
a similar way the video BIOS does. A mode number has the following
format.</SPAN></P>
<TABLE WIDTH=324 BORDER=1 CELLPADDING=4 CELLSPACING=1>
	<COL WIDTH=27>
	<COL WIDTH=34>
	<COL WIDTH=30>
	<COL WIDTH=29>
	<COL WIDTH=25>
	<COL WIDTH=23>
	<COL WIDTH=15>
	<COL WIDTH=66>
	<TR>
		<TD COLSPAN=8 WIDTH=312 VALIGN=TOP BGCOLOR="#cccccc">
			<P CLASS="western">VBE Mode Number</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=27 SDVAL="15" SDNUM="1033;">
			<P CLASS="western">15</P>
		</TD>
		<TD WIDTH=34 SDVAL="14" SDNUM="1033;">
			<P CLASS="western">14</P>
		</TD>
		<TD WIDTH=30 SDVAL="13" SDNUM="1033;">
			<P CLASS="western">13</P>
		</TD>
		<TD WIDTH=29 SDVAL="12" SDNUM="1033;">
			<P CLASS="western">12</P>
		</TD>
		<TD WIDTH=25 SDVAL="11" SDNUM="1033;">
			<P CLASS="western">11</P>
		</TD>
		<TD WIDTH=23 SDVAL="10" SDNUM="1033;">
			<P CLASS="western">10</P>
		</TD>
		<TD WIDTH=15 SDVAL="9" SDNUM="1033;">
			<P CLASS="western">9</P>
		</TD>
		<TD WIDTH=66>
			<P CLASS="western">Bits 0...8</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=27>
			<P CLASS="western">DM</P>
		</TD>
		<TD WIDTH=34>
			<P CLASS="western">LFB</P>
		</TD>
		<TD COLSPAN=5 WIDTH=159>
			<P CLASS="western">Reserved, set to 0</P>
		</TD>
		<TD WIDTH=66>
			<P CLASS="western" ALIGN=CENTER>Mode</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B>Mode
number</B> <SPAN STYLE="font-weight: normal">is the actual mode
number. If bit 8 is set, it is a standard VESA defined mode (more on
this later.)</SPAN></FONT></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B>LFB</B>
<SPAN STYLE="font-weight: normal">selects the mode as a </SPAN><B>Linear
Frame Buffer (LFB)</B> <SPAN STYLE="font-weight: normal">or </SPAN><B>Bank
Switching</B> <SPAN STYLE="font-weight: normal">mode. If 0, it uses
bank switching and uses the standard VGA frame buffer. If 1, it uses
a linear frame buffer.</SPAN></FONT></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B>DM</B>
<SPAN STYLE="font-weight: normal">selects whether or not to clear
display memory when setting the mode. If 0, display memory is
cleared. If 1, display memory is not cleared.</SPAN></FONT></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><B>VESA
defined modes</B> <SPAN STYLE="font-weight: normal">are a standard
set of video mode numbers that BIOS venders are recommended to
support. The following table lists the graphical modes.</SPAN></FONT></FONT></FONT></P>
<TABLE WIDTH=458 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=45>
	<COL WIDTH=79>
	<COL WIDTH=85>
	<COL WIDTH=40>
	<COL WIDTH=83>
	<COL WIDTH=75>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">Mode</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">Resolution</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">Color depth</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">Mode</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">Resolution</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">Color depth</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">100h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=85 SDVAL="256" SDNUM="1033;">
			<P CLASS="western">256</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">113h</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">800x600</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">32K</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">101h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc" SDVAL="256" SDNUM="1033;">
			<P CLASS="western">256</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">114h</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">800x600</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">64K</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">102h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">800x600</P>
		</TD>
		<TD WIDTH=85 SDVAL="16" SDNUM="1033;">
			<P CLASS="western">16</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">115h</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">800x600</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">16.8M</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">103h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">800x600</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc" SDVAL="256" SDNUM="1033;">
			<P CLASS="western">256</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">116h</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">1024x768</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">32K</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">10Dh</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">32K</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">117h</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">1024x768</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">64K</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">10Eh</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">64K</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">118h</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">1024x768</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">16.8M</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">10Fh</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">320x200</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">16.8M</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">119h</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">1280x1024</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">32K</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">110h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">32K</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western">11Ah</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western">1280x1024</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western">64K</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45>
			<P CLASS="western">111h</P>
		</TD>
		<TD WIDTH=79>
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=85>
			<P CLASS="western">64K</P>
		</TD>
		<TD WIDTH=40>
			<P CLASS="western">11Bh</P>
		</TD>
		<TD WIDTH=83>
			<P CLASS="western">1280x1024</P>
		</TD>
		<TD WIDTH=75>
			<P CLASS="western">16.8M</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=45 BGCOLOR="#cccccc">
			<P CLASS="western">112h</P>
		</TD>
		<TD WIDTH=79 BGCOLOR="#cccccc">
			<P CLASS="western">640x480</P>
		</TD>
		<TD WIDTH=85 BGCOLOR="#cccccc">
			<P CLASS="western">16.8M</P>
		</TD>
		<TD WIDTH=40 BGCOLOR="#cccccc">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#cccccc">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=75 BGCOLOR="#cccccc">
			<P CLASS="western"><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">Mode numbers beyond 11Bh can also be defined but
are not standard. Thus there can be some support for even higher
resolution modes.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=34*>
	<COL WIDTH=222*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics15" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="font-style: normal; font-weight: normal; text-decoration: none">
			The VBE mode number <B>113h</B> selects <B>800x600x32K color mode</B>
			that uses bank switching while the VBE mode <B>8113h</B> selects
			<B>800x600x32 color mode</B> that uses a linear frame buffer
			(LFB). Remember the mode number format!</P>
		</TD>
	</TR>
</TABLE>
<H2 CLASS="western">3.2. VBE Services</H2>
<P CLASS="western">We now turn our attention to the VBE BIOS
services. Please keep in mind all of these services can be referenced
in [5]. We will also provide samples in C. We are only going to look
at the three most important services required to set a video mode and
display memory access. Please reference the specification (which is
one of the easier specifications to read) for other interrupts.</P>
<H3 CLASS="western">INT 0x10 Function 4F00h &ndash; Get VBE
Controller Information</H3>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DT></DL>
<UL>
	<LI><DD>
	AX=4F00h</DD><LI><DD STYLE="margin-bottom: 0.2in">
	ES:DI=Pointer to VbeInfoBlock structure (See following example)</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output</B>:</DT></DL>
<UL>
	<LI><DD STYLE="margin-bottom: 0.2in">
	AX=Status</DD></UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=32*>
	<COL WIDTH=224*>
	<TR VALIGN=TOP>
		<TD ROWSPAN=2 WIDTH=13%>
			<P CLASS="western"><B>Structure.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="font-weight: normal"><B>vbeInfoBlock
			structure</B> has the following format.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=87%>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>typedef</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>struct</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>_vbeInfoBlock {</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint8_t</FONT></FONT><FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>signature[4];     </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// &ldquo;VESA&rdquo;</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint16_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>version;          </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// Either 0x0200 (VBE 2.0) or 0x0300 (VBE 3.0)</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint32_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>oemString;        </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// Far pointer to OEM name</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint8_t </FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>capabilities[4];  </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// capabilities</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint32_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>videoModesPtr;    </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// Far pointer to video mode list</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint16_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>totalMemory;      </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>// Memory size in 64K blocks</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint16_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>oemSoftwareRev;</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint32_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>oemVenderNamePtr;</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint32_t</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>oemProductNamePtr;</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint32_t </FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>oemProductRevPtr;</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint8_t</FONT></FONT><FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>reserved [222];</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>uint8_t</FONT></FONT><FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>oemData [256];</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>}vbeInfoBlock;</FONT></FONT></PRE>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=13%></TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in">The
			<B>vbeInfoBlock.capabilities</B> field has the following format.</P>
			<TABLE WIDTH=182 BORDER=1 CELLPADDING=4 CELLSPACING=0>
				<COL WIDTH=78>
				<COL WIDTH=23>
				<COL WIDTH=22>
				<COL WIDTH=25>
				<TR>
					<TD COLSPAN=4 WIDTH=172 VALIGN=TOP BGCOLOR="#cccccc">
						<P CLASS="western">Capabilities</P>
					</TD>
				</TR>
				<TR VALIGN=TOP>
					<TD WIDTH=78>
						<P CLASS="western">Bits 31...3</P>
					</TD>
					<TD WIDTH=23 SDVAL="2" SDNUM="1033;">
						<P CLASS="western">2</P>
					</TD>
					<TD WIDTH=22 SDVAL="1" SDNUM="1033;">
						<P CLASS="western">1</P>
					</TD>
					<TD WIDTH=25 SDVAL="0" SDNUM="1033;">
						<P CLASS="western">0</P>
					</TD>
				</TR>
				<TR VALIGN=TOP>
					<TD WIDTH=78>
						<P CLASS="western" ALIGN=CENTER>Reserved</P>
					</TD>
					<TD WIDTH=23>
						<P CLASS="western" ALIGN=CENTER>D2</P>
					</TD>
					<TD WIDTH=22>
						<P CLASS="western" ALIGN=CENTER>D1</P>
					</TD>
					<TD WIDTH=25>
						<P CLASS="western" ALIGN=CENTER>D0</P>
					</TD>
				</TR>
			</TABLE>
			<P CLASS="western" STYLE="margin-bottom: 0.2in"><B>D0:</B> <SPAN STYLE="font-weight: normal">If
			0, DAC is fixed at 6 bits per color. If 1, DAC width can be
			switched to 8 bits per color.</SPAN></P>
			<P CLASS="western" STYLE="margin-bottom: 0.2in"><B>D1:</B> <SPAN STYLE="font-weight: normal">If
			0, controller supports standard VGA modes. If 1, controller does
			not support standard VGA modes.</SPAN></P>
			<P CLASS="western" STYLE="margin-bottom: 0.2in"><B>D2:</B> <SPAN STYLE="font-weight: normal">If
			0, RAMDAC is in normal operation. If 1, the specification tells us
			to use the blank bit of function 9.</SPAN></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="font-weight: normal">The following example
demonstrates calling this interrupt.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=32*>
	<COL WIDTH=224*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics16" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-style: normal; font-weight: normal; text-decoration: none">
			There really isn't much to say here. To call the interrupt, we
			call our <B>rm_bios</B> routine with the structure. <B>SEG</B> and
			<B>OFFSET</B> are macros that calculate the real mode <B>segment</B>
			and <B>offset</B> respectively. This is used to convert the 32 bit
			linear address into a 16 bit segment:offset address when giving it
			to the BIOS.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vbe_get_descr (vbeInfoBlock* descr) {</FONT></FONT>
        INTR in, out;
<FONT COLOR="#000000">        </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* sanity checks */</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>if</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>(!descr)</FONT></FONT>
<FONT COLOR="#000000">                </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>return</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>;</FONT></FONT>

<FONT COLOR="#000000">        </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
        in.eax.val =0x4F00;
<FONT COLOR="#000000">        </FONT><FONT COLOR="#000000"><FONT SIZE=2>in.es = SEG((</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>) descr);</FONT></FONT>
<FONT COLOR="#000000">        </FONT><FONT COLOR="#000000"><FONT SIZE=2>in.edi.val = OFFSET((</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>) descr);</FONT></FONT>
        io_services (0x10, &amp;in, &amp;out);
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">INT 0x10 Function 4F01h &ndash; Get VBE Mode Info</H3>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DT></DL>
<UL>
	<LI><DD>
	AX=4F01h</DD><LI><DD>
	CX = Mode number (recall the format of a VBE mode number!)</DD><LI><DD STYLE="margin-bottom: 0.2in">
	ES:DI=Pointer to ModeInfoBlock structure (See following example)</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output</B>:</DT></DL>
<UL>
	<LI><DD STYLE="margin-bottom: 0.2in">
	AX=Status</DD></UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=35*>
	<COL WIDTH=221*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><B>Structure.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in"><B>ModeInfoBlock</B>
			<SPAN STYLE="font-weight: normal">has the following structure. Due
			to the size of the structure we will not be describing all of the
			members. Important members that may be described in later chapters
			are commented.</SPAN></P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>typedef</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>struct</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>_modeInfoBlock {</FONT></FONT>
  uint16_t attributes;
  uint8_t windowA, windowB;
  uint16_t granularity;
  uint16_t windowSize;
  uint16_t segmentA, segmentB;
<FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>uint32_t winFuncPtr;                      </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* ptr to INT 0x10 Function 0x4F05 */</FONT></FONT>
<FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>uint16_t pitch;                           </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* bytes per scan line */</FONT></FONT>

<FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>uint16_t resolutionX, resolutionY;        </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* resolution */</FONT></FONT>
<FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>uint8_t wChar, yChar, planes, bpp, banks; </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* number of banks */</FONT></FONT>
  uint8_t memoryModel, bankSize, imagePages;
  uint8_t reserved0;

<FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>uint8_t readMask, redPosition;            </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* color masks */</FONT></FONT>
  uint8_t greenMask, greenPosition; 
  uint8_t blueMask, bluePosition;
  uint8_t reservedMask, reservedPosition;
  uint8_t directColorAttributes;

<FONT COLOR="#000000">  </FONT><FONT COLOR="#000000"><FONT SIZE=2>uint32_t physbase;                        </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* pointer to LFB in LFB modes */</FONT></FONT>
  uint32_t offScreenMemOff;
  uint16_t offScreenMemSize;
  uint8_t  reserved1 [206];
<FONT COLOR="#000000"><FONT SIZE=2>}modeInfoBlock;</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">The following example demonstrates calling the
interrupt.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=36*>
	<COL WIDTH=220*>
	<TR VALIGN=TOP>
		<TD WIDTH=14%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics17" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=86%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following function uses the above interrupt for basic bank
			switching. Note the use of <B>SEG</B> and <B>OFFSET</B> to convert
			the 32 bit linear address of <B>out</B> to a 16 bit segment:offset
			far pointer.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vbe_get_mode (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>mode, modeInfoBlock* descr) {</FONT></FONT>
   INTR in, out;

<FONT COLOR="#000000">   </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* sanity check */</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>if</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>(!descr)</FONT></FONT>
<FONT COLOR="#000000">     </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>return</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>;</FONT></FONT>

<FONT COLOR="#000000">   </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
   in.eax.val = 0x4F01;
   in.ecx.val = mode;
<FONT COLOR="#000000">   </FONT><FONT COLOR="#000000"><FONT SIZE=2>in.es      = SEG   ((</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>)descr);</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#000000"><FONT SIZE=2>in.edi.val = OFFSET((</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>)descr);</FONT></FONT>
   io_services (0x10, &amp;in, &amp;out);
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">INT 0x10 Function 4F02h &ndash; Set VBE Mode</H3>
<P CLASS="western" STYLE="font-weight: normal">The final interrupt
that we will look at allows us to set the display mode. This can be
used to set any VGA and VBE defined SuperVGA mode as well as extended
modes that are not standard.</P>
<DL>
	<DD STYLE="margin-left: 0in; margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DD></DL>
<UL>
	<LI><DD>
	AX=4F02h</DD><LI><DD STYLE="margin-bottom: 0.2in">
	BX=Mode number (remember the VBE mode format!)</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output</B>:</DT></DL>
<UL>
	<LI><DD STYLE="margin-bottom: 0.2in">
	AX=Status</DD></UL>
<DL>
	<DD STYLE="margin-left: 0in; margin-bottom: 0.2in">The following
	example sets a VBE mode.</DD></DL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=33*>
	<COL WIDTH=223*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics18" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following function uses the above interrupt to set a VBE mode.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vbe_set_mode (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>mode) {</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
   INTR in, out;
   in.eax.val = 0x4F02;
   in.ebx.val = mode;
   io_services (0x10, &amp;in, &amp;out);
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">Calling <B>vbe_set_mode</B> <SPAN STYLE="font-weight: normal">allows
us to set any VBE defined mode and yields us the following result.</SPAN></P>
<P CLASS="western"><IMG SRC="images/OSDevVid2/OSDevVid2_html_4142b2d0.gif" NAME="graphics23" ALIGN=LEFT WIDTH=370 HEIGHT=277 BORDER=0><BR CLEAR=LEFT><I>Demo
running in SuperVGA Mode 118h (1024x768)</I></P>
<H2 CLASS="western">3.3. VBE Display Memory</H2>
<P CLASS="western">VBE supports two standard approaches used in
SuperVGA for display memory: <B>Linear Frame Buffer (LFB)</B> <SPAN STYLE="font-weight: normal">and
</SPAN><B>bank switching</B><SPAN STYLE="font-weight: normal">. You
may recall that we can try to set any video mode supported by VBE
with both of these. These are just different ways of accessing
display memory. We will look at how to work with both types of modes
in this section.</SPAN></P>
<H3 CLASS="western"><B>Linear Frame Buffer (LFB) Modes</B></H3>
<P CLASS="western"><SPAN STYLE="font-weight: normal">In LFB modes,
all of video memory is mapped into the </SPAN><B>physical address
space</B> <SPAN STYLE="font-weight: normal">typically at a high
address in the 3GB-4GB range (assuming IA32 architecture.) Display
memory is linear like an array in C. We can read or write to it by
just reading or writing from a pointer and can access all of video
memory. In VBE, we can get this pointer by calling </SPAN><B>INT 0x10
Function 4F01h</B> <SPAN STYLE="font-weight: normal">to get the
</SPAN><B>modeInfoBlock</B> <SPAN STYLE="font-weight: normal">structure
of the current mode. The pointer to display then is just at
</SPAN><B>modeInfoBlock.physbase</B><SPAN STYLE="font-weight: normal">.</SPAN></P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=32*>
	<COL WIDTH=224*>
	<TR VALIGN=TOP>
		<TD WIDTH=12%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics19" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=88%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following C code plots a 16 bit <B>red-green-blue (RGB)</B>
			pixel to display.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>pixel_16RGB (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>color, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>x, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>y) {</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>* fb = (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>*) _modeInfo.physBasePtr;</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>offset = x + y * (_modeInfo.bytesPerScanLine / 2);</FONT></FONT>
   fb [offset] = color;
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western">Display memory in LFB modes can only be accessed
from protected or long modes due to the amount of display memory
mapped. In real mode the only way of accessing display memory of high
resolution modes is using <B>bank switching</B><SPAN STYLE="font-weight: normal">.</SPAN></P>
<H3 CLASS="western">Bank switching</H3>
<P CLASS="western">Modes that use <B>bank switching</B> <SPAN STYLE="font-weight: normal">always
have 64K of display memory mapped at the VGA memory space at </SPAN><B>0xa0000</B>
<SPAN STYLE="font-weight: normal">physical address. This 64k block of
display memory is called a </SPAN><B>bank</B><SPAN STYLE="font-weight: normal">.
The software could only access a single bank at a time and so cannot
access all of display memory. </SPAN><B>The software has to switch
banks when needed to access all of display memory.</B></P>
<P CLASS="western" STYLE="font-weight: normal">In other words, Bank 0
refers to bytes 0-64K of display memory, Bank 1 refers to bytes at
64K-128K of display memory, and so on. So by switching between banks
the software can access all of display memory (no matter how high of
resolution) through this 64K &ldquo;window&rdquo;.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=32*>
	<COL WIDTH=224*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics20" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following code plots an 8 bit RGB pixel in a bank switching
			mode.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>pixel_8RGB (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>color, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>x, </FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>short</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>y) {</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>* fb = (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>char</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>*) 0xa0000;</FONT></FONT>
<FONT COLOR="#000000">   </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>unsigned</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>offset = x + (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>long</FONT></FONT><FONT COLOR="#000000"><FONT SIZE=2>)y * _modeInfo.bytesPerScanLine;</FONT></FONT>
   vbe_bankSwitch (offset &gt;&gt; 16);
   fb [offset &amp; 0xffff] = color;
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Bank
switching modes are typically more slower because they require more
calculations. That is, the software not only needs to calculate the
location of a pixel on screen but also its offset within a bank and
the bank to switch to. This same calculations apply to reading from
display memory. Bank switching modes however can be used in real mode
or v86 mode since they only map 64K of display memory.</FONT></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Under
VBE, software could switch banks by calling <B>INT 0x10 Function
0x4F05 &ndash; Display Window Control</B><SPAN STYLE="font-weight: normal">.
It can also be called directly (as is recommended by the VBE
specification) by calling </SPAN><B>INT 0x10 Function 0x4F01 &ndash;
Get VBE Mode Information</B> <SPAN STYLE="font-weight: normal">and
calling </SPAN><B>VbeModeInfo.WinFuncPtr</B><SPAN STYLE="font-weight: normal">.</SPAN></FONT></FONT></FONT></P>
<H3 CLASS="western">INT 0x10 Function 4F05h &ndash; Display Window
Control</H3>
<P CLASS="western" STYLE="font-weight: normal">Sets or gets the
display bank. Can also be called from <B>VbeModeInfo.WinFuncPtr</B>.</P>
<DL>
	<DD STYLE="margin-bottom: 0.2in"><B>Input</B><SPAN STYLE="font-weight: normal">:</SPAN></DD></DL>
<UL>
	<LI><DD>
	AX=4F05h</DD><LI><DD>
	BH=0 (Set memory window), 1 (Get memory window)</DD><LI><DD>
	BL=0 (Window A), 1 (Window B)</DD><LI><DD STYLE="margin-bottom: 0.2in">
	DX=Window number in window granularity units. Only used when BH=0
	(Set function)</DD></UL>
<DL>
	<DT STYLE="margin-bottom: 0.2in"><B>Output</B>:</DT></DL>
<UL>
	<LI><DD>
	AX=Status</DD><LI><DD STYLE="margin-bottom: 0.2in">
	DX=Window number in granularity units. Only used when BH=1 (Get
	function)</DD></UL>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=33*>
	<COL WIDTH=223*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics21" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following function uses the above interrupt for basic bank
			switching. Notice that we call the interrupt twice for window A
			and window B. This is because, according to the standard, some VBE
			implementations might have separate read and write windows.</P>
			<PRE CLASS="western"><FONT COLOR="#0000ff"><FONT SIZE=2>void</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>vbe_bankSwitch (</FONT></FONT><FONT COLOR="#0000ff"><FONT SIZE=2>int</FONT></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000000"><FONT SIZE=2>bank) {</FONT></FONT>
   INTR in, out;

   bank &lt;&lt;= bankShift;

   in.eax.val=0x4F05;
<FONT COLOR="#000000">   </FONT><FONT COLOR="#000000"><FONT SIZE=2>in.ebx.val = 0;                </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* BH=0 (Set memory window) BL=0 (Window A) */</FONT></FONT>
   in.edx.val = bank;
<FONT COLOR="#000000">   </FONT><FONT COLOR="#000000"><FONT SIZE=2>io_services (0x10, &amp;in, &amp;out); </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>

   in.eax.val=0x4F05;
<FONT COLOR="#000000">   </FONT><FONT COLOR="#000000"><FONT SIZE=2>in.ebx.val = 1;                </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* BH=0 (Set memory window) BL=1 (Window A) */</FONT></FONT>
   in.edx.val = bank;
<FONT COLOR="#000000">   </FONT><FONT COLOR="#000000"><FONT SIZE=2>io_services (0x10, &amp;in, &amp;out); </FONT></FONT><FONT COLOR="#008000"><FONT SIZE=2>/* call BIOS */</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<H1 CLASS="western">4. Bochs VBE Interface</H1>
<P CLASS="western">The Bochs emulator provides an alternative method
of setting VBE modes directly without having to call the firmware.
Although the support is limited, it does provide us a semi-portable
method (only requires a compatible Bochs emulator) for working with
high resolution graphics.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 RULES=NONE>
	<COL WIDTH=33*>
	<COL WIDTH=223*>
	<TR VALIGN=TOP>
		<TD WIDTH=13%>
			<P CLASS="western"><IMG SRC="OSDevVid2_html_424a8468.gif" NAME="graphics24" ALIGN=BOTTOM WIDTH=12 HEIGHT=12 BORDER=0>
			<B>Example.</B></P>
		</TD>
		<TD WIDTH=87%>
			<P CLASS="western" STYLE="margin-bottom: 0.2in; font-weight: normal">
			The following functions can be used to set any VBE mode supported
			by Bochs.</P>
			<PRE CLASS="western"><FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_IOPORT_INDEX 0x01CE</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_IOPORT_DATA  0x01CF</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_ID              0x0</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_XRES            0x1</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_YRES            0x2</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_BPP             0x3</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_ENABLE          0x4</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_BANK            0x5</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_VIRT_WIDTH      0x6</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_VIRT_HEIGHT     0x7</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_X_OFFSET        0x8</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_INDEX_Y_OFFSET        0x9</FONT></FONT>

<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_DISABLED              0x00</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_ENABLED               0x01</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_GETCAPS               0x02</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_8BIT_DAC              0x20</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_LFB_ENABLED           0x40</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>#define VBE_DISPI_NOCLEARMEM            0x80</FONT></FONT>

<FONT COLOR="#000000"><FONT SIZE=2>void BlBochsVbeWrite (uint16_t index, uint16_t value) {</FONT></FONT>

<FONT COLOR="#000000">   <FONT SIZE=2>WRITE_PORT_USHORT(VBE_DISPI_IOPORT_INDEX, index);</FONT></FONT>
<FONT COLOR="#000000">   <FONT SIZE=2>WRITE_PORT_USHORT(VBE_DISPI_IOPORT_DATA, value);</FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT>

<FONT COLOR="#000000"><FONT SIZE=2>void BlBochsSetMode (uint16_t xres, uint16_t yres, uint16_t bpp) {</FONT></FONT>

<FONT COLOR="#000000">   <FONT SIZE=2>BlBochsVbeWrite (VBE_DISPI_INDEX_ENABLE, VBE_DISPI_DISABLED);</FONT></FONT>
<FONT COLOR="#000000">   <FONT SIZE=2>BlBochsVbeWrite (VBE_DISPI_INDEX_XRES, xres);</FONT></FONT>
<FONT COLOR="#000000">   <FONT SIZE=2>BlBochsVbeWrite (VBE_DISPI_INDEX_YRES, yres);</FONT></FONT>
<FONT COLOR="#000000">   <FONT SIZE=2>BlBochsVbeWrite (VBE_DISPI_INDEX_BPP, bpp);</FONT></FONT>
<FONT COLOR="#000000">   <FONT SIZE=2>BlBochsVbeWrite (VBE_DISPI_INDEX_ENABLE, VBE_DISPI_ENABLED | VBE_DISPI_LFB_ENABLED);   </FONT></FONT>
<FONT COLOR="#000000"><FONT SIZE=2>}</FONT></FONT></PRE>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0in"><BR>
</P>
<P CLASS="western">Recall that there is no standard Super VGA
hardware interface. That is, this method is specific to Bochs and may
not work in other environments or platforms. Because we assume most
readers will be using Bochs as the primary emulator, this is the
method we will use in order to maintain the highest form of
compatibility. This method is also the simplest.</P>
<P CLASS="western">For higher compatibility however, it is
recommended to use <B>virtual 8086</B> mode to utilize VBE services
directly.</P>
<H1 CLASS="western">5. Demos</H1>
<P CLASS="western">There are multiple demos that are planned for
release for this article. These are a VGA BIOS demo, VBE SuperVGA
demo, and VGA hardware demo.</P>
<H1 CLASS="western">6. Conclusion</H1>
<P CLASS="western">We have covered a lot in this chapter including an
introduction to the VGA BIOS, VGA hardware, SuperVGA, and VESA BIOS
Extensions. We now have covered all of the material needed for
switching into low and high resolution graphics modes that will be
needed in later chapters. The next few chapters will be focused on
the actual graphics rendering and pipeline with possibly some
SuperVGA bits thrown in. We might begin with basic primitives and
graphics rendering in the next article and transformations.</P>
<P CLASS="western">The method we will be using in later demos is the
last one presented here, the Bochs VBE Interface. This allows us to
use high resolution LFB modes for later articles with the assumption
that most readers will be using Bochs. Any new code however added in
later articles will be hardware interface independent for the most
part; that is, you can use any method that you want to set the
display mode and can still follow the next few articles that will
focus more on graphics.</P>
<P CLASS="western">Until next time,</P>
<P CLASS="western">~Mike ();</P>
<P CLASS="western">OS Development Series Editor</P>
<H1 CLASS="western">6. Resources</H1>
<P CLASS="western">The following links were referenced to provide
more through and accurate information. Please reference them for
additional information.</P>
<P CLASS="western">[1]
<A HREF="http://en.wikipedia.org/wiki/Video_Graphics_Array">http://en.wikipedia.org/wiki/Video_Graphics_Array</A></P>
<P CLASS="western">[2] <A HREF="http://www.osdever.net/FreeVGA/vga/vga.htm">http://www.osdever.net/FreeVGA/vga/vga.htm</A></P>
<P CLASS="western">[3] <A HREF="http://wiki.osdev.org/VGA_Hardware">http://wiki.osdev.org/VGA_Hardware</A></P>
<P CLASS="western"><A NAME="btAsinTitle"></A>[4] <FONT COLOR="#000000"><FONT FACE="Arial, Helvetica, sans-serif"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">Programmer's
Guide to the EGA, VGA, and Super VGA Cards (3rd Edition)</SPAN></SPAN></FONT></FONT></P>
<P CLASS="western">[5] VESA Bios Extensions (VBE) 2.0 Standard</P>
<P CLASS="western"><BR><BR>
</P>
<TABLE WIDTH=100% BORDER=0 CELLPADDING=2 CELLSPACING=2>
	<TR>
		<TD>
			<P CLASS="western"><A HREF="http://www.brokenthorn.com/Resources/OSDevIndex.html">Home
			</A>
			</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western"><BR><BR>
</P>
</BODY>
</HTML>
