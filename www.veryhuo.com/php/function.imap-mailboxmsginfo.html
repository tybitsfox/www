<HTML><HEAD><TITLE>imap_mailboxmsginfo</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="IMAP, POP3 and NNTP Functions" HREF="ref.imap.html"><LINK REL="PREVIOUS" TITLE="imap_mail" HREF="function.imap-mail.html"><LINK REL="NEXT" TITLE="imap_mime_header_decode" HREF="function.imap-mime-header-decode.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.imap-mail.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.imap-mime-header-decode.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.imap-mailboxmsginfo"></A>imap_mailboxmsginfo</H1><DIV CLASS="refnamediv"><A NAME="AEN42859"></A><P> (PHP 3&#62;= 3.0.2, PHP 4 )</P>imap_mailboxmsginfo&nbsp;--&nbsp;Get information about the current mailbox</DIV><DIV CLASS="refsect1"><A NAME="AEN42862"></A><H2>Description</H2>object <B CLASS="methodname">imap_mailboxmsginfo</B> ( resource imap_stream)<BR></BR><P>&#13; Returns information about the current mailbox. Returns <TT CLASS="constant"><B>FALSE</B></TT> on
failure.
</P><P>
The <B CLASS="function">imap_mailboxmsginfo()</B> function checks the
current mailbox status on the server. It is similar to
<A HREF="function.imap-status.html"><B CLASS="function">imap_status()</B></A>, but will additionally sum up the
size of all messages in the mailbox, which will take some additional
time to execute. It returns the information
in an object with following properties.
</P><P>&#13; <DIV CLASS="table"><A NAME="AEN42876"></A><P><B>表格 1. Mailbox properties</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Date</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">date of last change</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Driver</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">driver</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Mailbox</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">name of the mailbox</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Nmsgs</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">number of messages</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Recent</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">number of recent messages</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Unread</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">number of unread messages</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Deleted</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">number of deleted messages</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">Size</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">mailbox size</TD></TR></TBODY></TABLE></DIV>
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN42905"></A><P><B>例子 1. <B CLASS="function">imap_mailboxmsginfo()</B> example</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />$mbox </font><font color="#007700">= </font><font color="#0000BB">imap_open</font><font color="#007700">(</font><font color="#DD0000">"{your.imap.host}INBOX"</font><font color="#007700">, </font><font color="#DD0000">"username"</font><font color="#007700">, </font><font color="#DD0000">"password"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or die(</font><font color="#DD0000">"can't connect: " </font><font color="#007700">. </font><font color="#0000BB">imap_last_error</font><font color="#007700">());<br /> <br /></font><font color="#0000BB">$check </font><font color="#007700">= </font><font color="#0000BB">imap_mailboxmsginfo</font><font color="#007700">(</font><font color="#0000BB">$mbox</font><font color="#007700">);<br /> <br />if (</font><font color="#0000BB">$check</font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Date: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Date&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Driver: "&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Driver&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Mailbox: "&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Mailbox </font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Messages: " </font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Nmsgs&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Recent: "&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Recent&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Unread: "&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Unread&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Deleted: "&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Deleted </font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Size: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#0000BB">$check</font><font color="#007700">-&gt;</font><font color="#0000BB">Size&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">. </font><font color="#DD0000">"&lt;br /&gt;\n" </font><font color="#007700">;<br />} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"imap_check() failed: " </font><font color="#007700">. </font><font color="#0000BB">imap_last_error</font><font color="#007700">() . </font><font color="#DD0000">"&lt;br /&gt;\n"</font><font color="#007700">;<br />}<br /> <br /></font><font color="#0000BB">imap_close</font><font color="#007700">(</font><font color="#0000BB">$mbox</font><font color="#007700">);<br /><br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.imap-mail.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.imap-mime-header-decode.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">imap_mail</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.imap.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">imap_mime_header_decode</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
