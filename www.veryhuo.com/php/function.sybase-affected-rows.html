<HTML><HEAD><TITLE>sybase_affected_rows</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Sybase Functions" HREF="ref.sybase.html"><LINK REL="PREVIOUS" TITLE="Sybase Functions" HREF="ref.sybase.html"><LINK REL="NEXT" TITLE="sybase_close" HREF="function.sybase-close.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="ref.sybase.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.sybase-close.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.sybase-affected-rows"></A>sybase_affected_rows</H1><DIV CLASS="refnamediv"><A NAME="AEN111720"></A><P> (PHP 3&#62;= 3.0.6, PHP 4 )</P>sybase_affected_rows&nbsp;--&nbsp;Gets number of affected rows in last query</DIV><DIV CLASS="refsect1"><A NAME="AEN111723"></A><H2>Description</H2>int <B CLASS="methodname">sybase_affected_rows</B> ( [resource link_identifier])<BR></BR><P>&#13; <B CLASS="function">sybase_affected_rows()</B> returns the number of
rows affected by the last INSERT, UPDATE or DELETE query on the
server associated with the specified link identifier. If the
link identifier isn't specified, the last opened link is assumed.
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN111734"></A><P><B>例子 1. Delete-Query</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/* connect to database */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">sybase_connect</font><font color="#007700">(</font><font color="#DD0000">'SYBASE'</font><font color="#007700">, </font><font color="#DD0000">''</font><font color="#007700">, </font><font color="#DD0000">''</font><font color="#007700">) or<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die(</font><font color="#DD0000">"Could not connect"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">sybase_select_db</font><font color="#007700">(</font><font color="#DD0000">"db"</font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">sybase_query</font><font color="#007700">(</font><font color="#DD0000">"DELETE FROM sometable WHERE id &lt; 10"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Records deleted: %d\n"</font><font color="#007700">, </font><font color="#0000BB">sybase_affected_rows</font><font color="#007700">());<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; The above example would produce the following output:
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Records deleted: 10</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; This command is not effective for SELECT statements, only on
statements which modify records. To retrieve the number of rows
returned from a SELECT, use <A HREF="function.sybase-num-rows.html"><B CLASS="function">sybase_num_rows()</B></A>.
<DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>该函数仅适用于 Sybase 的 CT 库接口，而不适用于 DB 库。</P></BLOCKQUOTE></DIV>
</P><P>&#13; See also <A HREF="function.sybase-num-rows.html"><B CLASS="function">sybase_num_rows()</B></A>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="ref.sybase.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.sybase-close.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">Sybase Functions</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.sybase.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">sybase_close</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
