<HTML><HEAD><TITLE>yaz_connect</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="YAZ Functions" HREF="ref.yaz.html"><LINK REL="PREVIOUS" TITLE="yaz_close" HREF="function.yaz-close.html"><LINK REL="NEXT" TITLE="yaz_database" HREF="function.yaz-database.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.yaz-close.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.yaz-database.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.yaz-connect"></A>yaz_connect</H1><DIV CLASS="refnamediv"><A NAME="AEN119663"></A><P> (PHP 4 &#62;= 4.0.1)</P>yaz_connect&nbsp;--&nbsp;
Prepares for a connection to a Z39.50 server.
</DIV><DIV CLASS="refsect1"><A NAME="AEN119666"></A><H2>Description</H2>resource <B CLASS="methodname">yaz_connect</B> ( string zurl [, mixed options])<BR></BR><P>&#13; This function returns a connection resource on success, zero on
failure.
</P><P>&#13; <B CLASS="function">yaz_connect()</B> prepares for a connection to a
Z39.50 server. The <TT CLASS="parameter"><I>zurl</I></TT> argument takes the form
host[:port][/database]. If port is omitted, port 210 is used. If
database is omitted <TT CLASS="literal">Default</TT> is used.
This function is non-blocking and does not attempt to establish
a connection - it merely prepares a connect to be performed later when
<A HREF="function.yaz-wait.html"><B CLASS="function">yaz_wait()</B></A> is called.
</P><P>&#13; If the second argument, <TT CLASS="parameter"><I>options</I></TT>, is given as
a string it is treated as the Z39.50 V2 authentication string
(OpenAuth).
</P><P>&#13; If <TT CLASS="parameter"><I>options</I></TT> is given as an array the contents
of the array serves as options. Note that array options are only
supported for PHP 4.1.0 and later.
<P></P><DIV CLASS="variablelist"><P><B><B CLASS="function">yaz_connect()</B> options</B></P><DL><DT>user</DT><DD><P>Username for authentication.</P></DD><DT>group</DT><DD><P>Group for authentication.</P></DD><DT>password</DT><DD><P>Password for authentication.</P></DD><DT>cookie</DT><DD><P>Cookie for session (YAZ proxy).</P></DD><DT>proxy</DT><DD><P>Proxy for connection (YAZ proxy).</P></DD><DT>persistent</DT><DD><P>A boolean. If <TT CLASS="constant"><B>TRUE</B></TT> the connection is persistent; If <TT CLASS="constant"><B>FALSE</B></TT>
the connection is not persistent. By default connections are persistent.
</P></DD><DT>piggyback</DT><DD><P>A boolean. If <TT CLASS="constant"><B>TRUE</B></TT> piggyback is enabled for searches; If
<TT CLASS="constant"><B>FALSE</B></TT> piggyback is disabled. By default piggyback is enabled. Enabling
piggyback is more efficient and usually saves a network-round-trip for
first time fetches of records. However, a few Z39.50 servers do not
support piggyback or they ignore element set names. For those, piggyback
should be disabled.
</P></DD><DT>charset</DT><DD><P>A string that specifies character set to be used
in Z39.50 language and character set negotiation.
Use strings such as:
<TT CLASS="literal">ISO-8859-1</TT>, <TT CLASS="literal">UTF-8</TT>,
<TT CLASS="literal">UTF-16</TT>.
</P><P>&#13; Most Z39.50 servers do not support this feature (and thus,
this is ignored). Many servers use the ISO-8859-1
encoding for queries and messages. MARC21/USMARC records are not
affected by this setting.
</P></DD></DL></DIV>
</P><P>&#13; <DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>The use of a proxy often improves performance. A Z39.50 proxy
is part of the free <A HREF="http://www.indexdata.dk/yazplusplus/" TARGET="_top">YAZ++</A> package.
</P></BLOCKQUOTE></DIV>
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.yaz-close.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.yaz-database.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">yaz_close</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.yaz.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">yaz_database</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
