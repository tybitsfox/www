<HTML><HEAD><TITLE>变量</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="语言参考" HREF="langref.html"><LINK REL="PREVIOUS" TITLE="类型戏法" HREF="language.types.type-juggling.html"><LINK REL="NEXT" TITLE="预定义变量" HREF="language.variables.predefined.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="chapter" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="language.types.type-juggling.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="language.variables.predefined.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV CLASS="chapter"><H1><A NAME="language.variables">章 7. 变量</A></H1><DIV CLASS="TOC"><DL><DT><B>目录</B></DT><DT><A HREF="language.variables.html#language.variables.basics">基础</A></DT><DT><A HREF="language.variables.predefined.html">预定义变量</A></DT><DT><A HREF="language.variables.scope.html">变量范围</A></DT><DT><A HREF="language.variables.variable.html">可变变量</A></DT><DT><A HREF="language.variables.external.html">PHP 的外部变量</A></DT></DL></DIV><DIV CLASS="sect1"><H1 CLASS="sect1"><A NAME="language.variables.basics"></A>基础</H1><P>&#13; PHP 中一个美元符号后面跟上一个变量名称，即表示一个变量。变量的名称是对大小写敏感的。
</P><P>&#13; 变量名与 PHP 中其它的标签一样遵循相同的规则。一个有效的变量名由字母或者下划线开头，后面跟上任意数量的字母，数字，或者下划线。按照正常的正则表达式，它将被表述为：'[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*'
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
字母为 a-z，A-Z，ASCII 字符从 127 到 255（0x7f-0xff）。
</P></BLOCKQUOTE></DIV><P>&#13; <DIV CLASS="informalexample"><A NAME="AEN4091"></A><P></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$var </font><font color="#007700">= </font><font color="#DD0000">"Bob"</font><font color="#007700">;<br /></font><font color="#0000BB">$Var </font><font color="#007700">= </font><font color="#DD0000">"Joe"</font><font color="#007700">;<br />echo </font><font color="#DD0000">"$var, $Var"</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// outputs "Bob, Joe"<br /><br /></font><font color="#007700">$</font><font color="#0000BB">4site </font><font color="#007700">= </font><font color="#DD0000">'not yet'</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// invalid; starts with a number<br /></font><font color="#0000BB">$_4site </font><font color="#007700">= </font><font color="#DD0000">'not yet'</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// valid; starts with an underscore<br /></font><font color="#0000BB">$t</font><font color="#007700">?</font><font color="#0000BB">yte </font><font color="#007700">= </font><font color="#DD0000">'mansikka'</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// valid; '洄 is (Extended) ASCII 228.<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P></P></DIV>
</P><P>&#13; PHP 3 中，变量总是传值赋值。那也就是说，当你将一个表达式的值赋予一个变量时，整个原始表达式的值被赋值到目标变量。这意味着，例如，当一个变量的值赋予另外一个变量时，改变其中一个变量的值，将不会影响到另外一个变量。有关这种类型的赋值操作，请参阅<A HREF="language.expressions.html">表达式</A>一章。
</P><P>&#13; PHP 4 提供了另外一种方式给变量赋值：<A HREF="language.references.html">传地址赋值</A>。这意味着新的变量简单的引用（换言之，“成为其别名” 或者 “指向”）了原始变量。改动新的变量将影响到原始变量，反之亦然。这同样意味着其中没有执行复制操作；因而，这种赋值操作更加快速。尽管如此，任何提速的操作只有在紧密循环或者大<A HREF="language.types.array.html">数组</A>或者<A HREF="language.types.object.html">对象</A>才可能被注意到。
</P><P>&#13; 使用传地址赋值，简单地追加一个（&#38;）符号到将要赋值的变量前（源变量）。例如，下列代码片断两次输出‘My name is Bob’：
<DIV CLASS="informalexample"><A NAME="AEN4100"></A><P></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$foo </font><font color="#007700">= </font><font color="#DD0000">'Bob'</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Assign the value 'Bob' to $foo<br /></font><font color="#0000BB">$bar </font><font color="#007700">= &amp;</font><font color="#0000BB">$foo</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Reference $foo via $bar.<br /></font><font color="#0000BB">$bar </font><font color="#007700">= </font><font color="#DD0000">"My name is $bar"</font><font color="#007700">;&nbsp;&nbsp;</font><font color="#FF8000">// Alter $bar...<br /></font><font color="#007700">echo </font><font color="#0000BB">$bar</font><font color="#007700">;<br />echo </font><font color="#0000BB">$foo</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// $foo is altered too.<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P></P></DIV>
</P><P>&#13; 需要注意的是只有命名变量才可以传地址赋值，这一点非常重要。
<DIV CLASS="informalexample"><A NAME="AEN4103"></A><P></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$foo </font><font color="#007700">= </font><font color="#0000BB">25</font><font color="#007700">;<br /></font><font color="#0000BB">$bar </font><font color="#007700">= &amp;</font><font color="#0000BB">$foo</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// This is a valid assignment.<br /></font><font color="#0000BB">$bar </font><font color="#007700">= &amp;(</font><font color="#0000BB">24 </font><font color="#007700">* </font><font color="#0000BB">7</font><font color="#007700">);&nbsp;&nbsp;</font><font color="#FF8000">// Invalid; references an unnamed expression.<br /><br /></font><font color="#007700">function </font><font color="#0000BB">test</font><font color="#007700">()<br />{<br />&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">25</font><font color="#007700">;<br />}<br /><br /></font><font color="#0000BB">$bar </font><font color="#007700">= &amp;</font><font color="#0000BB">test</font><font color="#007700">();&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Invalid.<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P></P></DIV>
</P></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="language.types.type-juggling.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="language.variables.predefined.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">类型戏法</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="langref.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">预定义变量</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
