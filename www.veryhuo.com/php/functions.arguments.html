<HTML><HEAD><TITLE>函数的参数</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="函数" HREF="functions.html"><LINK REL="PREVIOUS" TITLE="函数" HREF="functions.html"><LINK REL="NEXT" TITLE="返回值" HREF="functions.returning-values.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="sect1" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="functions.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom">章 12. 函数</TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="functions.returning-values.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV CLASS="sect1"><H1 CLASS="sect1"><A NAME="functions.arguments"></A>函数的参数</H1><P>&#13; 通过参数列表可以传递信息到函数，该列表是以逗号作为分隔符的变量和常量列表。
</P><P>&#13; PHP 支持按值传递参数（默认）,
<A HREF="functions.arguments.html#functions.arguments.by-reference">通过引用传递</A>, 和
<A HREF="functions.arguments.html#functions.arguments.default">默认参数值</A>.
可变长度参数列表仅在 PHP 4 和后续版本中支持；更多信息请参照 <A HREF="functions.arguments.html#functions.variable-arg-list">可变长度参数列表</A>
和涉及到的相关函数 <A HREF="function.func-num-args.html"><B CLASS="function">func_num_args()</B></A>，
<A HREF="function.func-get-arg.html"><B CLASS="function">func_get_arg()</B></A>, 和
<A HREF="function.func-get-args.html"><B CLASS="function">func_get_args()</B></A>。
PHP 3 中通过传递一个数组参数可以达到类似的效果：
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN5552"></A><P><B>例子 12-4. 向函数传递数组</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">takes_array</font><font color="#007700">(</font><font color="#0000BB">$input</font><font color="#007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"$input[0] + $input[1] = "</font><font color="#007700">, </font><font color="#0000BB">$input</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">]+</font><font color="#0000BB">$input</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">];<br />}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><DIV CLASS="sect2"><H2 CLASS="sect2"><A NAME="functions.arguments.by-reference"></A>通过引用传递参数</H2><P>&#13; 缺省情况下，函数参数通过值传递（因而即使在函数内部改变参数的值，它
并不会改变函数外部的值）。如果你希望允许函数修改它的参数值，你必须
通过引用传递参数。
</P><P>&#13; 如果想要函数的一个参数总是通过引用传递，你可以在函数定义中该参数的
前面预先加上符号（&#38;）：
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN5560"></A><P><B>例子 12-5. 用引用传递函数参数</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">add_some_extra</font><font color="#007700">(&amp;</font><font color="#0000BB">$string</font><font color="#007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$string </font><font color="#007700">.= </font><font color="#DD0000">'and something extra.'</font><font color="#007700">;<br />}<br /></font><font color="#0000BB">$str </font><font color="#007700">= </font><font color="#DD0000">'This is a string, '</font><font color="#007700">;<br /></font><font color="#0000BB">add_some_extra</font><font color="#007700">(</font><font color="#0000BB">$str</font><font color="#007700">);<br />echo </font><font color="#0000BB">$str</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// outputs 'This is a string, and something extra.'<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P></DIV><DIV CLASS="sect2"><H2 CLASS="sect2"><A NAME="functions.arguments.default"></A>默认参数的值</H2><P>&#13; 函数可以定义 C++ 风格的标量参数默认值，如下：
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN5567"></A><P><B>例子 12-6. 函数中默认参数的用途</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">makecoffee </font><font color="#007700">(</font><font color="#0000BB">$type </font><font color="#007700">= </font><font color="#DD0000">"cappuccino"</font><font color="#007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#DD0000">"Making a cup of $type.\n"</font><font color="#007700">;<br />}<br />echo </font><font color="#0000BB">makecoffee </font><font color="#007700">();<br />echo </font><font color="#0000BB">makecoffee </font><font color="#007700">(</font><font color="#DD0000">"espresso"</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; 上述片断的输出是：
</P><P>&#13; <TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Making a cup of cappuccino.
Making a cup of espresso.</PRE></TD></TR></TABLE>
</P><P>&#13; 默认值必须是常量表达式，不是（比如）变量，类成员，或者函数调用。
</P><P>&#13; 请注意当使用默认参数时，任何默认参数必须放在任何非默认参数的右侧；否则，
可能函数将不会按照预期的情况工作。考虑下面的代码片断：
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN5576"></A><P><B>例子 12-7. 函数默认参数不正确的用法</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">makeyogurt </font><font color="#007700">(</font><font color="#0000BB">$type </font><font color="#007700">= </font><font color="#DD0000">"acidophilus"</font><font color="#007700">, </font><font color="#0000BB">$flavour</font><font color="#007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#DD0000">"Making a bowl of $type $flavour.\n"</font><font color="#007700">;<br />}<br /><br />echo </font><font color="#0000BB">makeyogurt </font><font color="#007700">(</font><font color="#DD0000">"raspberry"</font><font color="#007700">);&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// won't work as expected<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; 上述例子的输出时：
</P><P>&#13; <TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Warning: Missing argument 2 in call to makeyogurt() in
/usr/local/etc/httpd/htdocs/php3test/functest.html on line 41
Making a bowl of raspberry .</PRE></TD></TR></TABLE>
</P><P>&#13; 现在，比较上面的例子和这个例子：
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN5584"></A><P><B>例子 12-8. 函数默认参数正确的用法</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">makeyogurt </font><font color="#007700">(</font><font color="#0000BB">$flavour</font><font color="#007700">, </font><font color="#0000BB">$type </font><font color="#007700">= </font><font color="#DD0000">"acidophilus"</font><font color="#007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#DD0000">"Making a bowl of $type $flavour.\n"</font><font color="#007700">;<br />}<br /><br />echo </font><font color="#0000BB">makeyogurt </font><font color="#007700">(</font><font color="#DD0000">"raspberry"</font><font color="#007700">);&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// works as expected<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; 这个例子的输出是：
</P><P>&#13; <TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Making a bowl of acidophilus raspberry.</PRE></TD></TR></TABLE>
</P></DIV><DIV CLASS="sect2"><H2 CLASS="sect2"><A NAME="functions.variable-arg-list"></A>可变长度参数列表</H2><P>&#13; PHP 4 已经在用户自定义函数中支持可变长度参数列表。这个真的很简单，
使用 <A HREF="function.func-num-args.html"><B CLASS="function">func_num_args()</B></A>，<A HREF="function.func-get-arg.html"><B CLASS="function">func_get_arg()</B></A>，和
<A HREF="function.func-get-args.html"><B CLASS="function">func_get_args()</B></A> 函数.
</P><P>&#13; 无需特别的语法，参数列表仍然能够被明确无误的传递给函数并且正常运转。
</P></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="functions.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="functions.returning-values.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">函数</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="functions.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">返回值</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
