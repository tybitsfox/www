<HTML><HEAD><TITLE>fbsql_query</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="FrontBase Functions" HREF="ref.fbsql.html"><LINK REL="PREVIOUS" TITLE="fbsql_pconnect" HREF="function.fbsql-pconnect.html"><LINK REL="NEXT" TITLE="fbsql_read_blob" HREF="function.fbsql-read-blob.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.fbsql-pconnect.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.fbsql-read-blob.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.fbsql-query"></A>fbsql_query</H1><DIV CLASS="refnamediv"><A NAME="AEN26723"></A><P> (PHP 4 &#62;= 4.0.6)</P>fbsql_query&nbsp;--&nbsp;Send a FrontBase query</DIV><DIV CLASS="refsect1"><A NAME="AEN26726"></A><H2>Description</H2>resource <B CLASS="methodname">fbsql_query</B> ( string query [, resource link_identifier])<BR></BR><P>
<B CLASS="function">fbsql_query()</B> sends a query to the currently
active database on the server that's associated with the
specified link identifier. If
<TT CLASS="parameter"><I>link_identifier</I></TT> isn't specified, the last
opened link is assumed. If no link is open, the function tries
to establish a link as if <A HREF="function.fbsql-connect.html"><B CLASS="function">fbsql_connect()</B></A> was
called with no arguments, and use it.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
The query string shall always end with a semicolon.
</P></BLOCKQUOTE></DIV><P>&#13; <B CLASS="function">fbsql_query()</B> returns <TT CLASS="constant"><B>TRUE</B></TT> (non-zero) or <TT CLASS="constant"><B>FALSE</B></TT>
to indicate whether or not the query succeeded. A return value
of <TT CLASS="constant"><B>TRUE</B></TT> means that the query was legal and could be executed by
the server. It does not indicate anything about the number of
rows affected or returned. It is perfectly possible for a query
to succeed but affect no rows or return no rows.
</P><P>&#13; The following query is syntactically invalid, so
<B CLASS="function">fbsql_query()</B> fails and returns <TT CLASS="constant"><B>FALSE</B></TT>:
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN26751"></A><P><B>例子 1. <B CLASS="function">fbsql_query()</B> example</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$result </font><font color="#007700">= </font><font color="#0000BB">fbsql_query</font><font color="#007700">(</font><font color="#DD0000">"SELECT * WHERE 1=1"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or die (</font><font color="#DD0000">"Invalid query"</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; The following query is semantically invalid if
<TT CLASS="literal">my_col</TT> is not a column in the table
<TT CLASS="literal">my_tbl</TT>, so <B CLASS="function">fbsql_query()</B>
fails and returns <TT CLASS="constant"><B>FALSE</B></TT>:
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN26760"></A><P><B>例子 2. <B CLASS="function">fbsql_query()</B> example</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$result </font><font color="#007700">= </font><font color="#0000BB">fbsql_query </font><font color="#007700">(</font><font color="#DD0000">"SELECT my_col FROM my_tbl"</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or die (</font><font color="#DD0000">"Invalid query"</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; <B CLASS="function">fbsql_query()</B> will also fail and return
<TT CLASS="constant"><B>FALSE</B></TT> if you don't have permission to access the table(s)
referenced by the query.
</P><P>&#13; Assuming the query succeeds, you can call
<A HREF="function.fbsql-num-rows.html"><B CLASS="function">fbsql_num_rows()</B></A> to find out how many rows
were returned for a SELECT statement or
<A HREF="function.fbsql-affected-rows.html"><B CLASS="function">fbsql_affected_rows()</B></A> to find out how many
rows were affected by a DELETE, INSERT, REPLACE, or UPDATE
statement.
</P><P>&#13; For SELECT statements, <B CLASS="function">fbsql_query()</B> returns a
new result identifier that you can pass to
<A HREF="function.fbsql-result.html"><B CLASS="function">fbsql_result()</B></A>. When you are done with the
result set, you can free the resources associated with it by
calling <A HREF="function.fbsql-free-result.html"><B CLASS="function">fbsql_free_result()</B></A>. Although, the
memory will automatically be freed at the end of the script's
execution.
</P><P>&#13; See also: <A HREF="function.fbsql-affected-rows.html"><B CLASS="function">fbsql_affected_rows()</B></A>,
<A HREF="function.fbsql-db-query.html"><B CLASS="function">fbsql_db_query()</B></A>,
<A HREF="function.fbsql-free-result.html"><B CLASS="function">fbsql_free_result()</B></A>,
<A HREF="function.fbsql-result.html"><B CLASS="function">fbsql_result()</B></A>,
<A HREF="function.fbsql-select-db.html"><B CLASS="function">fbsql_select_db()</B></A>, and
<A HREF="function.fbsql-connect.html"><B CLASS="function">fbsql_connect()</B></A>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.fbsql-pconnect.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.fbsql-read-blob.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">fbsql_pconnect</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.fbsql.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">fbsql_read_blob</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
