<HTML><HEAD><TITLE>pack</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Miscellaneous Functions" HREF="ref.misc.html"><LINK REL="PREVIOUS" TITLE="ignore_user_abort" HREF="function.ignore-user-abort.html"><LINK REL="NEXT" TITLE="show_source" HREF="function.show-source.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.ignore-user-abort.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.show-source.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.pack"></A>pack</H1><DIV CLASS="refnamediv"><A NAME="AEN62488"></A><P> (PHP 3, PHP 4 )</P>pack&nbsp;--&nbsp;Pack data into binary string.</DIV><DIV CLASS="refsect1"><A NAME="AEN62491"></A><H2>Description</H2>string <B CLASS="methodname">pack</B> ( string format [, mixed args])<BR></BR><P>&#13; Pack given arguments into binary string according to
<TT CLASS="parameter"><I>format</I></TT>. Returns binary string containing
data.
</P><P>&#13; The idea to this function was taken from Perl and all formatting
codes work the same as there, however, there are some formatting
codes that are missing such as Perl's "u" format code. The format
string consists of format codes followed by an optional repeater
argument. The repeater argument can be either an integer value or
* for repeating to the end of the input data. For a, A, h, H the
repeat count specifies how many characters of one data argument
are taken, for @ it is the absolute position where to put the
next data, for everything else the repeat count specifies how
many data arguments are consumed and packed into the resulting
binary string. Currently implemented are
</P><P>&#13; <DIV CLASS="table"><A NAME="AEN62506"></A><P><B>表格 1. <B CLASS="function">pack()</B> format characters</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><THEAD><TR><TH ALIGN="LEFT" VALIGN="MIDDLE">Code</TH><TH ALIGN="LEFT" VALIGN="MIDDLE">Description</TH></TR></THEAD><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">a</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">NUL-padded string</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">A</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">SPACE-padded string</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">h</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">Hex string, low nibble first</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">H</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">Hex string, high nibble first</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">c</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">signed char</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">C</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned char</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">s</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">signed short (always 16 bit, machine byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">S</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned short (always 16 bit, machine byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">n</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned short (always 16 bit, big endian byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">v</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned short (always 16 bit, little endian byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">i</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">signed integer (machine dependent size and byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">I</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned integer (machine dependent size and byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">l</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">signed long (always 32 bit, machine byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">L</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned long (always 32 bit, machine byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">N</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned long (always 32 bit, big endian byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">V</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">unsigned long (always 32 bit, little endian byte order)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">f</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">float (machine dependent size and representation)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">d</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">double (machine dependent size and representation)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">x</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">NUL byte</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">X</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">Back up one byte</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">@</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">NUL-fill to absolute position</TD></TR></TBODY></TABLE></DIV>
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN62579"></A><P><B>例子 1. <B CLASS="function">pack()</B> example</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$binarydata </font><font color="#007700">= </font><font color="#0000BB">pack</font><font color="#007700">(</font><font color="#DD0000">"nvc*"</font><font color="#007700">, </font><font color="#0000BB">0x1234</font><font color="#007700">, </font><font color="#0000BB">0x5678</font><font color="#007700">, </font><font color="#0000BB">65</font><font color="#007700">, </font><font color="#0000BB">66</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; The resulting binary string will be 6 bytes long and contain
the byte sequence 0x12, 0x34, 0x78, 0x56, 0x41, 0x42.
</P></DIV></TD></TR></TABLE>
</P><P>&#13; Note that the distinction between signed and unsigned values only
affects the function <A HREF="function.unpack.html"><B CLASS="function">unpack()</B></A>, where as
function <B CLASS="function">pack()</B> gives the same result for
signed and unsigned format codes.
</P><P>&#13; Also note that PHP internally stores <A HREF="language.types.integer.html"><B CLASS="type">integer</B></A> values as
signed values of a machine dependent size. If you give it an unsigned
integer value too large to be stored that way it is converted to a
<A HREF="language.types.float.html"><B CLASS="type">float</B></A> which often yields an undesired result.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.ignore-user-abort.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.show-source.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">ignore_user_abort</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.misc.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">show_source</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
