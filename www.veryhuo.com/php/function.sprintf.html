<HTML><HEAD><TITLE>sprintf</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="字符串处理函数库" HREF="ref.strings.html"><LINK REL="PREVIOUS" TITLE="soundex" HREF="function.soundex.html"><LINK REL="NEXT" TITLE="sscanf" HREF="function.sscanf.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.soundex.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.sscanf.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.sprintf"></A>sprintf</H1><DIV CLASS="refnamediv"><A NAME="AEN109789"></A><P> (PHP 3, PHP 4 )</P>sprintf&nbsp;--&nbsp;Return a formatted string</DIV><DIV CLASS="refsect1"><A NAME="AEN109792"></A><H2>Description</H2>string <B CLASS="methodname">sprintf</B> ( string format [, mixed args])<BR></BR><P>&#13; Returns a string produced according to the formatting string
<TT CLASS="parameter"><I>format</I></TT>.
</P><P>&#13; The format string is composed of zero or more directives:
ordinary characters (excluding <TT CLASS="literal">%</TT>) that are
copied directly to the result, and <SPAN CLASS="emphasis"><I CLASS="emphasis">conversion
specifications</I></SPAN>, each of which results in fetching its
own parameter. This applies to both <B CLASS="function">sprintf()</B>
and <A HREF="function.printf.html"><B CLASS="function">printf()</B></A>.
</P><P>&#13; Each conversion specification consists of a percent sign
(<TT CLASS="literal">%</TT>), followed by one or more of these
elements, in order:
<P></P><OL TYPE="1"><LI><P>&#13; An optional <SPAN CLASS="emphasis"><I CLASS="emphasis">padding specifier</I></SPAN> that says
what character will be used for padding the results to the
right string size. This may be a space character or a
<TT CLASS="literal">0</TT> (zero character). The default is to pad
with spaces. An alternate padding character can be specified
by prefixing it with a single quote (<TT CLASS="literal">'</TT>).
See the examples below.
</P></LI><LI><P>&#13; An optional <SPAN CLASS="emphasis"><I CLASS="emphasis">alignment specifier</I></SPAN> that says
if the result should be left-justified or right-justified.
The default is right-justified; a <TT CLASS="literal">-</TT>
character here will make it left-justified.
</P></LI><LI><P>&#13; An optional number, a <SPAN CLASS="emphasis"><I CLASS="emphasis">width specifier</I></SPAN>
that says how many characters (minimum) this conversion should
result in.
</P></LI><LI><P>&#13; An optional <SPAN CLASS="emphasis"><I CLASS="emphasis">precision specifier</I></SPAN> that says
how many decimal digits should be displayed for floating-point
numbers. This option has no effect for other types than
<A HREF="language.types.float.html"><B CLASS="type">float</B></A>. (Another function useful for formatting numbers is
<A HREF="function.number-format.html"><B CLASS="function">number_format()</B></A>.)
</P></LI><LI><P>&#13; A <SPAN CLASS="emphasis"><I CLASS="emphasis">type specifier</I></SPAN> that says what type the
argument data should be treated as. Possible types:
<P></P><TABLE BORDER="0"><TBODY><TR><TD>&#13; <TT CLASS="literal">%</TT> - a literal percent character. No
argument is required.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">b</TT> - the argument is treated as an
integer, and presented as a binary number.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">c</TT> - the argument is treated as an
integer, and presented as the character with that ASCII
value.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">d</TT> - the argument is treated as an
integer, and presented as a (signed) decimal number.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">u</TT> - the argument is treated as an
integer, and presented as an unsigned decimal number.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">f</TT> - the argument is treated as a
<A HREF="language.types.float.html"><B CLASS="type">float</B></A>, and presented as a floating-point number.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">o</TT> - the argument is treated as an
integer, and presented as an octal number.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">s</TT> - the argument is treated as and
presented as a string.
</TD></TR><TR><TD>&#13; <TT CLASS="literal">x</TT> - the argument is treated as an integer
and presented as a hexadecimal number (with lowercase
letters).
</TD></TR><TR><TD>&#13; <TT CLASS="literal">X</TT> - the argument is treated as an integer
and presented as a hexadecimal number (with uppercase
letters).
</TD></TR></TBODY></TABLE><P></P>
</P></LI></OL>
</P><P>&#13; As of PHP 4.0.6 the format string supports argument
numbering/swapping. Here is an example:
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN109856"></A><P><B>例子 1. Argument swapping</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$format </font><font color="#007700">= </font><font color="#DD0000">"There are %d monkeys in the %s"</font><font color="#007700">;<br /></font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#0000BB">$format</font><font color="#007700">, </font><font color="#0000BB">$num</font><font color="#007700">, </font><font color="#0000BB">$location</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
This might output, "There are 5 monkeys in the tree". But
imagine we are creating a format string in a separate file,
commonly because we would like to internationalize it and we
rewrite it as:
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN109859"></A><P><B>例子 2. Argument swapping</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$format </font><font color="#007700">= </font><font color="#DD0000">"The %s contains %d monkeys"</font><font color="#007700">;<br /></font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#0000BB">$format</font><font color="#007700">, </font><font color="#0000BB">$num</font><font color="#007700">, </font><font color="#0000BB">$location</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
We now have a problem. The order of the placeholders in the
format string does not match the order of the arguments in the
code. We would like to leave the code as is and simply indicate
in the format string which arguments the placeholders refer to.
We would write the format string like this instead:
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN109862"></A><P><B>例子 3. Argument swapping</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$format </font><font color="#007700">= </font><font color="#DD0000">"The %2\$s contains %1\$d monkeys"</font><font color="#007700">;<br /></font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#0000BB">$format</font><font color="#007700">, </font><font color="#0000BB">$num</font><font color="#007700">, </font><font color="#0000BB">$location</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
An added benefit here is that you can repeat the placeholders without
adding more arguments in the code. For example:
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN109865"></A><P><B>例子 4. Argument swapping</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$format </font><font color="#007700">= </font><font color="#DD0000">"The %2\$s contains %1\$d monkeys.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;That's a nice %2\$s full of %1\$d monkeys."</font><font color="#007700">;<br /></font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#0000BB">$format</font><font color="#007700">, </font><font color="#0000BB">$num</font><font color="#007700">, </font><font color="#0000BB">$location</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; See also <A HREF="function.printf.html"><B CLASS="function">printf()</B></A>,
<A HREF="function.sscanf.html"><B CLASS="function">sscanf()</B></A>, <A HREF="function.fscanf.html"><B CLASS="function">fscanf()</B></A>,
<A HREF="function.vsprintf.html"><B CLASS="function">vsprintf()</B></A>, and
<A HREF="function.number-format.html"><B CLASS="function">number_format()</B></A>.
</P></DIV><DIV CLASS="refsect1"><A NAME="AEN109874"></A><H2>Examples</H2><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN109877"></A><P><B>例子 5. <B CLASS="function">sprintf()</B>: zero-padded integers</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$isodate </font><font color="#007700">= </font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%04d-%02d-%02d"</font><font color="#007700">, </font><font color="#0000BB">$year</font><font color="#007700">, </font><font color="#0000BB">$month</font><font color="#007700">, </font><font color="#0000BB">$day</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN109881"></A><P><B>例子 6. <B CLASS="function">sprintf()</B>: formatting currency</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$money1 </font><font color="#007700">= </font><font color="#0000BB">68.75</font><font color="#007700">;<br /></font><font color="#0000BB">$money2 </font><font color="#007700">= </font><font color="#0000BB">54.35</font><font color="#007700">;<br /></font><font color="#0000BB">$money </font><font color="#007700">= </font><font color="#0000BB">$money1 </font><font color="#007700">+ </font><font color="#0000BB">$money2</font><font color="#007700">;<br /></font><font color="#FF8000">// echo $money will output "123.1";<br /></font><font color="#0000BB">$formatted </font><font color="#007700">= </font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%01.2f"</font><font color="#007700">, </font><font color="#0000BB">$money</font><font color="#007700">);<br /></font><font color="#FF8000">// echo $formatted will output "123.10"<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.soundex.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.sscanf.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">soundex</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.strings.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">sscanf</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
