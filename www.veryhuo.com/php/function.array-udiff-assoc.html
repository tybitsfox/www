<HTML><HEAD><TITLE>array_udiff_assoc</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="数组函数库" HREF="ref.array.html"><LINK REL="PREVIOUS" TITLE="array_sum" HREF="function.array-sum.html"><LINK REL="NEXT" TITLE="array_udiff_uassoc" HREF="function.array-udiff-uassoc.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.array-sum.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.array-udiff-uassoc.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.array-udiff-assoc"></A>array_udiff_assoc</H1><DIV CLASS="refnamediv"><A NAME="AEN9215"></A><P> (no version information, might be only in CVS)</P>array_udiff_assoc&nbsp;--&nbsp;Computes the difference of arrays with additional index check. The data is compared by using a callback function.</DIV><DIV CLASS="refsect1"><A NAME="AEN9218"></A><H2>Description</H2>array <B CLASS="methodname">array_udiff_assoc</B> ( array array1, array array2 [, array ..., callback data_compare_func])<BR></BR><P>&#13; <B CLASS="function">array_udiff_assoc()</B> returns an <A HREF="language.types.array.html"><B CLASS="type">array</B></A>
containing all the values from <TT CLASS="parameter"><I>array1</I></TT>
that are not present in any of the other arguments.
Note that the keys are used in the comparison unlike
<A HREF="function.array-diff.html"><B CLASS="function">array_diff()</B></A> and <A HREF="function.array-udiff.html"><B CLASS="function">array_udiff()</B></A>.
The comparison of arrays' data is performed by using an user-supplied
callback. In this aspect the behaviour is opposite to the behaviour of
<A HREF="function.array-diff-assoc.html"><B CLASS="function">array_diff_assoc()</B></A> which uses internal function for
comparison.
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN9243"></A><P><B>例子 1. <B CLASS="function">array_udiff_assoc()</B> example</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">class </font><font color="#0000BB">cr </font><font color="#007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">private $priv_member</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">$val</font><font color="#007700">) <br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">priv_member </font><font color="#007700">= </font><font color="#0000BB">$val</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">comp_func_cr</font><font color="#007700">(</font><font color="#0000BB">$a</font><font color="#007700">, </font><font color="#0000BB">$b</font><font color="#007700">) <br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</font><font color="#0000BB">$a</font><font color="#007700">-&gt;</font><font color="#0000BB">priv_member </font><font color="#007700">=== </font><font color="#0000BB">$b</font><font color="#007700">-&gt;</font><font color="#0000BB">priv_member</font><font color="#007700">) return </font><font color="#0000BB">0</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (</font><font color="#0000BB">$a</font><font color="#007700">-&gt;</font><font color="#0000BB">priv_member </font><font color="#007700">&gt; </font><font color="#0000BB">$b</font><font color="#007700">-&gt;</font><font color="#0000BB">priv_member</font><font color="#007700">)? </font><font color="#0000BB">1</font><font color="#007700">:-</font><font color="#0000BB">1</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></font><font color="#0000BB">$a </font><font color="#007700">= array(</font><font color="#DD0000">"0.1" </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">9</font><font color="#007700">), </font><font color="#DD0000">"0.5" </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">12</font><font color="#007700">), </font><font color="#0000BB">0 </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">23</font><font color="#007700">), </font><font color="#0000BB">1</font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">4</font><font color="#007700">), </font><font color="#0000BB">2 </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(-</font><font color="#0000BB">15</font><font color="#007700">),);<br /></font><font color="#0000BB">$b </font><font color="#007700">= array(</font><font color="#DD0000">"0.2" </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">9</font><font color="#007700">), </font><font color="#DD0000">"0.5" </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">22</font><font color="#007700">), </font><font color="#0000BB">0 </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">3</font><font color="#007700">), </font><font color="#0000BB">1</font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(</font><font color="#0000BB">4</font><font color="#007700">), </font><font color="#0000BB">2 </font><font color="#007700">=&gt; new </font><font color="#0000BB">cr</font><font color="#007700">(-</font><font color="#0000BB">15</font><font color="#007700">),);<br /><br /></font><font color="#0000BB">$result </font><font color="#007700">= </font><font color="#0000BB">array_udiff_assoc</font><font color="#007700">(</font><font color="#0000BB">$a</font><font color="#007700">, </font><font color="#0000BB">$b</font><font color="#007700">, array(</font><font color="#DD0000">"cr"</font><font color="#007700">, </font><font color="#DD0000">"comp_func_cr"</font><font color="#007700">));<br /></font><font color="#0000BB">print_r</font><font color="#007700">(</font><font color="#0000BB">$result</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; The result is:
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Array
(
    [0.1] =&#62; cr Object
        (
            [priv_member:private] =&#62; 9
        )

    [0.5] =&#62; cr Object
        (
            [priv_member:private] =&#62; 12
        )

    [0] =&#62; cr Object
        (
            [priv_member:private] =&#62; 23
        )
)</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; In our example above you see the <TT CLASS="literal">"1" =&#62; new cr(4)</TT>
pair is present in both arrays and thus it is not in the ouput from the
function.
</P><P>&#13; For comparison is used the user supplied callback function.
It must return an integer less than, equal
to, or greater than zero if the first argument is considered to
be respectively less than, equal to, or greater than the
second.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
Please note that this function only checks one dimension of a n-dimensional
array. Of course you can check deeper dimensions by using, for example,
<TT CLASS="literal">array_udiff_assoc($array1[0], $array2[0], "some_comparison_func");</TT>.
</P></BLOCKQUOTE></DIV><P>&#13; See also
<A HREF="function.array-diff.html"><B CLASS="function">array_diff()</B></A>,
<A HREF="function.array-diff-assoc.html"><B CLASS="function">array_diff_assoc()</B></A>,
<A HREF="function.array-diff-uassoc.html"><B CLASS="function">array_diff_uassoc()</B></A>,
<A HREF="function.array-udiff.html"><B CLASS="function">array_udiff()</B></A>,
<A HREF="function.array-udiff-uassoc.html"><B CLASS="function">array_udiff_uassoc()</B></A>,
<A HREF="function.array-intersect.html"><B CLASS="function">array_intersect()</B></A>,
<A HREF="function.array-intersect-assoc.html"><B CLASS="function">array_intersect_assoc()</B></A>,
<B CLASS="function">array_uintersect()</B>,
<B CLASS="function">array_uintersect_assoc()</B> and
<B CLASS="function">array_uintersect_uassoc()</B>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.array-sum.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.array-udiff-uassoc.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">array_sum</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.array.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">array_udiff_uassoc</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
