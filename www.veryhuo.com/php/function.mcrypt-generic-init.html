<HTML><HEAD><TITLE>mcrypt_generic_init</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Mcrypt Encryption Functions" HREF="ref.mcrypt.html"><LINK REL="PREVIOUS" TITLE="mcrypt_generic_end" HREF="function.mcrypt-generic-end.html"><LINK REL="NEXT" TITLE="mcrypt_generic" HREF="function.mcrypt-generic.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.mcrypt-generic-end.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.mcrypt-generic.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.mcrypt-generic-init"></A>mcrypt_generic_init</H1><DIV CLASS="refnamediv"><A NAME="AEN54535"></A><P> (PHP 4 &#62;= 4.0.2)</P>mcrypt_generic_init&nbsp;--&nbsp;This function initializes all buffers needed for encryption</DIV><DIV CLASS="refsect1"><A NAME="AEN54538"></A><H2>Description</H2>int <B CLASS="methodname">mcrypt_generic_init</B> ( resource td, string key, string iv)<BR></BR><P>&#13; The maximum length of the key should be the one obtained by
calling <A HREF="function.mcrypt-enc-get-key-size.html"><B CLASS="function">mcrypt_enc_get_key_size()</B></A> and every
value smaller than this is legal. The IV should normally have
the size of the algorithms block size, but you must obtain the
size by calling <A HREF="function.mcrypt-enc-get-iv-size.html"><B CLASS="function">mcrypt_enc_get_iv_size()</B></A>.
IV is ignored in ECB. IV MUST exist in CFB, CBC, STREAM, nOFB
and OFB modes. It needs to be random and unique (but not secret).
The same IV must be used for encryption/decryption. If you do not
want to use it you should set it to zeros, but this is not
recommended.
</P><P>&#13; The function returns a negative value on error, -3 when the key length
was incorrect, -4 when there was a memory allocation problem and any
other return value is an unknown error. If an error occurs a warning will
be displayed accordingly.
</P><P>&#13; You need to call this function before every call to
<A HREF="function.mcrypt-generic.html"><B CLASS="function">mcrypt_generic()</B></A> or
<A HREF="function.mdecrypt-generic.html"><B CLASS="function">mdecrypt_generic()</B></A>.
</P><P>&#13; See for an example <A HREF="function.mcrypt-module-open.html"><B CLASS="function">mcrypt_module_open()</B></A>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.mcrypt-generic-end.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.mcrypt-generic.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">mcrypt_generic_end</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.mcrypt.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">mcrypt_generic</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
