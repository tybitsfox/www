<HTML><HEAD><TITLE>mysqli_connect</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Improved MySQL Extension" HREF="ref.mysqli.html"><LINK REL="PREVIOUS" TITLE="mysqli_connect_error" HREF="function.mysqli-connect-error.html"><LINK REL="NEXT" TITLE="mysqli_data_seek" HREF="function.mysqli-data-seek.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.mysqli-connect-error.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.mysqli-data-seek.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.mysqli-connect"></A>mysqli_connect</H1><DIV CLASS="refnamediv"><A NAME="AEN67727"></A><P> (PHP 5 CVS only)</P>mysqli_connect<P> (no version information, might be only in CVS)</P>mysqli()&nbsp;--&nbsp;Open a new connection to the MySQL server</DIV><DIV CLASS="refsect1"><A NAME="AEN67731"></A><H2>Description</H2><P>Procedural style</P>object <B CLASS="methodname">mysqli_connect</B> ( [string hostname [, string username [, string passwd [, string dbname [, int port [, string socket]]]]]])<BR></BR><P>Object oriented style (constructor):</P>class <B CLASS="classname">mysqli</B> { <BR></BR><B CLASS="methodname">__construct</B> ( [string hostname [, string username [, string passwd [, string dbname [, int port [, string socket]]]]]])<BR></BR>}<P>&#13; The <B CLASS="function">mysqli_connect()</B> function attempts to open a connection to the MySQL Server
running on <TT CLASS="parameter"><I>hostname</I></TT> which can be either a host name or an IP address. Passing the
<TT CLASS="constant"><B>NULL</B></TT> value or the string "localhost" to this parameter, the local host is assumed. When possible,
pipes will be used instead of the TCP/IP protocol. If successful, the <B CLASS="function">mysqli_connect()</B>
will return an object representing the connection to the database, or <TT CLASS="constant"><B>FALSE</B></TT> on failure.
</P><P>&#13; The <TT CLASS="parameter"><I>username</I></TT> and <TT CLASS="parameter"><I>password</I></TT> parameters specify the
username and password under which to connect to the MySQL server. If the password is not provided
(the <TT CLASS="constant"><B>NULL</B></TT> value is passed), the MySQL server will attempt to authenticate the user against those
user records which have no password only. This allows one username to be used with different
permissions (depending on if a password as provided or not).
</P><P>&#13; The <TT CLASS="parameter"><I>dbname</I></TT> parameter if provided will specify the default database to be
used when performing queries.
</P><P>&#13; The <TT CLASS="parameter"><I>port</I></TT> and <TT CLASS="parameter"><I>socket</I></TT> parameters are used in
conjunction with the <TT CLASS="parameter"><I>hostname</I></TT> parameter to further control how to connect
to the database server. The <TT CLASS="parameter"><I>port</I></TT> parameter specifies the port number to
attempt to connect to the MySQL server on, while the <TT CLASS="parameter"><I>socket</I></TT> parameter
specifies the socket or named pipe that should be used.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
Specifying the <TT CLASS="parameter"><I>socket</I></TT> parameter will not explicitly determine the type
of connection to be used when connecting to the MySQL server. How the connection is made to the
MySQL database is determined by the <TT CLASS="parameter"><I>hostname</I></TT> parameter.
</P></BLOCKQUOTE></DIV></DIV><DIV CLASS="refsect1"><A NAME="AEN67801"></A><H2>Return values</H2><P>&#13; Returns a object which represents the connection to a MySQL Server or
<TT CLASS="constant"><B>FALSE</B></TT> if the connection failed.
</P></DIV><DIV CLASS="refsect1"><A NAME="AEN67805"></A><H2>Example</H2><TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN67807"></A><P><B>例子 1. Object oriented style</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$mysqli </font><font color="#007700">= new </font><font color="#0000BB">mysqli</font><font color="#007700">(</font><font color="#DD0000">"localhost"</font><font color="#007700">, </font><font color="#DD0000">"my_user"</font><font color="#007700">, </font><font color="#DD0000">"my_password"</font><font color="#007700">, </font><font color="#DD0000">"world"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* check connection */ <br /></font><font color="#007700">if (</font><font color="#0000BB">mysqli_connect_errno</font><font color="#007700">()) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Connect failed: %s\n"</font><font color="#007700">, </font><font color="#0000BB">mysqli_connect_error</font><font color="#007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Host information: %s\n"</font><font color="#007700">, </font><font color="#0000BB">$mysqli</font><font color="#007700">-&gt;</font><font color="#0000BB">host_info</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* close connection */<br /></font><font color="#0000BB">$mysqli</font><font color="#007700">-&gt;</font><font color="#0000BB">close</font><font color="#007700">();<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE><TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN67810"></A><P><B>例子 2. Procedural style</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$link </font><font color="#007700">= </font><font color="#0000BB">mysqli_connect</font><font color="#007700">(</font><font color="#DD0000">"localhost"</font><font color="#007700">, </font><font color="#DD0000">"my_user"</font><font color="#007700">, </font><font color="#DD0000">"my_password"</font><font color="#007700">, </font><font color="#DD0000">"world"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* check connection */ <br /></font><font color="#007700">if (!</font><font color="#0000BB">$link</font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Connect failed: %s\n"</font><font color="#007700">, </font><font color="#0000BB">mysqli_connect_error</font><font color="#007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Host information: %s\n"</font><font color="#007700">, </font><font color="#0000BB">mysqli_get_host_info</font><font color="#007700">(</font><font color="#0000BB">$link</font><font color="#007700">));<br /><br /></font><font color="#FF8000">/* close connection */<br /></font><font color="#0000BB">mysqli_close</font><font color="#007700">(</font><font color="#0000BB">$link</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE><P>&#13; The above examples would produce the following output:
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Host information: Localhost via UNIX socket</PRE></TD></TR></TABLE></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.mysqli-connect-error.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.mysqli-data-seek.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">mysqli_connect_error</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.mysqli.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">mysqli_data_seek</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
