<HTML><HEAD><TITLE>pcntl_waitpid</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Process Control Functions" HREF="ref.pcntl.html"><LINK REL="PREVIOUS" TITLE="pcntl_wait" HREF="function.pcntl-wait.html"><LINK REL="NEXT" TITLE="pcntl_wexitstatus" HREF="function.pcntl-wexitstatus.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.pcntl-wait.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.pcntl-wexitstatus.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.pcntl-waitpid"></A>pcntl_waitpid</H1><DIV CLASS="refnamediv"><A NAME="AEN93296"></A><P> (PHP 4 &#62;= 4.1.0)</P>pcntl_waitpid&nbsp;--&nbsp;Waits on or returns the status of a forked child</DIV><DIV CLASS="refsect1"><A NAME="AEN93299"></A><H2>Description</H2>int <B CLASS="methodname">pcntl_waitpid</B> ( int pid, int &#38;status, int options)<BR></BR><P>&#13; The <B CLASS="function">pcntl_waitpid()</B> function suspends execution
of the current process until a child as specified by the
<TT CLASS="parameter"><I>pid</I></TT> argument has exited, or until a signal
is delivered whose action is to terminate the current process or
to call a signal handling function. If a child as requested by
<TT CLASS="parameter"><I>pid</I></TT> has already exited by the time of the
call (a so-called "zombie" process), the function returns
immediately. Any system resources used by the child are
freed. Please see your system's waitpid(2) man page for specific
details as to how waitpid works on your system.
</P><P>&#13; <B CLASS="function">pcntl_waitpid()</B> returns the process ID of the
child which exited, -1 on error or zero if WNOHANG was used and no
child was available
</P><P>&#13; The value of <TT CLASS="parameter"><I>pid</I></TT> can be one of the following:
<DIV CLASS="table"><A NAME="AEN93321"></A><P><B>表格 1. possible values for <TT CLASS="parameter"><I>pid</I></TT></B></P><TABLE BORDER="1" CLASS="CALSTABLE"><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">&#60; -1</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; wait for any child process whose process group ID is equal to
the absolute value of <TT CLASS="parameter"><I>pid</I></TT>.
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">-1</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; wait for any child process; this is the same behaviour that
the wait function exhibits.
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">0</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; wait for any child process whose process group ID is equal to
that of the calling process.
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">&#62; 0</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; wait for the child whose process ID is equal to the value of
<TT CLASS="parameter"><I>pid</I></TT>.
</TD></TR></TBODY></TABLE></DIV>
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
Specifying <TT CLASS="literal">-1</TT> as the <TT CLASS="parameter"><I>pid</I></TT> is
equivalent to the functionality <A HREF="function.pcntl-wait.html"><B CLASS="function">pcntl_wait()</B></A> provides
(minus <TT CLASS="parameter"><I>options</I></TT>).
</P></BLOCKQUOTE></DIV><P>&#13; <B CLASS="function">pcntl_waitpid()</B> will store status information
in the <TT CLASS="parameter"><I>status</I></TT> parameter which can be
evaluated using the following functions:
<A HREF="function.pcntl-wifexited.html"><B CLASS="function">pcntl_wifexited()</B></A>,
<A HREF="function.pcntl-wifstopped.html"><B CLASS="function">pcntl_wifstopped()</B></A>,
<A HREF="function.pcntl-wifsignaled.html"><B CLASS="function">pcntl_wifsignaled()</B></A>,
<A HREF="function.pcntl-wexitstatus.html"><B CLASS="function">pcntl_wexitstatus()</B></A>,
<A HREF="function.pcntl-wtermsig.html"><B CLASS="function">pcntl_wtermsig()</B></A> and
<A HREF="function.pcntl-wstopsig.html"><B CLASS="function">pcntl_wstopsig()</B></A>.
</P><P>&#13; The value of <TT CLASS="parameter"><I>options</I></TT> is the value of zero
or more of the following two global constants
<TT CLASS="literal">OR</TT>'ed together:
<DIV CLASS="table"><A NAME="AEN93362"></A><P><B>表格 2. possible values for <TT CLASS="parameter"><I>options</I></TT></B></P><TABLE BORDER="1" CLASS="CALSTABLE"><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">WNOHANG</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; return immediately if no child has exited.
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">WUNTRACED</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; return for children which are stopped, and whose status has
not been reported.
</TD></TR></TBODY></TABLE></DIV>
</P><P>&#13; See also <A HREF="function.pcntl-fork.html"><B CLASS="function">pcntl_fork()</B></A>,
<A HREF="function.pcntl-signal.html"><B CLASS="function">pcntl_signal()</B></A>,
<A HREF="function.pcntl-wifexited.html"><B CLASS="function">pcntl_wifexited()</B></A>,
<A HREF="function.pcntl-wifstopped.html"><B CLASS="function">pcntl_wifstopped()</B></A>,
<A HREF="function.pcntl-wifsignaled.html"><B CLASS="function">pcntl_wifsignaled()</B></A>,
<A HREF="function.pcntl-wexitstatus.html"><B CLASS="function">pcntl_wexitstatus()</B></A>,
<A HREF="function.pcntl-wtermsig.html"><B CLASS="function">pcntl_wtermsig()</B></A> and
<A HREF="function.pcntl-wstopsig.html"><B CLASS="function">pcntl_wstopsig()</B></A>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.pcntl-wait.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.pcntl-wexitstatus.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">pcntl_wait</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.pcntl.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">pcntl_wexitstatus</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
