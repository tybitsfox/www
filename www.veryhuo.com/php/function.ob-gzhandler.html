<HTML><HEAD><TITLE>ob_gzhandler</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="输出控制函数" HREF="ref.outcontrol.html"><LINK REL="PREVIOUS" TITLE="ob_get_status" HREF="function.ob-get-status.html"><LINK REL="NEXT" TITLE="ob_implicit_flush" HREF="function.ob-implicit-flush.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.ob-get-status.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.ob-implicit-flush.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.ob-gzhandler"></A>ob_gzhandler</H1><DIV CLASS="refnamediv"><A NAME="AEN84171"></A><P> (PHP 4 &#62;= 4.0.4)</P>ob_gzhandler&nbsp;--&nbsp;
ob_start callback function to gzip output buffer
</DIV><DIV CLASS="refsect1"><A NAME="AEN84174"></A><H2>Description</H2>string <B CLASS="methodname">ob_gzhandler</B> ( string buffer [, int mode])<BR></BR><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
<TT CLASS="parameter"><I>mode</I></TT> was added in PHP 4.0.5.
</P></BLOCKQUOTE></DIV><P>&#13; <B CLASS="function">ob_gzhandler()</B> is intended to be used as a
callback function for <A HREF="function.ob-start.html"><B CLASS="function">ob_start()</B></A> to help
facilitate sending gz-encoded data to web browsers that support
compressed web pages. Before <B CLASS="function">ob_gzhandler()</B>
actually sends compressed data, it determines what type of
content encoding the browser will accept ("gzip", "deflate" or
none at all) and will return its output accordingly. All
browsers are supported since it's up to the browser to send the
correct header saying that it accepts compressed web pages.
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN84193"></A><P><B>例子 1. <B CLASS="function">ob_gzhandler()</B> Example</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />ob_start</font><font color="#007700">(</font><font color="#DD0000">"ob_gzhandler"</font><font color="#007700">);<br /><br /></font><font color="#0000BB">?&gt;<br /></font>&lt;html&gt;<br />&lt;body&gt;<br />&lt;p&gt;This should be a compressed page.<br />&lt;/html&gt;<br />&lt;body&gt;</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; See also <A HREF="function.ob-start.html"><B CLASS="function">ob_start()</B></A> and
<A HREF="function.ob-end-flush.html"><B CLASS="function">ob_end_flush()</B></A>.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
You cannot use both <B CLASS="function">ob_gzhandler()</B> and
<A HREF="ref.zlib.html#ini.zlib.output-compression">&#13; ini.zlib.output_compression</A>. Also note that
using <A HREF="ref.zlib.html#ini.zlib.output-compression">&#13; ini.zlib.output_compression</A> is preferred over
<B CLASS="function">ob_gzhandler()</B>.
</P></BLOCKQUOTE></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.ob-get-status.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.ob-implicit-flush.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">ob_get_status</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.outcontrol.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">ob_implicit_flush</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
