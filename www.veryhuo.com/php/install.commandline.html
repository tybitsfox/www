<HTML><HEAD><TITLE>Servers-CGI/命令行</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="安装" HREF="installation.html"><LINK REL="PREVIOUS" TITLE="Windows 系统下的安装" HREF="install.windows.html"><LINK REL="NEXT" TITLE="Apache 服务器 1.x 版本" HREF="install.apache.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="sect1" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="install.windows.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom">章 3. 安装</TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="install.apache.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV CLASS="sect1"><H1 CLASS="sect1"><A NAME="install.commandline"></A>Servers-CGI/命令行</H1><P>&#13; 默认为将 PHP 编译为 CGI 程序。这将建立一个命令行解释器，可用于
CGI 处理或非 web 相关的 PHP 脚本。如果你运行着一个 PHP
模块支持的 webserver，那通常为性能考虑应该使用模块方式。不过，CGI
版可以使 Apache 用户用不同的 user-id 运行不同的 PHP 页面。如果你要以
CGI 方式运行 PHP 请确保阅读过了<A HREF="security.index.html">安全</A>一章。
</P><P>&#13; 自 PHP 4.3.0 起，PHP 有了一些重要的新增功能。又有了一个新的 SAPI
称为 CLI，和 CGI 程序同名。根据配置选项它安装在
<TT CLASS="literal">{PREFIX}/bin/php</TT>，并在手册中<A HREF="features.commandline.html">PHP
的命令行模式</A>一章中有详细说明。更多细节请阅读该章节。
</P><DIV CLASS="sect2"><H2 CLASS="sect2"><A NAME="install.commandline.testing"></A>测试</H2><P>&#13; 如果将 PHP 编译为 CGI 程序，可以通过键入 <B CLASS="command">make test</B>
来测试你的编译。测试一下编译永远是个好主意。这样就可以在你的平台上及早捕捉到
PHP 的问题而不是以后再艰难地解决。
</P></DIV><DIV CLASS="sect2"><H2 CLASS="sect2"><A NAME="install.commandline.benchmarking"></A>基准测试</H2><P>&#13; 如果将 PHP 3 编译为 CGI 程序，可以通过键入 <B CLASS="command">make bench</B>
来进行一下性能的基准测试。注意如果默认打开了<A HREF="features.safe-mode.html#ini.safe-mode">安全模式</A>，则如果超过
30 秒的允许范围测试可能不能完成。这是因为
<A HREF="function.set-time-limit.html"><B CLASS="function">set_time_limit()</B></A> 不能用于<A HREF="features.safe-mode.html#ini.safe-mode">安全模式</A>。用 <A HREF="ref.info.html#ini.max-execution-time">max_execution_time</A>
配置选项来为你自己的脚本控制此时间限制。<B CLASS="command">make bench</B>
会忽略<A HREF="configuration.html#configuration.file">配置文件</A>。
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
<B CLASS="command">make bench</B> 仅能用于 PHP 3。
</P></BLOCKQUOTE></DIV></DIV><DIV CLASS="sect2"><H2 CLASS="sect2"><A NAME="install.commandline.using-variables"></A>使用变量</H2><P>&#13; 某些服务器提供的环境变量没有定义在当前的
<A HREF="http://hoohoo.ncsa.uiuc.edu/cgi/env.html" TARGET="_top">CGI/1.1 标准</A>中。只有下列变量定义在其中，其它的都会被当作
'vendor extensions'：AUTH_TYPE, CONTENT_LENGTH, CONTENT_TYPE,
GATEWAY_INTERFACE, PATH_INFO, PATH_TRANSLATED, QUERY_STRING,
REMOTE_ADDR, REMOTE_HOST, REMOTE_IDENT, REMOTE_USER,
REQUEST_METHOD, SCRIPT_NAME, SERVER_NAME, SERVER_PORT,
SERVER_PROTOCOL 和 SERVER_SOFTWARE。
</P></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="install.windows.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="install.apache.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">Windows 系统下的安装</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="installation.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">Apache 服务器 1.x 版本</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
