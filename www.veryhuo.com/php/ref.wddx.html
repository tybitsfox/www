<HTML><HEAD><TITLE>WDDX Functions</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="函数参考" HREF="funcref.html"><LINK REL="PREVIOUS" TITLE="w32api_set_call_method" HREF="function.w32api-set-call-method.html"><LINK REL="NEXT" TITLE="wddx_add_vars" HREF="function.wddx-add-vars.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="reference" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.w32api-set-call-method.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.wddx-add-vars.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV CLASS="reference"><A NAME="ref.wddx"></A><DIV CLASS="TITLEPAGE"><H1 CLASS="title">CXV. WDDX Functions</H1><DIV CLASS="PARTINTRO"><A NAME="AEN116929"></A><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.intro"></A>介绍</H1><P>&#13; These functions are intended for work with <A HREF="http://www.openwddx.org/" TARGET="_top">WDDX</A>.
</P></DIV><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.requirements"></A>需求</H1><P>&#13; In order to use WDDX, you will need to install the expat library
(which comes with Apache 1.3.7 or higher).
</P></DIV><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.installation"></A>安装</H1><P>&#13; After installing expat compile PHP with
<TT CLASS="option">--enable-wddx</TT>.
</P><P> <TT CLASS="literal">PHP</TT> 的 Windows 版本已经内置该扩展模块的支持。您无需加载任何附加的扩展库即可使用这些函数。</P></DIV><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.configuration"></A>运行时配置</H1><P>该扩展模块未定义任何设置指令。</P></DIV><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.resources"></A>资源类型</H1><P>该扩展模块未定义任何资源类型。</P></DIV><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.constants"></A>预定义常量</H1><P>该扩展模块未定义任何常量。</P></DIV><DIV CLASS="section"><H1 CLASS="section"><A NAME="wddx.examples"></A>范例</H1><P>&#13; All the functions that serialize variables use the first
element of an array to determine whether the array is to be
serialized into an array or structure. If the first element has
string key, then it is serialized into a structure, otherwise,
into an array.
</P><TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN116955"></A><P><B>例子 1. Serializing a single value with WDDX</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">echo </font><font color="#0000BB">wddx_serialize_value</font><font color="#007700">(</font><font color="#DD0000">"PHP to WDDX packet example"</font><font color="#007700">, </font><font color="#DD0000">"PHP packet"</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; This example will produce:
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">&#60;wddxPacket version='1.0'&#62;&#60;header comment='PHP packet'/&#62;&#60;data&#62;
&#60;string&#62;PHP to WDDX packet example&#60;/string&#62;&#60;/data&#62;&#60;/wddxPacket&#62;</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE><TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN116960"></A><P><B>例子 2. Using incremental packets with WDDX</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$pi </font><font color="#007700">= </font><font color="#0000BB">3.1415926</font><font color="#007700">;<br /></font><font color="#0000BB">$packet_id </font><font color="#007700">= </font><font color="#0000BB">wddx_packet_start</font><font color="#007700">(</font><font color="#DD0000">"PHP"</font><font color="#007700">);<br /></font><font color="#0000BB">wddx_add_vars</font><font color="#007700">(</font><font color="#0000BB">$packet_id</font><font color="#007700">, </font><font color="#DD0000">"pi"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* Suppose $cities came from database */<br /></font><font color="#0000BB">$cities </font><font color="#007700">= array(</font><font color="#DD0000">"Austin"</font><font color="#007700">, </font><font color="#DD0000">"Novato"</font><font color="#007700">, </font><font color="#DD0000">"Seattle"</font><font color="#007700">);<br /></font><font color="#0000BB">wddx_add_vars</font><font color="#007700">(</font><font color="#0000BB">$packet_id</font><font color="#007700">, </font><font color="#DD0000">"cities"</font><font color="#007700">);<br /><br /></font><font color="#0000BB">$packet </font><font color="#007700">= </font><font color="#0000BB">wddx_packet_end</font><font color="#007700">(</font><font color="#0000BB">$packet_id</font><font color="#007700">);<br />echo </font><font color="#0000BB">$packet</font><font color="#007700">;<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; This example will produce:
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">&#60;wddxPacket version='1.0'&#62;&#60;header comment='PHP'/&#62;&#60;data&#62;&#60;struct&#62;
&#60;var name='pi'&#62;&#60;number&#62;3.1415926&#60;/number&#62;&#60;/var&#62;&#60;var name='cities'&#62;
&#60;array length='3'&#62;&#60;string&#62;Austin&#60;/string&#62;&#60;string&#62;Novato&#60;/string&#62;
&#60;string&#62;Seattle&#60;/string&#62;&#60;/array&#62;&#60;/var&#62;&#60;/struct&#62;&#60;/data&#62;&#60;/wddxPacket&#62;</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
If you want to serialize non-ASCII characters you have to set
the appropriate locale before doing so (see
<A HREF="function.setlocale.html"><B CLASS="function">setlocale()</B></A>).
</P></BLOCKQUOTE></DIV></DIV></DIV><DIV CLASS="TOC"><DL><DT><B>目录</B></DT><DT><A HREF="function.wddx-add-vars.html">wddx_add_vars</A>&nbsp;--&nbsp;
Add variables to a WDDX packet with the specified ID
</DT><DT><A HREF="function.wddx-deserialize.html">wddx_deserialize</A>&nbsp;--&nbsp;Deserializes a WDDX packet</DT><DT><A HREF="function.wddx-packet-end.html">wddx_packet_end</A>&nbsp;--&nbsp;Ends a WDDX packet with the specified ID</DT><DT><A HREF="function.wddx-packet-start.html">wddx_packet_start</A>&nbsp;--&nbsp;
Starts a new WDDX packet with structure inside it
</DT><DT><A HREF="function.wddx-serialize-value.html">wddx_serialize_value</A>&nbsp;--&nbsp;Serialize a single value into a WDDX packet</DT><DT><A HREF="function.wddx-serialize-vars.html">wddx_serialize_vars</A>&nbsp;--&nbsp;Serialize variables into a WDDX packet</DT></DL></DIV></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.w32api-set-call-method.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.wddx-add-vars.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">w32api_set_call_method</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="funcref.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">wddx_add_vars</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
