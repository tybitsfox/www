<HTML><HEAD><TITLE>each</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="数组函数库" HREF="ref.array.html"><LINK REL="PREVIOUS" TITLE="current" HREF="function.current.html"><LINK REL="NEXT" TITLE="end" HREF="function.end.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.current.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.end.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.each"></A>each</H1><DIV CLASS="refnamediv"><A NAME="AEN9764"></A><P> (PHP 3, PHP 4 )</P>each&nbsp;--&nbsp;
返回数组中当前的键／值对并将数组指针向前移动一步
</DIV><DIV CLASS="refsect1"><A NAME="AEN9767"></A><H2>说明</H2>array <B CLASS="methodname">each</B> ( array array)<BR></BR><P>&#13; 返回 <TT CLASS="parameter"><I>array</I></TT> 数组中当前指针位置的键／值对并向前移动数组指针。键值对被返回为四个单元的数组，键名为
<SPAN CLASS="emphasis"><I CLASS="emphasis">0</I></SPAN>，<SPAN CLASS="emphasis"><I CLASS="emphasis">1</I></SPAN>，<SPAN CLASS="emphasis"><I CLASS="emphasis">key</I></SPAN>
和 <SPAN CLASS="emphasis"><I CLASS="emphasis">value</I></SPAN>。单元 <SPAN CLASS="emphasis"><I CLASS="emphasis">0</I></SPAN> 和
<SPAN CLASS="emphasis"><I CLASS="emphasis">key</I></SPAN> 包含有数组单元的键名，<SPAN CLASS="emphasis"><I CLASS="emphasis">1</I></SPAN> 和
<SPAN CLASS="emphasis"><I CLASS="emphasis">value</I></SPAN> 包含有数据。
</P><P>&#13; 如果内部指针越过了数组的末端，则 <B CLASS="function">each()</B> 返回 <TT CLASS="constant"><B>FALSE</B></TT>。
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN9789"></A><P><B>例子 1. <B CLASS="function">each()</B> 例子</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$foo </font><font color="#007700">= array (</font><font color="#DD0000">"bob"</font><font color="#007700">, </font><font color="#DD0000">"fred"</font><font color="#007700">, </font><font color="#DD0000">"jussi"</font><font color="#007700">, </font><font color="#DD0000">"jouni"</font><font color="#007700">, </font><font color="#DD0000">"egon"</font><font color="#007700">, </font><font color="#DD0000">"marliese"</font><font color="#007700">);<br /></font><font color="#0000BB">$bar </font><font color="#007700">= </font><font color="#0000BB">each </font><font color="#007700">(</font><font color="#0000BB">$foo</font><font color="#007700">);<br /></font><font color="#0000BB">print_r</font><font color="#007700">(</font><font color="#0000BB">$bar</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; <TT CLASS="varname">$bar</TT> 现在包含有如下的键／值对：
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Array
{
    [1] =&#62; bob
    [value] =&#62; bob
    [0] =&#62; 0
    [key] =&#62; 0
}</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; <DIV CLASS="informalexample"><A NAME="AEN9797"></A><P></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$foo </font><font color="#007700">= array (</font><font color="#DD0000">"Robert" </font><font color="#007700">=&gt; </font><font color="#DD0000">"Bob"</font><font color="#007700">, </font><font color="#DD0000">"Seppo" </font><font color="#007700">=&gt; </font><font color="#DD0000">"Sepi"</font><font color="#007700">);<br /></font><font color="#0000BB">$bar </font><font color="#007700">= </font><font color="#0000BB">each </font><font color="#007700">(</font><font color="#0000BB">$foo</font><font color="#007700">);<br /></font><font color="#0000BB">print_r</font><font color="#007700">(</font><font color="#0000BB">$bar</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>&#13; <TT CLASS="varname">$bar</TT> 现在包含有如下的键／值对：
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Array
{
    [1] =&#62; Bob
    [value] =&#62; Bob
    [0] =&#62; Robert
    [key] =&#62; Robert
}</PRE></TD></TR></TABLE><P></P></DIV>
</P><P>&#13; <B CLASS="function">each()</B> 经常和 <A HREF="function.list.html"><B CLASS="function">list()</B></A>
结合使用来遍历数组，例如：
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN9805"></A><P><B>例子 2. 用 <B CLASS="function">each()</B> 遍历数组</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$fruit </font><font color="#007700">= array(</font><font color="#DD0000">'a' </font><font color="#007700">=&gt; </font><font color="#DD0000">'apple'</font><font color="#007700">, </font><font color="#DD0000">'b' </font><font color="#007700">=&gt; </font><font color="#DD0000">'banana'</font><font color="#007700">, </font><font color="#DD0000">'c' </font><font color="#007700">=&gt; </font><font color="#DD0000">'cranberry'</font><font color="#007700">);<br /></font><font color="#0000BB">reset </font><font color="#007700">(</font><font color="#0000BB">$fruit</font><font color="#007700">);<br />while (list (</font><font color="#0000BB">$key</font><font color="#007700">, </font><font color="#0000BB">$val</font><font color="#007700">) = </font><font color="#0000BB">each </font><font color="#007700">(</font><font color="#0000BB">$fruit</font><font color="#007700">)) {<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"$key =&gt; $val\n"</font><font color="#007700">;<br />}<br /></font><font color="#FF8000">/* Outputs:<br /><br />a =&gt; apple<br />b =&gt; banana<br />c =&gt; cranberry<br /><br />*/<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; 在执行 <B CLASS="function">each()</B>
之后，数组指针将停留在数组中的下一个单元或者当碰到数组结尾时停留在最后一个单元。如果要再用
each 遍历数组，必须使用 <A HREF="function.reset.html"><B CLASS="function">reset()</B></A>。
</P><DIV CLASS="caution"><P></P><TABLE CLASS="caution" BORDER="1" WIDTH="100%"><TR><TD ALIGN="CENTER"><B>注意</B></TD></TR><TR><TD ALIGN="LEFT"><P>&#13; 因为将一个数组赋值给另一个数组时会重置原来的数组指针，因此在上边的例子中如果我们在循环内部将
<TT CLASS="varname">$fruit</TT> 赋给了另一个变量的话将会导致无限循环。
</P></TD></TR></TABLE></DIV><P>&#13; 参见 <A HREF="function.key.html"><B CLASS="function">key()</B></A>，<A HREF="function.list.html"><B CLASS="function">list()</B></A>，<A HREF="function.current.html"><B CLASS="function">current()</B></A>，<A HREF="function.reset.html"><B CLASS="function">reset()</B></A>，<A HREF="function.next.html"><B CLASS="function">next()</B></A>，<A HREF="function.prev.html"><B CLASS="function">prev()</B></A>
和 <A HREF="control-structures.foreach.html">foreach</A>。
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.current.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.end.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">current</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.array.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">end</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
