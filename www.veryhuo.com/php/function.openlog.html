<HTML><HEAD><TITLE>openlog</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Network Functions" HREF="ref.network.html"><LINK REL="PREVIOUS" TITLE="long2ip" HREF="function.long2ip.html"><LINK REL="NEXT" TITLE="pfsockopen" HREF="function.pfsockopen.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.long2ip.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.pfsockopen.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.openlog"></A>openlog</H1><DIV CLASS="refnamediv"><A NAME="AEN72889"></A><P> (PHP 3, PHP 4 )</P>openlog&nbsp;--&nbsp;Open connection to system logger</DIV><DIV CLASS="refsect1"><A NAME="AEN72892"></A><H2>Description</H2>int <B CLASS="methodname">openlog</B> ( string ident, int option, int facility)<BR></BR><P>&#13; <B CLASS="function">openlog()</B> opens a connection to the system
logger for a program. The string <TT CLASS="parameter"><I>ident</I></TT> is
added to each message. Values for <TT CLASS="parameter"><I>option</I></TT>
and <TT CLASS="parameter"><I>facility</I></TT> are given below.
The <TT CLASS="parameter"><I>option</I></TT> argument is used to indicate
what logging options will be used when generating a log message.
The <TT CLASS="parameter"><I>facility</I></TT> argument is used to specify what
type of program is logging the message. This allows you to specify
(in your machine's syslog configuration) how messages coming from
different facilities will be handled.
The use of <B CLASS="function">openlog()</B> is optional. It
will automatically be called by <A HREF="function.syslog.html"><B CLASS="function">syslog()</B></A> if
necessary, in which case <TT CLASS="parameter"><I>ident</I></TT> will default
to <TT CLASS="constant"><B>FALSE</B></TT>.
</P><P>&#13; <DIV CLASS="table"><A NAME="AEN72918"></A><P><B>表格 1. <B CLASS="function">openlog()</B> Options</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><THEAD><TR><TH ALIGN="LEFT" VALIGN="MIDDLE">Constant</TH><TH ALIGN="LEFT" VALIGN="MIDDLE">Description</TH></TR></THEAD><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_CONS</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; if there is an error while sending data to the system logger,
write directly to the system console
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_NDELAY</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; open the connection to the logger immediately
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_ODELAY</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; (default) delay opening the connection until the first
message is logged
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_PERROR</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">print log message also to standard error</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_PID</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">include PID with each message</TD></TR></TBODY></TABLE></DIV>
You can use one or more of this options. When using multiple options
you need to <TT CLASS="literal">OR</TT> them, i.e. to open the connection
immediately, write to the console and include the PID in each message,
you will use: <TT CLASS="literal">LOG_CONS | LOG_NDELAY | LOG_PID</TT>
</P><P>&#13; <DIV CLASS="table"><A NAME="AEN72945"></A><P><B>表格 2. <B CLASS="function">openlog()</B> Facilities</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><THEAD><TR><TH ALIGN="LEFT" VALIGN="MIDDLE">Constant</TH><TH ALIGN="LEFT" VALIGN="MIDDLE">Description</TH></TR></THEAD><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_AUTH</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; security/authorization messages (use LOG_AUTHPRIV instead
in systems where that constant is defined)
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_AUTHPRIV</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">security/authorization messages (private)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_CRON</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">clock daemon (cron and at)</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_DAEMON</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">other system daemons</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_KERN</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">kernel messages</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_LOCAL0 ... LOG_LOCAL7</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">reserved for local use, these are not available in Windows</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_LPR</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">line printer subsystem</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_MAIL</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">mail subsystem</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_NEWS</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">USENET news subsystem</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_SYSLOG</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">messages generated internally by syslogd</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_USER</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">generic user-level messages</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE">LOG_UUCP</TD><TD ALIGN="LEFT" VALIGN="MIDDLE">UUCP subsystem</TD></TR></TBODY></TABLE></DIV>
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
<TT CLASS="literal">LOG_USER</TT> is the only valid log type under Windows
operating systems
</P></BLOCKQUOTE></DIV><P>&#13; See also <A HREF="function.define-syslog-variables.html"><B CLASS="function">define_syslog_variables()</B></A>,
<A HREF="function.syslog.html"><B CLASS="function">syslog()</B></A> and
<A HREF="function.closelog.html"><B CLASS="function">closelog()</B></A>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.long2ip.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.pfsockopen.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">long2ip</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.network.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">pfsockopen</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
