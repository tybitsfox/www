<HTML><HEAD><TITLE>php_stream_sock_open_host</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Streams Socket API Reference" HREF="streams.socket-api.html"><LINK REL="PREVIOUS" TITLE="php_stream_sock_open_from_socket" HREF="streams.php-stream-sock-open-from-socket.html"><LINK REL="NEXT" TITLE="php_stream_sock_open_unix" HREF="streams.php-stream-sock-open-unix.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="streams.php-stream-sock-open-from-socket.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="streams.php-stream-sock-open-unix.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="streams.php-stream-sock-open-host"></A>php_stream_sock_open_host</H1><DIV CLASS="refnamediv"><A NAME="AEN124922"></A><P> (no version information, might be only in CVS)</P>php_stream_sock_open_host&nbsp;--&nbsp;Open a connection to a host and return a stream</DIV><DIV CLASS="refsect1"><A NAME="AEN124925"></A><H2>Description</H2>php_stream * <B CLASS="methodname">php_stream_sock_open_host</B> ( const char * host, unsigned short port, int socktype, struct timeval * timeout, int persistent)<BR></BR><P>&#13; <B CLASS="function">php_stream_sock_open_host()</B> establishes a connect to the specified
<TT CLASS="parameter"><I>host</I></TT> and <TT CLASS="parameter"><I>port</I></TT>. <TT CLASS="parameter"><I>socktype</I></TT>
specifies the connection semantics that should apply to the connection. Values for
<TT CLASS="parameter"><I>socktype</I></TT> are system dependent, but will usually include (at a minimum)
<TT CLASS="constant"><B>SOCK_STREAM</B></TT> for sequenced, reliable, two-way connection based streams (TCP),
or <TT CLASS="constant"><B>SOCK_DGRAM</B></TT> for connectionless, unreliable messages of a fixed maximum
length (UDP).
</P><P>&#13; <TT CLASS="parameter"><I>persistent</I></TT> is a flag the controls whether the stream is opened as a persistent
stream. Generally speaking, this parameter will usually be 0.
</P><P>&#13; If not NULL, <TT CLASS="parameter"><I>timeout</I></TT> specifies a maximum time to allow for the connection to be made.
If the connection attempt takes longer than the timeout value, the connection attempt is aborted and
NULL is returned to indicate that the stream could not be opened.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
The timeout value does not include the time taken to perform a DNS lookup. The reason for this is
because there is no portable way to implement a non-blocking DNS lookup.
</P><P>&#13; The timeout only applies to the connection phase; if you need to set timeouts for subsequent read
or write operations, you should use <B CLASS="function">php_stream_sock_set_timeout()</B> to configure
the timeout duration for your stream once it has been opened.
</P></BLOCKQUOTE></DIV><P>&#13; The streams API places no restrictions on the values you use for <TT CLASS="parameter"><I>socktype</I></TT>,
but encourages you to consider the portability of values you choose before you release your
extension.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="streams.php-stream-sock-open-from-socket.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="streams.php-stream-sock-open-unix.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">php_stream_sock_open_from_socket</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="streams.socket-api.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">php_stream_sock_open_unix</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
