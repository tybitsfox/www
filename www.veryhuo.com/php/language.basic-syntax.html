<HTML><HEAD><TITLE>基本语法</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="语言参考" HREF="langref.html"><LINK REL="PREVIOUS" TITLE="语言参考" HREF="langref.html"><LINK REL="NEXT" TITLE="指令分隔符" HREF="language.basic-syntax.instruction-separation.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="chapter" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="langref.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="language.basic-syntax.instruction-separation.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV CLASS="chapter"><H1><A NAME="language.basic-syntax">章 5. 基本语法</A></H1><DIV CLASS="TOC"><DL><DT><B>目录</B></DT><DT><A HREF="language.basic-syntax.html#language.basic-syntax.phpmode">从 HTML 中分离</A></DT><DT><A HREF="language.basic-syntax.instruction-separation.html">指令分隔符</A></DT><DT><A HREF="language.basic-syntax.comments.html">注释</A></DT></DL></DIV><DIV CLASS="sect1"><H1 CLASS="sect1"><A NAME="language.basic-syntax.phpmode"></A>从 HTML 中分离</H1><P>&#13; PHP 的脚本由文件中一对特殊的标记所引起的内容，当解释器分析一个文件时，所有特殊标记外的普通文件，解释器不对其做任何处理，而特殊标记内文件将作为
PHP 代码被解释器分析执行。该运行机制将允许您在 HTML 中嵌入 PHP
代码：PHP 标记外的内容将被完全独立开，不做任何处理，而内部的将作为 PHP 代码解析。
</P><P>&#13; 用来标记 PHP 代码块的标记共有四套，其中只有两套总是有效（&#60;?php. . .?&#62;
和 &#60;script language="php"&#62;. . .&#60;/script&#62;）；另外两套可以在
<TT CLASS="filename">php.ini</TT> 配置文件中开启或者关闭。虽然短格式的标记和 ASP
风格的标记可能比较省力，但是某些情况下您可能必须要使用长格式的标记。比如，您打算在
XML 或者 XHTML 中嵌入 PHP 代码，您将需要使用 &#60;?php. . .?&#62;
形式的标记以适应 XML 的标准。
</P><P>&#13; PHP 支持的标记为：
</P><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN3224"></A><P><B>例子 5-1. 从 HTML 中分离的方式</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
1.&nbsp;&nbsp;<font color="#0000BB">&lt;?php </font><font color="#007700">echo(</font><font color="#DD0000">"if you want to serve XHTML or XML documents, do like this\n"</font><font color="#007700">); </font><font color="#0000BB">?&gt;<br /></font><br />2.&nbsp;&nbsp;<font color="#0000BB">&lt;? </font><font color="#007700">echo (</font><font color="#DD0000">"this is the simplest, an SGML processing instruction\n"</font><font color="#007700">); </font><font color="#0000BB">?&gt;<br /></font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000BB">&lt;?= expression ?&gt;</font> This is a shortcut for "<font color="#0000BB">&lt;? </font><font color="#007700">echo </font><font color="#0000BB">expression ?&gt;</font>"<br /><br />3.&nbsp;&nbsp;<font color="#0000BB">&lt;script language="php"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">echo (</font><font color="#DD0000">"some editors (like FrontPage) don't<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;like processing instructions"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">&lt;/script&gt;<br /></font><br />4.&nbsp;&nbsp;&lt;% echo ("You may optionally use ASP-style tags"); %&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;%= $variable; # This is a shortcut for "&lt;% echo . . ." %&gt;</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; 优先选用的方式为第一种方式 &#60;?php. . .?&#62;，因为它允许您在 XML 结构，如
XHTML 的代码中使用 PHP。
</P><P>&#13; 第二种方式并非总是可用的。只有当您在 <TT CLASS="filename">php.ini</TT> 配置文件中激活
<A HREF="configuration.directives.html#ini.short-open-tag">short_open_tag</A> 选项，才是可用的。您也可以通过使用
<B CLASS="function">short_tags()</B> 函数（仅用于 PHP 3），或者使用
--enable-short-tags 选项 <B CLASS="command">configure</B> PHP
来激活短格式标记。在 php.ini-dist
配置文件中，默认是开启短格式标记的，但是建议您不要使用该标记。
</P><P>&#13; 在 PHP 配置文件中开启选项 <A HREF="configuration.directives.html#ini.asp-tags">asp_tags</A> 将激活第四种方式。
<DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>ASP 风格的标记添加于 PHP 3.0.4</P></BLOCKQUOTE></DIV>
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
当开发大型应用程序或者用于分发的函数库，或者在不受您控制的 PHP
服务器上面开发程序时，请不要使用短格式的标记，因为目标服务器可能并不支持短格式的标记。为了便于移植，请保证用于再分发的代码中不使用短格式的标记。
</P></BLOCKQUOTE></DIV><P>&#13; PHP 代码块结束标记奖自动包含最近的一个结尾的新行（如果存在的话）。而且，结束标记自动隐含一个分号; 您不需要为
PHP 代码块的最后行追加一个分号。
</P><P>&#13; PHP 允许您使用如下的结构：
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN3241"></A><P><B>例子 5-2. 更高级的脱离</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">if (</font><font color="#0000BB">$expression</font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">?&gt;<br /></font>&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;This is true.&lt;/strong&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000BB">&lt;?php<br /></font><font color="#007700">} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">?&gt;<br /></font>&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;This is false.&lt;/strong&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000BB">&lt;?php<br /></font><font color="#007700">}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
PHP 将直接输出结束标记和下一个开始标记中的任何非 PHP
代码。当需要输出大量的文本时，退出 PHP 解析模式将比使用
<A HREF="function.echo.html"><B CLASS="function">echo()</B></A> 或者 <A HREF="function.print.html"><B CLASS="function">print()</B></A>
或者此类的函数打印所有文本要更加的有效。
</P></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="langref.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="language.basic-syntax.instruction-separation.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">语言参考</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="langref.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">指令分隔符</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
