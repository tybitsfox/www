<HTML><HEAD><TITLE>上传多个文件</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="文件上传处理" HREF="features.file-upload.html"><LINK REL="PREVIOUS" TITLE="一些注意事项" HREF="features.file-upload.common-pitfalls.html"><LINK REL="NEXT" TITLE="对 PUT 方法的支持" HREF="features.file-upload.put-method.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="sect1" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="features.file-upload.common-pitfalls.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom">章 18. 文件上传处理</TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="features.file-upload.put-method.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV CLASS="sect1"><H1 CLASS="sect1"><A NAME="features.file-upload.multiple"></A>上传多个文件</H1><P>&#13; 您可以对 <TT CLASS="literal">input</TT> 域使用不同的 <TT CLASS="literal">name</TT> 来上传多个文件。
</P><P>&#13; PHP 支持同时上传多个文件并将它们的信息自动以数组的形式组织。要完成这项功能，您需要在 HTML 表单中对文件上传域使用类似于多下拉菜单和复选框的数组名称来提交。
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
对多文件上传的支持是在 3.0.10 版本添加的。
</P></BLOCKQUOTE></DIV><P>&#13; <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN6610"></A><P><B>例子 18-3. 上传多个文件</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="html">&#60;form action="file-upload.php" method="POST" enctype="multipart/form-data"&#62;
  Send these files:&#60;br&#62;
  &#60;input name="userfile[]" type="file"&#62;&#60;br&#62;
  &#60;input name="userfile[]" type="file"&#62;&#60;br&#62;
  &#60;input type="submit" value="Send files"&#62;
&#60;/form&#62;</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
</P><P>&#13; 当以上表单被提交后，数组 <TT CLASS="varname">$_FILES['userfile']</TT>、<TT CLASS="varname">$_FILES['userfile']['name']</TT> 和 <TT CLASS="varname">$_FILES['userfile']['size']</TT> 将被初始化（在 PHP 4.1.0 以前版本是 <TT CLASS="varname">$HTTP_POST_FILES</TT>。）如果 <TT CLASS="literal">register_globals</TT> 的设置为 on，则和文件上传相关的全局变量也将被初始化。所有这些提交的信息都将被储存到以数字为索引的数组中。
</P><P>&#13; 例如，假设名为 <TT CLASS="filename">/home/test/review.html</TT> 和 <TT CLASS="filename">/home/test/xwp.out</TT> 的文件被提交，则 <TT CLASS="varname">$_FILES['userfile']['name'][0]</TT> 将包含文件 <TT CLASS="filename">review.html</TT> 的名称，而 <TT CLASS="varname">$_FILES['userfile']['name'][1]</TT> 则将包含文件 <TT CLASS="filename">xwp.out</TT> 的名称。类似的，<TT CLASS="varname">$_FILES['userfile']['size'][0]</TT> 将包含文件 <TT CLASS="filename">review.html</TT> 的大小，依此类推。
</P><P>&#13; <TT CLASS="varname">$_FILES['userfile']['name'][0]</TT>、<TT CLASS="varname">$_FILES['userfile']['tmp_name'][0]</TT>、<TT CLASS="varname">$_FILES['userfile']['size'][0]</TT> 以及
<TT CLASS="varname">$_FILES['userfile']['type'][0]</TT> 都将被同时设置并有效。
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="features.file-upload.common-pitfalls.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="features.file-upload.put-method.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">一些注意事项</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="features.file-upload.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">对 PUT 方法的支持</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
