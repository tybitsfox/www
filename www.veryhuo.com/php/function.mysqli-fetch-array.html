<HTML><HEAD><TITLE>mysqli_fetch_array</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Improved MySQL Extension" HREF="ref.mysqli.html"><LINK REL="PREVIOUS" TITLE="mysqli_execute" HREF="function.mysqli-execute.html"><LINK REL="NEXT" TITLE="mysqli_fetch_assoc" HREF="function.mysqli-fetch-assoc.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.mysqli-execute.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.mysqli-fetch-assoc.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.mysqli-fetch-array"></A>mysqli_fetch_array</H1><DIV CLASS="refnamediv"><A NAME="AEN68126"></A><P> (PHP 5 CVS only)</P>mysqli_fetch_array<P> (no version information, might be only in CVS)</P>result-&#62;fetch_array&nbsp;--&nbsp;Fetch a result row as an associative, a numeric array, or both.</DIV><DIV CLASS="refsect1"><A NAME="AEN68130"></A><H2>Description</H2><P>Procedural style:</P>mixed <B CLASS="methodname">mysqli_fetch_array</B> ( object result [, int resulttype])<BR></BR><P>Object oriend style (method):</P>class <B CLASS="classname">result</B> { <BR></BR>mixed <B CLASS="methodname">fetch_array</B> ( [int resulttype])<BR></BR>}<P>&#13; Returns an array that corresponds to the fetched row or <TT CLASS="constant"><B>NULL</B></TT> if there are no more rows for the
database connection represented by the <TT CLASS="parameter"><I>link</I></TT> parameter.
</P><P>&#13; <B CLASS="function">mysqli_fetch_array()</B> is an extended version of the
<A HREF="function.mysqli-fetch-row.html"><B CLASS="function">mysqli_fetch_row()</B></A> function. In addition to storing the data in the
numeric indices of the result array, the <B CLASS="function">mysqli_fetch_array()</B> function can
also store the data in associative indices, using the field names of the result set as keys.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>该函数返回的字段名是<SPAN CLASS="emphasis"><I CLASS="emphasis">大小写敏感的</I></SPAN>。</P></BLOCKQUOTE></DIV><P>&#13; If two or more columns of the result have the same field names, the last column will take
precedence and overwrite the earlier data. In order to access multiple columns with the same
name, the numerically indexed version of the row must be used.
</P><P>&#13; The optional second argument <TT CLASS="parameter"><I>result_type</I></TT> is a constant indicating what
type of array should be produced from the current row data. The possible values for this parameter
are the constants MYSQLI_ASSOC, MYSQLI_NUM, or MYSQLI_BOTH. By default the
<B CLASS="function">mysqli_fetch_array()</B> function will assume MYSQLI_BOTH for this parameter.
</P><P>&#13; By using the MYSQLI_ASSOC constant this function will behave identically to the
<A HREF="function.mysqli-fetch-assoc.html"><B CLASS="function">mysqli_fetch_assoc()</B></A>, while MYSQLI_NUM will behave identically to the
<A HREF="function.mysqli-fetch-row.html"><B CLASS="function">mysqli_fetch_row()</B></A> function. The final option MYSQLI_BOTH will create a single
array with the attributes of both.
</P></DIV><DIV CLASS="refsect1"><A NAME="AEN68169"></A><H2>Return values</H2><P>&#13; Returns an array that corresponds to the fetched row or <TT CLASS="constant"><B>NULL</B></TT> if there are no more rows in resultset.
</P></DIV><DIV CLASS="refsect1"><A NAME="AEN68173"></A><H2>See also</H2><P>&#13; <A HREF="function.mysqli-fetch-assoc.html"><B CLASS="function">mysqli_fetch_assoc()</B></A>,
<A HREF="function.mysqli-fetch-row.html"><B CLASS="function">mysqli_fetch_row()</B></A>,
<A HREF="function.mysqli-fetch-object.html"><B CLASS="function">mysqli_fetch_object()</B></A>.
</P></DIV><DIV CLASS="refsect1"><A NAME="AEN68179"></A><H2>Example</H2><TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN68181"></A><P><B>例子 1. Object oriented style</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$mysqli </font><font color="#007700">= new </font><font color="#0000BB">mysqli</font><font color="#007700">(</font><font color="#DD0000">"localhost"</font><font color="#007700">, </font><font color="#DD0000">"my_user"</font><font color="#007700">, </font><font color="#DD0000">"my_password"</font><font color="#007700">, </font><font color="#DD0000">"world"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* check connection */<br /></font><font color="#007700">if (</font><font color="#0000BB">mysqli_connect_errno</font><font color="#007700">()) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Connect failed: %s\n"</font><font color="#007700">, </font><font color="#0000BB">mysqli_connect_error</font><font color="#007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /> <br /></font><font color="#0000BB">$query </font><font color="#007700">= </font><font color="#DD0000">"SELECT Name, CountryCode FROM City ORDER by ID LIMIT 3"</font><font color="#007700">;<br /></font><font color="#0000BB">$result </font><font color="#007700">= </font><font color="#0000BB">$mysqli</font><font color="#007700">-&gt;</font><font color="#0000BB">query</font><font color="#007700">(</font><font color="#0000BB">$query</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* numeric array */<br /></font><font color="#0000BB">$row </font><font color="#007700">= </font><font color="#0000BB">$result</font><font color="#007700">-&gt;</font><font color="#0000BB">fetch_array</font><font color="#007700">(</font><font color="#0000BB">MYSQLI_NUM</font><font color="#007700">);<br /></font><font color="#0000BB">printf </font><font color="#007700">(</font><font color="#DD0000">"%s (%s)\n"</font><font color="#007700">, </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">], </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]);&nbsp;&nbsp;<br /><br /></font><font color="#FF8000">/* associative array */<br /></font><font color="#0000BB">$row </font><font color="#007700">= </font><font color="#0000BB">$result</font><font color="#007700">-&gt;</font><font color="#0000BB">fetch_array</font><font color="#007700">(</font><font color="#0000BB">MYSQLI_ASSOC</font><font color="#007700">);<br /></font><font color="#0000BB">printf </font><font color="#007700">(</font><font color="#DD0000">"%s (%s)\n"</font><font color="#007700">, </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#DD0000">"Name"</font><font color="#007700">], </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#DD0000">"CountryCode"</font><font color="#007700">]);&nbsp;&nbsp;<br /><br /></font><font color="#FF8000">/* associative and numeric array */<br /></font><font color="#0000BB">$row </font><font color="#007700">= </font><font color="#0000BB">$result</font><font color="#007700">-&gt;</font><font color="#0000BB">fetch_array</font><font color="#007700">(</font><font color="#0000BB">MYSQLI_BOTH</font><font color="#007700">);<br /></font><font color="#0000BB">printf </font><font color="#007700">(</font><font color="#DD0000">"%s (%s)\n"</font><font color="#007700">, </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">], </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#DD0000">"CountryCode"</font><font color="#007700">]);&nbsp;&nbsp;<br /><br /></font><font color="#FF8000">/* free result set */<br /></font><font color="#0000BB">$result</font><font color="#007700">-&gt;</font><font color="#0000BB">close</font><font color="#007700">();<br /><br /></font><font color="#FF8000">/* close connection */<br /></font><font color="#0000BB">$mysqli</font><font color="#007700">-&gt;</font><font color="#0000BB">close</font><font color="#007700">();<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE><TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV CLASS="example"><A NAME="AEN68184"></A><P><B>例子 2. Procedural style</B></P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$link </font><font color="#007700">= </font><font color="#0000BB">mysqli_connect</font><font color="#007700">(</font><font color="#DD0000">"localhost"</font><font color="#007700">, </font><font color="#DD0000">"my_user"</font><font color="#007700">, </font><font color="#DD0000">"my_password"</font><font color="#007700">, </font><font color="#DD0000">"world"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* check connection */<br /></font><font color="#007700">if (</font><font color="#0000BB">mysqli_connect_errno</font><font color="#007700">()) {<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">printf</font><font color="#007700">(</font><font color="#DD0000">"Connect failed: %s\n"</font><font color="#007700">, </font><font color="#0000BB">mysqli_connect_error</font><font color="#007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></font><font color="#0000BB">$query </font><font color="#007700">= </font><font color="#DD0000">"SELECT Name, CountryCode FROM City ORDER by ID LIMIT 3"</font><font color="#007700">;<br /></font><font color="#0000BB">$result </font><font color="#007700">= </font><font color="#0000BB">mysqli_query</font><font color="#007700">(</font><font color="#0000BB">$link</font><font color="#007700">, </font><font color="#0000BB">$query</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* numeric array */<br /></font><font color="#0000BB">$row </font><font color="#007700">= </font><font color="#0000BB">mysqli_fetch_array</font><font color="#007700">(</font><font color="#0000BB">$result</font><font color="#007700">, </font><font color="#0000BB">MYSQLI_NUM</font><font color="#007700">);<br /></font><font color="#0000BB">printf </font><font color="#007700">(</font><font color="#DD0000">"%s (%s)\n"</font><font color="#007700">, </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">], </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]);&nbsp;&nbsp;<br /><br /></font><font color="#FF8000">/* associative array */<br /></font><font color="#0000BB">$row </font><font color="#007700">= </font><font color="#0000BB">mysqli_fetch_array</font><font color="#007700">(</font><font color="#0000BB">$result</font><font color="#007700">, </font><font color="#0000BB">MYSQLI_ASSOC</font><font color="#007700">);<br /></font><font color="#0000BB">printf </font><font color="#007700">(</font><font color="#DD0000">"%s (%s)\n"</font><font color="#007700">, </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#DD0000">"Name"</font><font color="#007700">], </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#DD0000">"CountryCode"</font><font color="#007700">]);&nbsp;&nbsp;<br /><br /></font><font color="#FF8000">/* associative and numeric array */<br /></font><font color="#0000BB">$row </font><font color="#007700">= </font><font color="#0000BB">mysqli_fetch_array</font><font color="#007700">(</font><font color="#0000BB">$result</font><font color="#007700">, </font><font color="#0000BB">MYSQLI_BOTH</font><font color="#007700">);<br /></font><font color="#0000BB">printf </font><font color="#007700">(</font><font color="#DD0000">"%s (%s)\n"</font><font color="#007700">, </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">], </font><font color="#0000BB">$row</font><font color="#007700">[</font><font color="#DD0000">"CountryCode"</font><font color="#007700">]);&nbsp;&nbsp;<br /><br /></font><font color="#FF8000">/* free result set */<br /></font><font color="#0000BB">mysqli_free_result</font><font color="#007700">(</font><font color="#0000BB">$result</font><font color="#007700">);<br /><br /></font><font color="#FF8000">/* close connection */<br /></font><font color="#0000BB">mysqli_close</font><font color="#007700">(</font><font color="#0000BB">$link</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE><P>&#13; The above examples would produce the following output:
</P><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE CLASS="screen">Kabul (AFG)
Qandahar (AFG)
Herat (AFG)</PRE></TD></TR></TABLE></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.mysqli-execute.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.mysqli-fetch-assoc.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">mysqli_execute</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.mysqli.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">mysqli_fetch_assoc</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
