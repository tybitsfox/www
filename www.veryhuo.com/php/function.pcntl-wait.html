<HTML><HEAD><TITLE>pcntl_wait</TITLE><META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK REL="HOME" TITLE="PHP 手册" HREF="index-2.html"><LINK REL="UP" TITLE="Process Control Functions" HREF="ref.pcntl.html"><LINK REL="PREVIOUS" TITLE="pcntl_signal" HREF="function.pcntl-signal.html"><LINK REL="NEXT" TITLE="pcntl_waitpid" HREF="function.pcntl-waitpid.html"><META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD><BODY TOPMARGIN="0" LEFTMARGIN="0" CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF"><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD WIDTH="10%" ALIGN="left" VALIGN="bottom"><A HREF="function.pcntl-signal.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD WIDTH="10%" ALIGN="right" VALIGN="bottom"><A HREF="function.pcntl-waitpid.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A NAME="function.pcntl-wait"></A>pcntl_wait</H1><DIV CLASS="refnamediv"><A NAME="AEN93235"></A><P> (no version information, might be only in CVS)</P>pcntl_wait&nbsp;--&nbsp;
Waits on or returns the status of a forked child
</DIV><DIV CLASS="refsect1"><A NAME="AEN93238"></A><H2>Description</H2>int <B CLASS="methodname">pcntl_wait</B> ( int &#38;status [, int options])<BR></BR><P>&#13; The wait function suspends execution of the current process until a
child has exited, or until a signal is delivered whose action is to
terminate the current process or to call a signal handling function. If a
child has already exited by the time of the call (a so-called "zombie"
process), the function returns immediately. Any system resources used by
the child are freed. Please see your system's wait(2) man page for
specific details as to how wait works on your system.
</P><P>&#13; <B CLASS="function">pcntl_wait()</B> returns the process ID of the
child which exited, -1 on error or zero if WNOHANG was provided as an
option (on wait3-available systems) and no child was available.
</P><P>&#13; If wait3 is available on your system (mostly BSD-style systems), you can
provide the optional <TT CLASS="parameter"><I>options</I></TT> parameter. If this
parameter is not provided, wait will be used for the system call. If
wait3 is not available, providing a value for <TT CLASS="parameter"><I>options
</I></TT> will have no effect. The value of <TT CLASS="parameter"><I>options
</I></TT> is the value of zero or more of the following two constants
<TT CLASS="literal">OR</TT>'ed together:
<DIV CLASS="table"><A NAME="AEN93257"></A><P><B>表格 1. Possible values for <TT CLASS="parameter"><I>options</I></TT> if wait3 is available</B></P><TABLE BORDER="1" CLASS="CALSTABLE"><TBODY><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">WNOHANG</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; Return immediately if no child has exited.
</TD></TR><TR><TD ALIGN="LEFT" VALIGN="MIDDLE"><TT CLASS="literal">WUNTRACED</TT></TD><TD ALIGN="LEFT" VALIGN="MIDDLE">&#13; Return for children which are stopped, and whose status has
not been reported.
</TD></TR></TBODY></TABLE></DIV>
</P><P>&#13; <B CLASS="function">pcntl_wait()</B> will store status information
in the <TT CLASS="parameter"><I>status</I></TT> parameter which can be
evaluated using the following functions:
<A HREF="function.pcntl-wifexited.html"><B CLASS="function">pcntl_wifexited()</B></A>,
<A HREF="function.pcntl-wifstopped.html"><B CLASS="function">pcntl_wifstopped()</B></A>,
<A HREF="function.pcntl-wifsignaled.html"><B CLASS="function">pcntl_wifsignaled()</B></A>,
<A HREF="function.pcntl-wexitstatus.html"><B CLASS="function">pcntl_wexitstatus()</B></A>,
<A HREF="function.pcntl-wtermsig.html"><B CLASS="function">pcntl_wtermsig()</B></A> and
<A HREF="function.pcntl-wstopsig.html"><B CLASS="function">pcntl_wstopsig()</B></A>.
</P><DIV CLASS="note"><BLOCKQUOTE CLASS="note"><P><B>注: </B>
This function is equivalent to calling <A HREF="function.pcntl-waitpid.html"><B CLASS="function">pcntl_waitpid()</B></A>
with a <TT CLASS="literal">-1</TT> <TT CLASS="parameter"><I>pid</I></TT> and no
<TT CLASS="parameter"><I>options</I></TT>.
</P></BLOCKQUOTE></DIV><P>&#13; See also <A HREF="function.pcntl-fork.html"><B CLASS="function">pcntl_fork()</B></A>,
<A HREF="function.pcntl-signal.html"><B CLASS="function">pcntl_signal()</B></A>,
<A HREF="function.pcntl-wifexited.html"><B CLASS="function">pcntl_wifexited()</B></A>,
<A HREF="function.pcntl-wifstopped.html"><B CLASS="function">pcntl_wifstopped()</B></A>,
<A HREF="function.pcntl-wifsignaled.html"><B CLASS="function">pcntl_wifsignaled()</B></A>,
<A HREF="function.pcntl-wexitstatus.html"><B CLASS="function">pcntl_wexitstatus()</B></A>,
<A HREF="function.pcntl-wtermsig.html"><B CLASS="function">pcntl_wtermsig()</B></A>,
<A HREF="function.pcntl-wstopsig.html"><B CLASS="function">pcntl_wstopsig()</B></A> and
<A HREF="function.pcntl-waitpid.html"><B CLASS="function">pcntl_waitpid()</B></A>.
</P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="function.pcntl-signal.html" ACCESSKEY="P">后退</A></TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index-2.html" ACCESSKEY="H">起点</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="function.pcntl-waitpid.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD WIDTH="33%" ALIGN="left" VALIGN="top">pcntl_signal</TD><TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="ref.pcntl.html" ACCESSKEY="U">上一级</A></TD><TD WIDTH="33%" ALIGN="right" VALIGN="top">pcntl_waitpid</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>
<p style="text-align:center;"><script type="text/javascript" src="http://www.veryhuo.com/plus/js/manual.js"></script></p>
<div style="display:none;">
<script type="text/javascript" src="/liehuo.net/js/stat.js"></script>
</div>
</body>
</html>
