<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="/skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="/skin/lgo2010.css"></link><link rel="icon" type="image/png" href="/skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="/skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="/gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="/skin/jquery.autocomplete.css"></link><script type="text/javascript" src="/js/jquery.js"></script><script type="text/javascript" src="/js/jquery.autocomplete.js"></script><title>Pango Interaction: GDK 3 Reference Manual</title><link href="index.html" rel="home" title="GDK 3 Reference Manual"></link><link href="reference.html" rel="up" title="API Reference"></link><link href="gdk3-Threads.html" rel="prev" title="Threads"></link><link href="gdk3-Cairo-Interaction.html" rel="next" title="Cairo Interaction"></link><link rel="stylesheet" type="text/css" media="all" href="/skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="/skin/960_24_col.css"></link><script type="text/javascript" src="/js/jquery.js"></script><script type="text/javascript" src="/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="/js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="#container">Go to page content</a></li><li><a href="#top_bar">Go to main menu</a></li><li><a href="#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="/"><img alt="GNOME: The Free Software Desktop Project" src="/skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="/about/">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="#gdk3-Pango-Interaction.description">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="reference.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="gdk3-Threads.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="gdk3-Cairo-Interaction.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="gdk3-Pango-Interaction"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gdk3-Pango-Interaction.top_of_page"></a>Pango Interaction</span></h2>
<p>Pango Interaction — Using Pango in GDK</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="gdk3-Pango-Interaction.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="functions_return" width="150px"></col>
<col class="functions_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">cairo_region_t</span> *
</td>
<td class="function_name">
<a class="link" href="gdk3-Pango-Interaction.html#gdk-pango-layout-get-clip-region" title="gdk_pango_layout_get_clip_region ()">gdk_pango_layout_get_clip_region</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">cairo_region_t</span> *
</td>
<td class="function_name">
<a class="link" href="gdk3-Pango-Interaction.html#gdk-pango-layout-line-get-clip-region" title="gdk_pango_layout_line_get_clip_region ()">gdk_pango_layout_line_get_clip_region</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="returnvalue">PangoContext</span></a> *
</td>
<td class="function_name">
<a class="link" href="gdk3-Pango-Interaction.html#gdk-pango-context-get" title="gdk_pango_context_get ()">gdk_pango_context_get</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="returnvalue">PangoContext</span></a> *
</td>
<td class="function_name">
<a class="link" href="gdk3-Pango-Interaction.html#gdk-pango-context-get-for-screen" title="gdk_pango_context_get_for_screen ()">gdk_pango_context_get_for_screen</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="returnvalue">PangoContext</span></a> *
</td>
<td class="function_name">
<a class="link" href="gdk3-Pango-Interaction.html#gdk-pango-context-get-for-display" title="gdk_pango_context_get_for_display ()">gdk_pango_context_get_for_display</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="gdk3-Pango-Interaction.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;gdk/gdk.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="gdk3-Pango-Interaction.description"></a><h2>Description</h2>
<p>Pango is the text layout system used by GDK and GTK+. The functions
and types in this section are used to obtain clip regions for
<a href="../../pango/stable/pango-Layout-Objects.html#PangoLayout-struct"><span class="type">PangoLayouts</span></a>, and to get <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContexts</span></a> that can be used with
GDK.</p>
<p>Creating a <a href="../../pango/stable/pango-Layout-Objects.html#PangoLayout-struct"><span class="type">PangoLayout</span></a> object is the first step in rendering text,
and requires getting a handle to a <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a>. For GTK+ programs,
you’ll usually want to use <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>, or
<a href="../gtk4/GtkWidget.html#gtk-widget-create-pango-layout"><code class="function">gtk_widget_create_pango_layout()</code></a>, rather than using the lowlevel
<a class="link" href="gdk3-Pango-Interaction.html#gdk-pango-context-get-for-screen" title="gdk_pango_context_get_for_screen ()"><code class="function">gdk_pango_context_get_for_screen()</code></a>. Once you have a <a href="../../pango/stable/pango-Layout-Objects.html#PangoLayout-struct"><span class="type">PangoLayout</span></a>, you
can set the text and attributes of it with Pango functions like
<a href="../../pango/stable/pango-Layout-Objects.html#pango-layout-set-text"><code class="function">pango_layout_set_text()</code></a> and get its size with <a href="../../pango/stable/pango-Layout-Objects.html#pango-layout-get-size"><code class="function">pango_layout_get_size()</code></a>.
(Note that Pango uses a fixed point system internally, so converting
between Pango units and pixels using PANGO_SCALE
or the <a href="../../pango/stable/pango-Glyph-Storage.html#PANGO-PIXELS:CAPS"><code class="function">PANGO_PIXELS()</code></a> macro.)</p>
<p>Rendering a Pango layout is done most simply with <a href="../../pango/stable/pango-Cairo-Rendering.html#pango-cairo-show-layout"><code class="function">pango_cairo_show_layout()</code></a>;
you can also draw pieces of the layout with <a href="../../pango/stable/pango-Cairo-Rendering.html#pango-cairo-show-layout-line"><code class="function">pango_cairo_show_layout_line()</code></a>.</p>
<div class="refsect3">
<a name="rotated-example"></a><h4>Draw transformed text with Pango and cairo</h4>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="gtkdoc ppc">#define RADIUS 100</span>
<span class="gtkdoc ppc">#define N_WORDS 10</span>
<span class="gtkdoc ppc">#define FONT</span> <span class="gtkdoc pps">"Sans Bold 18"</span><span class="gtkdoc ppc"></span>

PangoContext <span class="gtkdoc opt">*</span>context<span class="gtkdoc opt">;</span>
PangoLayout <span class="gtkdoc opt">*</span>layout<span class="gtkdoc opt">;</span>
PangoFontDescription <span class="gtkdoc opt">*</span>desc<span class="gtkdoc opt">;</span>

<span class="gtkdoc kwb">double</span> radius<span class="gtkdoc opt">;</span>
<span class="gtkdoc kwb">int</span> width<span class="gtkdoc opt">,</span> height<span class="gtkdoc opt">;</span>
<span class="gtkdoc kwb">int</span> i<span class="gtkdoc opt">;</span>

<span class="gtkdoc slc">// Set up a transformation matrix so that the user space coordinates for</span>
<span class="gtkdoc slc">// where we are drawing are [-RADIUS, RADIUS], [-RADIUS, RADIUS]</span>
<span class="gtkdoc slc">// We first center, then change the scale</span>

width <span class="gtkdoc opt">=</span> <span class="function"><a href="gdk3-Windows.html#gdk-window-get-width">gdk_window_get_width</a></span> <span class="gtkdoc opt">(</span>window<span class="gtkdoc opt">);</span>
height <span class="gtkdoc opt">=</span> <span class="function"><a href="gdk3-Windows.html#gdk-window-get-height">gdk_window_get_height</a></span> <span class="gtkdoc opt">(</span>window<span class="gtkdoc opt">);</span>
radius <span class="gtkdoc opt">=</span> <span class="function"><a href="../../glib/stable/glib-Standard-Macros.html#MIN:CAPS">MIN</a></span> <span class="gtkdoc opt">(</span>width<span class="gtkdoc opt">,</span> height<span class="gtkdoc opt">) /</span> <span class="number">2</span><span class="gtkdoc opt">.;</span>

<span class="function">cairo_translate</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span>
                 radius <span class="gtkdoc opt">+ (</span>width <span class="gtkdoc opt">-</span> <span class="number">2</span> <span class="gtkdoc opt">*</span> radius<span class="gtkdoc opt">) /</span> <span class="number">2</span><span class="gtkdoc opt">,</span>
                 radius <span class="gtkdoc opt">+ (</span>height <span class="gtkdoc opt">-</span> <span class="number">2</span> <span class="gtkdoc opt">*</span> radius<span class="gtkdoc opt">) /</span> <span class="number">2</span><span class="gtkdoc opt">);</span>
                 <span class="function">cairo_scale</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> radius <span class="gtkdoc opt">/</span> RADIUS<span class="gtkdoc opt">,</span> radius <span class="gtkdoc opt">/</span> RADIUS<span class="gtkdoc opt">);</span>

<span class="gtkdoc slc">// Create a PangoLayout, set the font and text</span>
context <span class="gtkdoc opt">=</span> <span class="function"><a href="gdk3-Pango-Interaction.html#gdk-pango-context-get-for-screen">gdk_pango_context_get_for_screen</a></span> <span class="gtkdoc opt">(</span>screen<span class="gtkdoc opt">);</span>
layout <span class="gtkdoc opt">=</span> <span class="function"><a href="../../pango/stable/pango-Layout-Objects.html#pango-layout-new">pango_layout_new</a></span> <span class="gtkdoc opt">(</span>context<span class="gtkdoc opt">);</span>
<span class="function"><a href="../../pango/stable/pango-Layout-Objects.html#pango-layout-set-text">pango_layout_set_text</a></span> <span class="gtkdoc opt">(</span>layout<span class="gtkdoc opt">,</span> <span class="string">"Text"</span><span class="gtkdoc opt">, -</span><span class="number">1</span><span class="gtkdoc opt">);</span>
desc <span class="gtkdoc opt">=</span> <span class="function"><a href="../../pango/stable/pango-Fonts.html#pango-font-description-from-string">pango_font_description_from_string</a></span> <span class="gtkdoc opt">(</span>FONT<span class="gtkdoc opt">);</span>
<span class="function"><a href="../../pango/stable/pango-Layout-Objects.html#pango-layout-set-font-description">pango_layout_set_font_description</a></span> <span class="gtkdoc opt">(</span>layout<span class="gtkdoc opt">,</span> desc<span class="gtkdoc opt">);</span>
<span class="function"><a href="../../pango/stable/pango-Fonts.html#pango-font-description-free">pango_font_description_free</a></span> <span class="gtkdoc opt">(</span>desc<span class="gtkdoc opt">);</span>

<span class="gtkdoc slc">// Draw the layout N_WORDS times in a circle</span>
<span class="keyword">for</span> <span class="gtkdoc opt">(</span>i <span class="gtkdoc opt">=</span> <span class="number">0</span><span class="gtkdoc opt">;</span> i <span class="gtkdoc opt">&lt;</span> N_WORDS<span class="gtkdoc opt">;</span> i<span class="gtkdoc opt">++)</span>
  <span class="gtkdoc opt">{</span>
    <span class="gtkdoc kwb">double</span> red<span class="gtkdoc opt">,</span> green<span class="gtkdoc opt">,</span> blue<span class="gtkdoc opt">;</span>
    <span class="gtkdoc kwb">double</span> angle <span class="gtkdoc opt">=</span> <span class="number">2</span> <span class="gtkdoc opt">*</span> G_PI <span class="gtkdoc opt">*</span> i <span class="gtkdoc opt">/</span> n_words<span class="gtkdoc opt">;</span>

    <span class="function">cairo_save</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">);</span>

    <span class="gtkdoc slc">// Gradient from red at angle == 60 to blue at angle == 300</span>
    red <span class="gtkdoc opt">= (</span><span class="number">1</span> <span class="gtkdoc opt">+</span> <span class="function">cos</span> <span class="gtkdoc opt">(</span>angle <span class="gtkdoc opt">-</span> <span class="number">60</span><span class="gtkdoc opt">)) /</span> <span class="number">2</span><span class="gtkdoc opt">;</span>
    green <span class="gtkdoc opt">=</span> <span class="number">0</span><span class="gtkdoc opt">;</span>
    blue <span class="gtkdoc opt">=</span> <span class="number">1</span> <span class="gtkdoc opt">-</span> red<span class="gtkdoc opt">;</span>

    <span class="function">cairo_set_source_rgb</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> red<span class="gtkdoc opt">,</span> green<span class="gtkdoc opt">,</span> blue<span class="gtkdoc opt">);</span>
    <span class="function">cairo_rotate</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> angle<span class="gtkdoc opt">);</span>

    <span class="gtkdoc slc">// Inform Pango to re-layout the text with the new transformation matrix</span>
    <span class="function"><a href="../../pango/stable/pango-Cairo-Rendering.html#pango-cairo-update-layout">pango_cairo_update_layout</a></span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> layout<span class="gtkdoc opt">);</span>

    <span class="function"><a href="../../pango/stable/pango-Layout-Objects.html#pango-layout-get-size">pango_layout_get_size</a></span> <span class="gtkdoc opt">(</span>layout<span class="gtkdoc opt">, &amp;</span>width<span class="gtkdoc opt">, &amp;</span>height<span class="gtkdoc opt">);</span>

    <span class="function">cairo_move_to</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">, -</span> width <span class="gtkdoc opt">/</span> <span class="number">2</span> <span class="gtkdoc opt">/</span> PANGO_SCALE<span class="gtkdoc opt">, -</span> DEFAULT_TEXT_RADIUS<span class="gtkdoc opt">);</span>
    <span class="function"><a href="../../pango/stable/pango-Cairo-Rendering.html#pango-cairo-show-layout">pango_cairo_show_layout</a></span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> layout<span class="gtkdoc opt">);</span>

    <span class="function">cairo_restore</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">);</span>
  <span class="gtkdoc opt">}</span>

<span class="function"><a href="../../gobject/stable/gobject-The-Base-Object-Type.html#g-object-unref">g_object_unref</a></span> <span class="gtkdoc opt">(</span>layout<span class="gtkdoc opt">);</span>
<span class="function"><a href="../../gobject/stable/gobject-The-Base-Object-Type.html#g-object-unref">g_object_unref</a></span> <span class="gtkdoc opt">(</span>context<span class="gtkdoc opt">);</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p></p>
</div>
<div class="refsect3">
<a name="id-1.2.27.5.6"></a><h4>Output of the <a class="link" href="gdk3-Pango-Interaction.html#rotated-example" title="Draw transformed text with Pango and cairo">example</a> above.</h4>
<p><span class="inlinemediaobject"><img src="rotated-text.png"></img></span></p>
</div>
</div>
<div class="refsect1">
<a name="gdk3-Pango-Interaction.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gdk-pango-layout-get-clip-region"></a><h3>gdk_pango_layout_get_clip_region ()</h3>
<pre class="programlisting"><span class="returnvalue">cairo_region_t</span> *
gdk_pango_layout_get_clip_region (<em class="parameter"><code><a href="../../pango/stable/pango-Layout-Objects.html#PangoLayout-struct"><span class="type">PangoLayout</span></a> *layout</code></em>,
                                  <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x_origin</code></em>,
                                  <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y_origin</code></em>,
                                  <em class="parameter"><code>const <a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> *index_ranges</code></em>,
                                  <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> n_ranges</code></em>);</pre>
<p>Obtains a clip region which contains the areas where the given ranges
of text would be drawn. <em class="parameter"><code>x_origin</code></em>
 and <em class="parameter"><code>y_origin</code></em>
 are the top left point
to center the layout. <em class="parameter"><code>index_ranges</code></em>
 should contain
ranges of bytes in the layout’s text.</p>
<p>Note that the regions returned correspond to logical extents of the text
ranges, not ink extents. So the drawn layout may in fact touch areas out of
the clip region.  The clip region is mainly useful for highlightling parts
of text, such as when text is selected.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gdk-pango-layout-get-clip-region.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>layout</p></td>
<td class="parameter_description"><p>a <a href="../../pango/stable/pango-Layout-Objects.html#PangoLayout-struct"><span class="type">PangoLayout</span></a> </p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x_origin</p></td>
<td class="parameter_description"><p>X pixel where you intend to draw the layout with this clip</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y_origin</p></td>
<td class="parameter_description"><p>Y pixel where you intend to draw the layout with this clip</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>index_ranges</p></td>
<td class="parameter_description"><p>array of byte indexes into the layout, where even members of array are start indexes and odd elements are end indexes</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>n_ranges</p></td>
<td class="parameter_description"><p>number of ranges in <em class="parameter"><code>index_ranges</code></em>
, i.e. half the size of <em class="parameter"><code>index_ranges</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gdk-pango-layout-get-clip-region.returns"></a><h4>Returns</h4>
<p> a clip region containing the given ranges</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdk-pango-layout-line-get-clip-region"></a><h3>gdk_pango_layout_line_get_clip_region ()</h3>
<pre class="programlisting"><span class="returnvalue">cairo_region_t</span> *
gdk_pango_layout_line_get_clip_region (<em class="parameter"><code><a href="../../pango/stable/pango-Layout-Objects.html#PangoLayoutLine-struct"><span class="type">PangoLayoutLine</span></a> *line</code></em>,
                                       <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x_origin</code></em>,
                                       <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y_origin</code></em>,
                                       <em class="parameter"><code>const <a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> *index_ranges</code></em>,
                                       <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> n_ranges</code></em>);</pre>
<p>Obtains a clip region which contains the areas where the given
ranges of text would be drawn. <em class="parameter"><code>x_origin</code></em>
 and <em class="parameter"><code>y_origin</code></em>
 are the top left
position of the layout. <em class="parameter"><code>index_ranges</code></em>

should contain ranges of bytes in the layout’s text. The clip
region will include space to the left or right of the line (to the
layout bounding box) if you have indexes above or below the indexes
contained inside the line. This is to draw the selection all the way
to the side of the layout. However, the clip region is in line coordinates,
not layout coordinates.</p>
<p>Note that the regions returned correspond to logical extents of the text
ranges, not ink extents. So the drawn line may in fact touch areas out of
the clip region.  The clip region is mainly useful for highlightling parts
of text, such as when text is selected.</p>
<p><span class="annotation">[<acronym title="Exposed in C code, not necessarily available in other languages."><span class="acronym">skip</span></acronym>]</span></p>
<div class="refsect3">
<a name="gdk-pango-layout-line-get-clip-region.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>line</p></td>
<td class="parameter_description"><p>a <a href="../../pango/stable/pango-Layout-Objects.html#PangoLayoutLine-struct"><span class="type">PangoLayoutLine</span></a> </p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x_origin</p></td>
<td class="parameter_description"><p>X pixel where you intend to draw the layout line with this clip</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y_origin</p></td>
<td class="parameter_description"><p>baseline pixel where you intend to draw the layout line with this clip</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>index_ranges</p></td>
<td class="parameter_description"><p> array of byte indexes into the layout,
where even members of array are start indexes and odd elements
are end indexes. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>n_ranges</p></td>
<td class="parameter_description"><p>number of ranges in <em class="parameter"><code>index_ranges</code></em>
, i.e. half the size of <em class="parameter"><code>index_ranges</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gdk-pango-layout-line-get-clip-region.returns"></a><h4>Returns</h4>
<p> a clip region containing the given ranges</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdk-pango-context-get"></a><h3>gdk_pango_context_get ()</h3>
<pre class="programlisting"><a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="returnvalue">PangoContext</span></a> *
gdk_pango_context_get (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>Creates a <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a> for the default GDK screen.</p>
<p>The context must be freed when you’re finished with it.</p>
<p>When using GTK+, normally you should use <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>
instead of this function, to get the appropriate context for
the widget you intend to render text onto.</p>
<p>The newly created context will have the default font options (see
<span class="type">cairo_font_options_t</span>) for the default screen; if these options
change it will not be updated. Using <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>
is more convenient if you want to keep a context around and track
changes to the screen’s font rendering settings.</p>
<div class="refsect3">
<a name="gdk-pango-context-get.returns"></a><h4>Returns</h4>
<p> a new <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a> for the default display. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdk-pango-context-get-for-screen"></a><h3>gdk_pango_context_get_for_screen ()</h3>
<pre class="programlisting"><a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="returnvalue">PangoContext</span></a> *
gdk_pango_context_get_for_screen (<em class="parameter"><code><a class="link" href="GdkScreen.html" title="GdkScreen"><span class="type">GdkScreen</span></a> *screen</code></em>);</pre>
<p>Creates a <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a> for <em class="parameter"><code>screen</code></em>
.</p>
<p>The context must be freed when you’re finished with it.</p>
<p>When using GTK+, normally you should use <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>
instead of this function, to get the appropriate context for
the widget you intend to render text onto.</p>
<p>The newly created context will have the default font options
(see <span class="type">cairo_font_options_t</span>) for the screen; if these options
change it will not be updated. Using <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>
is more convenient if you want to keep a context around and track
changes to the screen’s font rendering settings.</p>
<div class="refsect3">
<a name="gdk-pango-context-get-for-screen.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>screen</p></td>
<td class="parameter_description"><p>the <a class="link" href="GdkScreen.html" title="GdkScreen"><span class="type">GdkScreen</span></a> for which the context is to be created.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gdk-pango-context-get-for-screen.returns"></a><h4>Returns</h4>
<p> a new <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a> for <em class="parameter"><code>screen</code></em>
. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
</div>
<p class="since">Since: 2.2</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdk-pango-context-get-for-display"></a><h3>gdk_pango_context_get_for_display ()</h3>
<pre class="programlisting"><a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="returnvalue">PangoContext</span></a> *
gdk_pango_context_get_for_display (<em class="parameter"><code><a class="link" href="GdkDisplay.html" title="GdkDisplay"><span class="type">GdkDisplay</span></a> *display</code></em>);</pre>
<p>Creates a <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a> for <em class="parameter"><code>display</code></em>
.</p>
<p>The context must be freed when you’re finished with it.</p>
<p>When using GTK+, normally you should use <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>
instead of this function, to get the appropriate context for
the widget you intend to render text onto.</p>
<p>The newly created context will have the default font options
(see <span class="type">cairo_font_options_t</span>) for the display; if these options
change it will not be updated. Using <a href="../gtk4/GtkWidget.html#gtk-widget-get-pango-context"><code class="function">gtk_widget_get_pango_context()</code></a>
is more convenient if you want to keep a context around and track
changes to the font rendering settings.</p>
<div class="refsect3">
<a name="gdk-pango-context-get-for-display.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>display</p></td>
<td class="parameter_description"><p>the <a class="link" href="GdkDisplay.html" title="GdkDisplay"><span class="type">GdkDisplay</span></a> for which the context is to be created</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gdk-pango-context-get-for-display.returns"></a><h4>Returns</h4>
<p> a new <a href="../../pango/stable/pango-Text-Processing.html#PangoContext-struct"><span class="type">PangoContext</span></a> for <em class="parameter"><code>display</code></em>
. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
</div>
<p class="since">Since: <a class="link" href="api-index-3-22.html#api-index-3.22">3.22</a></p>
</div>
</div>
<div class="refsect1">
<a name="gdk3-Pango-Interaction.other_details"></a><h2>Types and Values</h2>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.25.1</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://bugzilla.gnome.org/">Bug Tracker</a></li><li><a href="https://git.gnome.org/browse/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://identi.ca/gnome/">Identi.ca</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="/languages" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="/js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
