<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>General</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.0"><link rel="start" href="index.html" title="GDK Reference Manual"><link rel="up" href="reference.html" title="API Reference"><link rel="prev" href="reference.html" title="API Reference"><link rel="next" href="multihead.html" title="Multi-head Support Overview"><meta name="generator" content="GTK-Doc V1.3 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"><link rel="reference" href="reference.html" title="API Reference"><link rel="index" href="ix01.html" title="Index"><link rel="index" href="ix02.html" title="Index of deprecated symbols"><link rel="index" href="ix03.html" title="Index of new symbols in 2.2"><link rel="index" href="ix04.html" title="Index of new symbols in 2.4"><link rel="index" href="ix05.html" title="Index of new symbols in 2.6"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="reference.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="reference.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GDK Reference Manual</th><td><a accesskey="n" href="multihead.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gdk-General"></a><div class="titlepage"></div><div class="refnamediv"><table width="100%"><tr><td valign="top"><h2><span class="refentrytitle">General</span></h2><p>General &#8212; Library initialization and miscellaneous functions</p></td><td valign="top" align="right"></td></tr></table></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;gdk/gdk.h&gt;


void        <a href="gdk-General.html#gdk-init">gdk_init</a>                        (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *argc,
                                             <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> ***argv);
<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="gdk-General.html#gdk-init-check">gdk_init_check</a>                  (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *argc,
                                             <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> ***argv);
void        <a href="gdk-General.html#gdk-parse-args">gdk_parse_args</a>                  (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *argc,
                                             <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> ***argv);
const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>* <a href="gdk-General.html#gdk-get-display-arg-name">gdk_get_display_arg_name</a>       (void);
<a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>*      <a href="gdk-General.html#gdk-set-locale">gdk_set_locale</a>                  (void);
void        <a href="gdk-General.html#gdk-set-sm-client-id">gdk_set_sm_client_id</a>            (const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *sm_client_id);
void        <a href="gdk-General.html#gdk-exit">gdk_exit</a>                        (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> error_code);
void        <a href="gdk-General.html#gdk-notify-startup-complete">gdk_notify_startup_complete</a>     (void);

const char* <a href="gdk-General.html#gdk-get-program-class">gdk_get_program_class</a>           (void);
void        <a href="gdk-General.html#gdk-set-program-class">gdk_set_program_class</a>           (const char *program_class);

<a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>*      <a href="gdk-General.html#gdk-get-display">gdk_get_display</a>                 (void);

void        <a href="gdk-General.html#gdk-flush">gdk_flush</a>                       (void);

<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="gdk-General.html#gdk-screen-width">gdk_screen_width</a>                (void);
<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="gdk-General.html#gdk-screen-height">gdk_screen_height</a>               (void);
<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="gdk-General.html#gdk-screen-width-mm">gdk_screen_width_mm</a>             (void);
<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="gdk-General.html#gdk-screen-height-mm">gdk_screen_height_mm</a>            (void);

<a href="gdk-General.html#GdkGrabStatus">GdkGrabStatus</a> <a href="gdk-General.html#gdk-pointer-grab">gdk_pointer_grab</a>              (<a href="gdk-Windows.html#GdkWindow">GdkWindow</a> *window,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> owner_events,
                                             <a href="gdk-Events.html#GdkEventMask">GdkEventMask</a> event_mask,
                                             <a href="gdk-Windows.html#GdkWindow">GdkWindow</a> *confine_to,
                                             <a href="gdk-Cursors.html#GdkCursor">GdkCursor</a> *cursor,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);
enum        <a href="gdk-General.html#GdkGrabStatus">GdkGrabStatus</a>;
void        <a href="gdk-General.html#gdk-pointer-ungrab">gdk_pointer_ungrab</a>              (<a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);
<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="gdk-General.html#gdk-pointer-is-grabbed">gdk_pointer_is_grabbed</a>          (void);
void        <a href="gdk-General.html#gdk-set-double-click-time">gdk_set_double_click_time</a>       (<a
href="../glib/glib-Basic-Types.html#guint"
>guint</a> msec);

<a href="gdk-General.html#GdkGrabStatus">GdkGrabStatus</a> <a href="gdk-General.html#gdk-keyboard-grab">gdk_keyboard_grab</a>             (<a href="gdk-Windows.html#GdkWindow">GdkWindow</a> *window,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> owner_events,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);
void        <a href="gdk-General.html#gdk-keyboard-ungrab">gdk_keyboard_ungrab</a>             (<a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);

void        <a href="gdk-General.html#gdk-beep">gdk_beep</a>                        (void);

<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="gdk-General.html#gdk-get-use-xshm">gdk_get_use_xshm</a>                (void);
void        <a href="gdk-General.html#gdk-set-use-xshm">gdk_set_use_xshm</a>                (<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> use_xshm);

void        <a href="gdk-General.html#gdk-error-trap-push">gdk_error_trap_push</a>             (void);
<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="gdk-General.html#gdk-error-trap-pop">gdk_error_trap_pop</a>              (void);

#define     <a href="gdk-General.html#GDK-WINDOWING-X11:CAPS">GDK_WINDOWING_X11</a>
#define     <a href="gdk-General.html#GDK-WINDOWING-WIN32:CAPS">GDK_WINDOWING_WIN32</a>
#define     <a href="gdk-General.html#GDK-WINDOWING-FB:CAPS">GDK_WINDOWING_FB</a>


</pre></div><div class="refsect1" lang="en"><a name="id2596850"></a><h2>Description</h2><p>
This section describes the GDK initialization functions and miscellaneous
utility functions.
</p></div><div class="refsect1" lang="en"><a name="id2596861"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2596867"></a><h3><a name="gdk-init"></a>gdk_init ()</h3><a class="indexterm" name="id2596876"></a><pre class="programlisting">void        gdk_init                        (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *argc,
                                             <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> ***argv);</pre><p>
Initializes the GDK library and connects to the X server.
If initialization fails, a warning message is output and the application
terminates with a call to <tt class="literal">exit(1)</tt>.
</p><p>
Any arguments used by GDK are removed from the array and <i class="parameter"><tt>argc</tt></i> and <i class="parameter"><tt>argv</tt></i> are
updated accordingly.
</p><p>
GTK+ initializes GDK in <tt class="function">gtk_init()</tt> and so this function is not usually needed
by GTK+ applications.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>argc</tt></i> :</span></td><td>the number of command line arguments.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>argv</tt></i> :</span></td><td>the array of command line arguments.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2596984"></a><h3><a name="gdk-init-check"></a>gdk_init_check ()</h3><a class="indexterm" name="id2596994"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    gdk_init_check                  (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *argc,
                                             <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> ***argv);</pre><p>
Initializes the GDK library and connects to the X server, returning <tt class="literal">TRUE</tt> on
success.
</p><p>
Any arguments used by GDK are removed from the array and <i class="parameter"><tt>argc</tt></i> and <i class="parameter"><tt>argv</tt></i> are
updated accordingly.
</p><p>
GTK+ initializes GDK in <tt class="function">gtk_init()</tt> and so this function is not usually needed
by GTK+ applications.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>argc</tt></i> :</span></td><td>the number of command line arguments.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>argv</tt></i> :</span></td><td>the array of command line arguments.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td><tt class="literal">TRUE</tt> if initialization succeeded.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642100"></a><h3><a name="gdk-parse-args"></a>gdk_parse_args ()</h3><a class="indexterm" name="id2642110"></a><pre class="programlisting">void        gdk_parse_args                  (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> *argc,
                                             <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> ***argv);</pre><p>
Parse command line arguments, and store for future
use by calls to <a href="GdkDisplay.html#gdk-display-open"><tt class="function">gdk_display_open()</tt></a>.
</p><p>
Any arguments used by GDK are removed from the array and <i class="parameter"><tt>argc</tt></i> and <i class="parameter"><tt>argv</tt></i> are
updated accordingly.
</p><p>
You shouldn't call this function explicitely if you are using
<tt class="function">gtk_init()</tt>, <tt class="function">gtk_init_check()</tt>, <a href="gdk-General.html#gdk-init"><tt class="function">gdk_init()</tt></a>, or <a href="gdk-General.html#gdk-init-check"><tt class="function">gdk_init_check()</tt></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>argc</tt></i> :</span></td><td> the number of command line arguments.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>argv</tt></i> :</span></td><td> the array of command line arguments.
</td></tr></tbody></table></div><p>Since  2.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2642263"></a><h3><a name="gdk-get-display-arg-name"></a>gdk_get_display_arg_name ()</h3><a class="indexterm" name="id2642273"></a><pre class="programlisting">const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>* gdk_get_display_arg_name       (void);</pre><p>
Gets the display name specified in the command line arguments passed
to <a href="gdk-General.html#gdk-init"><tt class="function">gdk_init()</tt></a> or <a href="gdk-General.html#gdk-parse-args"><tt class="function">gdk_parse_args()</tt></a>, if any.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the display name, if specified explicitely, otherwise <tt class="literal">NULL</tt>
  this string is owned by GTK+ and must not be modified or freed.

</td></tr></tbody></table></div><p>Since  2.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2642348"></a><h3><a name="gdk-set-locale"></a>gdk_set_locale ()</h3><a class="indexterm" name="id2642358"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>*      gdk_set_locale                  (void);</pre><p>
Initializes the support for internationalization by calling the <tt class="function"><tt class="function">setlocale()</tt></tt>
system call. This function is called by <tt class="function">gtk_set_locale()</tt> and so GTK+
applications should use that instead.
</p><p>
The locale to use is determined by the <tt class="envar">LANG</tt> environment variable,
so to run an application in a certain locale you can do something like this:
</p><div class="informalexample"><pre class="programlisting">
  export LANG="fr"
  ... run application ...
</pre></div><p>
</p><p>
If the locale is not supported by X then it is reset to the standard "C"
locale.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the resulting locale.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642446"></a><h3><a name="gdk-set-sm-client-id"></a>gdk_set_sm_client_id ()</h3><a class="indexterm" name="id2642457"></a><pre class="programlisting">void        gdk_set_sm_client_id            (const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *sm_client_id);</pre><p>
Sets the <tt class="literal">SM_CLIENT_ID</tt> property on the application's leader window so that
the window manager can save the application's state using the X11R6 ICCCM
session management protocol.
</p><p>
See the X Session Management Library documentation for more information on
session management and the Inter-Client Communication Conventions Manual
(ICCCM) for information on the <tt class="literal">WM_CLIENT_LEADER</tt> property. 
(Both documents are part of the X Window System distribution.)</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>sm_client_id</tt></i> :</span></td><td> the client id assigned by the session manager when the
   connection was opened, or <tt class="literal">NULL</tt> to remove the property.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642537"></a><h3><a name="gdk-exit"></a>gdk_exit ()</h3><a class="indexterm" name="id2642547"></a><pre class="programlisting">void        gdk_exit                        (<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> error_code);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_exit</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Exits the application using the <tt class="function"><tt class="function">exit()</tt></tt> system call.
</p><p>
This routine is provided mainly for backwards compatibility, since it used to
perform tasks necessary to exit the application cleanly. Those tasks are now
performed in a function which is automatically called on exit (via the use
of <a
href="../glib/glib-Miscellaneous-Utility-Functions.html#g-atexit"
><tt class="function">g_atexit()</tt></a>).
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>error_code</tt></i> :</span></td><td>the error code to pass to the <tt class="function"><tt class="function">exit()</tt></tt> call.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642655"></a><h3><a name="gdk-notify-startup-complete"></a>gdk_notify_startup_complete ()</h3><a class="indexterm" name="id2642666"></a><pre class="programlisting">void        gdk_notify_startup_complete     (void);</pre><p>
Indicates to the GUI environment that the application has finished
loading. If the applications opens windows, this function is
normally called after opening the application's initial set of
windows.
</p><p>
GTK+ will call this function automatically after opening the first
<span class="type">GtkWindow</span> unless <tt class="function">gtk_window_set_auto_startup_notification()</tt> is called 
to disable that feature.</p><p>

</p><p>Since  2.2
</p></div><hr><div class="refsect2" lang="en"><a name="id2642723"></a><h3><a name="gdk-get-program-class"></a>gdk_get_program_class ()</h3><a class="indexterm" name="id2642733"></a><pre class="programlisting">const char* gdk_get_program_class           (void);</pre><p>
Gets the program class. Unless the program class has explicitly
been set with <a href="gdk-General.html#gdk-set-program-class"><tt class="function">gdk_set_program_class()</tt></a> or with the <tt class="option">--class</tt> 
commandline option, the default value is the program name (determined 
with <a
href="../glib/glib-Miscellaneous-Utility-Functions.html#g-get-prgname"
><tt class="function">g_get_prgname()</tt></a>) with the first character converted to uppercase. 
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the program class.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642801"></a><h3><a name="gdk-set-program-class"></a>gdk_set_program_class ()</h3><a class="indexterm" name="id2642811"></a><pre class="programlisting">void        gdk_set_program_class           (const char *program_class);</pre><p>
Sets the program class. The X11 backend uses the program class to set
the class name part of the <tt class="literal">WM_CLASS</tt> property on
toplevel windows; see the ICCCM.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>program_class</tt></i> :</span></td><td>a string.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642867"></a><h3><a name="gdk-get-display"></a>gdk_get_display ()</h3><a class="indexterm" name="id2642877"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>*      gdk_get_display                 (void);</pre><p>
Gets the name of the display, which usually comes from the <tt class="envar">DISPLAY</tt>
environment variable or the <tt class="option">--display</tt> command line option.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the name of the display.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2642922"></a><h3><a name="gdk-flush"></a>gdk_flush ()</h3><a class="indexterm" name="id2642932"></a><pre class="programlisting">void        gdk_flush                       (void);</pre><p>
Flushes the X output buffer and waits until all requests have been processed
by the server. This is rarely needed by applications. It's main use is for
trapping X errors with <a href="gdk-General.html#gdk-error-trap-push"><tt class="function">gdk_error_trap_push()</tt></a> and <a href="gdk-General.html#gdk-error-trap-pop"><tt class="function">gdk_error_trap_pop()</tt></a>.
</p></div><hr><div class="refsect2" lang="en"><a name="id2642978"></a><h3><a name="gdk-screen-width"></a>gdk_screen_width ()</h3><a class="indexterm" name="id2642988"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        gdk_screen_width                (void);</pre><p>
Returns the width of the default screen in pixels.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the width of the default screen in pixels.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643029"></a><h3><a name="gdk-screen-height"></a>gdk_screen_height ()</h3><a class="indexterm" name="id2643039"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        gdk_screen_height               (void);</pre><p>
Returns the height of the default screen in pixels.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the height of the default screen in pixels.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643080"></a><h3><a name="gdk-screen-width-mm"></a>gdk_screen_width_mm ()</h3><a class="indexterm" name="id2643090"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        gdk_screen_width_mm             (void);</pre><p>
Returns the width of the default screen in millimeters.
Note that on many X servers this value will not be correct.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the width of the default screen in millimeters,
though it is not always correct.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643133"></a><h3><a name="gdk-screen-height-mm"></a>gdk_screen_height_mm ()</h3><a class="indexterm" name="id2643144"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        gdk_screen_height_mm            (void);</pre><p>
Returns the height of the default screen in millimeters.
Note that on many X servers this value will not be correct.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the height of the default screen in millimeters,
though it is not always correct.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643186"></a><h3><a name="gdk-pointer-grab"></a>gdk_pointer_grab ()</h3><a class="indexterm" name="id2643196"></a><pre class="programlisting"><a href="gdk-General.html#GdkGrabStatus">GdkGrabStatus</a> gdk_pointer_grab              (<a href="gdk-Windows.html#GdkWindow">GdkWindow</a> *window,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> owner_events,
                                             <a href="gdk-Events.html#GdkEventMask">GdkEventMask</a> event_mask,
                                             <a href="gdk-Windows.html#GdkWindow">GdkWindow</a> *confine_to,
                                             <a href="gdk-Cursors.html#GdkCursor">GdkCursor</a> *cursor,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);</pre><p>
Grabs the pointer (usually a mouse) so that all events are passed to this
application until the pointer is ungrabbed with <a href="gdk-General.html#gdk-pointer-ungrab"><tt class="function">gdk_pointer_ungrab()</tt></a>, or
the grab window becomes unviewable.
This overrides any previous pointer grab by this client.
</p><p>
Pointer grabs are used for operations which need complete control over mouse
events, even if the mouse leaves the application.
For example in GTK+ it is used for Drag and Drop, for dragging the handle in
the <span class="type">GtkHPaned</span> and <span class="type">GtkVPaned</span> widgets, and for resizing columns in <span class="type">GtkCList</span>
widgets.
</p><p>
Note that if the event mask of an X window has selected both button press and
button release events, then a button press event will cause an automatic
pointer grab until the button is released.
X does this automatically since most applications expect to receive button
press and release events in pairs.
It is equivalent to a pointer grab on the window with <i class="parameter"><tt>owner_events</tt></i> set to
<tt class="literal">TRUE</tt>.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>window</tt></i> :</span></td><td>the <a href="gdk-Windows.html#GdkWindow"><span class="type">GdkWindow</span></a> which will own the grab (the grab window).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>owner_events</tt></i> :</span></td><td>if <tt class="literal">FALSE</tt> then all pointer events are reported with respect to
<i class="parameter"><tt>window</tt></i> and are only reported if selected by <i class="parameter"><tt>event_mask</tt></i>. If <tt class="literal">TRUE</tt> then pointer
events for this application are reported as normal, but pointer events outside
this application are reported with respect to <i class="parameter"><tt>window</tt></i> and only if selected by
<i class="parameter"><tt>event_mask</tt></i>. In either mode, unreported events are discarded.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>event_mask</tt></i> :</span></td><td>specifies the event mask, which is used in accordance with
<i class="parameter"><tt>owner_events</tt></i>. Note that only pointer events (i.e. button and motion events) 
    may be selected.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>confine_to</tt></i> :</span></td><td>If non-<tt class="literal">NULL</tt>, the pointer will be confined to this
window during the grab. If the pointer is outside <i class="parameter"><tt>confine_to</tt></i>, it will
automatically be moved to the closest edge of <i class="parameter"><tt>confine_to</tt></i> and enter
and leave events will be generated as necessary.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>cursor</tt></i> :</span></td><td>the cursor to display while the grab is active. If this is <tt class="literal">NULL</tt> then
the normal cursors are used for <i class="parameter"><tt>window</tt></i> and its descendants, and the cursor
for <i class="parameter"><tt>window</tt></i> is used for all other windows.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>time_</tt></i> :</span></td><td>the timestamp of the event which led to this pointer grab. This usually
comes from a <a href="gdk-Event-Structures.html#GdkEventButton"><span class="type">GdkEventButton</span></a> struct, though <tt class="literal">GDK_CURRENT_TIME</tt> can be used if
the time isn't known.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td><tt class="literal">GDK_GRAB_SUCCESS</tt> if the grab was successful.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643551"></a><h3><a name="GdkGrabStatus"></a>enum GdkGrabStatus</h3><a class="indexterm" name="id2643561"></a><pre class="programlisting">typedef enum
{
  GDK_GRAB_SUCCESS         = 0,
  GDK_GRAB_ALREADY_GRABBED = 1,
  GDK_GRAB_INVALID_TIME    = 2,
  GDK_GRAB_NOT_VIEWABLE    = 3,
  GDK_GRAB_FROZEN          = 4
} GdkGrabStatus;
</pre><p>
Returned by <a href="gdk-General.html#gdk-pointer-grab"><tt class="function">gdk_pointer_grab()</tt></a> and <a href="gdk-General.html#gdk-keyboard-grab"><tt class="function">gdk_keyboard_grab()</tt></a> to indicate 
success or the reason for the failure of the grab attempt.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><tt class="literal">GDK_GRAB_SUCCESS</tt></span></td><td>the resource was successfully grabbed.
</td></tr><tr><td><span class="term"><tt class="literal">GDK_GRAB_ALREADY_GRABBED</tt></span></td><td>the resource is actively grabbed by another client.
</td></tr><tr><td><span class="term"><tt class="literal">GDK_GRAB_INVALID_TIME</tt></span></td><td>the resource was grabbed more recently than the 
  specified time.
</td></tr><tr><td><span class="term"><tt class="literal">GDK_GRAB_NOT_VIEWABLE</tt></span></td><td>the grab window or the <i class="parameter"><tt>confine_to</tt></i> window are not
  viewable.
</td></tr><tr><td><span class="term"><tt class="literal">GDK_GRAB_FROZEN</tt></span></td><td>the resource is frozen by an active grab of another client.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643690"></a><h3><a name="gdk-pointer-ungrab"></a>gdk_pointer_ungrab ()</h3><a class="indexterm" name="id2643700"></a><pre class="programlisting">void        gdk_pointer_ungrab              (<a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);</pre><p>
Ungrabs the pointer, if it is grabbed by this application.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>time_</tt></i> :</span></td><td> a timestamp from a <a href="gdk-Event-Structures.html#GdkEvent"><span class="type">GdkEvent</span></a>, or <tt class="literal">GDK_CURRENT_TIME</tt> if no 
 timestamp is available.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643766"></a><h3><a name="gdk-pointer-is-grabbed"></a>gdk_pointer_is_grabbed ()</h3><a class="indexterm" name="id2643776"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    gdk_pointer_is_grabbed          (void);</pre><p>
Returns <tt class="literal">TRUE</tt> if the pointer is currently grabbed by this application.
</p><p>
Note that this does not take the inmplicit pointer grab on button
presses into account.</p><p>
</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the pointer is currently grabbed by this application.* 
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643837"></a><h3><a name="gdk-set-double-click-time"></a>gdk_set_double_click_time ()</h3><a class="indexterm" name="id2643848"></a><pre class="programlisting">void        gdk_set_double_click_time       (<a
href="../glib/glib-Basic-Types.html#guint"
>guint</a> msec);</pre><p>
Set the double click time for the default display. See
<a href="GdkDisplay.html#gdk-display-set-double-click-time"><tt class="function">gdk_display_set_double_click_time()</tt></a>. 
See also <a href="GdkDisplay.html#gdk-display-set-double-click-distance"><tt class="function">gdk_display_set_double_click_distance()</tt></a>.
Applications should <span class="emphasis"><em>not</em></span> set this, it is a 
global user-configured setting.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>msec</tt></i> :</span></td><td> double click time in milliseconds (thousandths of a second)
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2643930"></a><h3><a name="gdk-keyboard-grab"></a>gdk_keyboard_grab ()</h3><a class="indexterm" name="id2643940"></a><pre class="programlisting"><a href="gdk-General.html#GdkGrabStatus">GdkGrabStatus</a> gdk_keyboard_grab             (<a href="gdk-Windows.html#GdkWindow">GdkWindow</a> *window,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> owner_events,
                                             <a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);</pre><p>
Grabs the keyboard so that all events are passed to this
application until the keyboard is ungrabbed with <a href="gdk-General.html#gdk-keyboard-ungrab"><tt class="function">gdk_keyboard_ungrab()</tt></a>.
This overrides any previous keyboard grab by this client.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>window</tt></i> :</span></td><td>the <a href="gdk-Windows.html#GdkWindow"><span class="type">GdkWindow</span></a> which will own the grab (the grab window).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>owner_events</tt></i> :</span></td><td>if <tt class="literal">FALSE</tt> then all keyboard events are reported with respect to
<i class="parameter"><tt>window</tt></i>. If <tt class="literal">TRUE</tt> then keyboard events for this application are reported as
normal, but keyboard events outside this application are reported with respect
to <i class="parameter"><tt>window</tt></i>. Both key press and key release events are always reported,
independant of the event mask set by the application.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>time_</tt></i> :</span></td><td>a timestamp from a <a href="gdk-Event-Structures.html#GdkEvent"><span class="type">GdkEvent</span></a>, or <tt class="literal">GDK_CURRENT_TIME</tt> if no timestamp is
available.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td><tt class="literal">GDK_GRAB_SUCCESS</tt> if the grab was successful.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2644111"></a><h3><a name="gdk-keyboard-ungrab"></a>gdk_keyboard_ungrab ()</h3><a class="indexterm" name="id2644121"></a><pre class="programlisting">void        gdk_keyboard_ungrab             (<a
href="../glib/glib-Basic-Types.html#guint32"
>guint32</a> time_);</pre><p>
Ungrabs the keyboard, if it is grabbed by this application.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>time_</tt></i> :</span></td><td> a timestamp from a <a href="gdk-Event-Structures.html#GdkEvent"><span class="type">GdkEvent</span></a>, or <tt class="literal">GDK_CURRENT_TIME</tt> if no
       timestamp is available.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2644186"></a><h3><a name="gdk-beep"></a>gdk_beep ()</h3><a class="indexterm" name="id2644196"></a><pre class="programlisting">void        gdk_beep                        (void);</pre><p>
Emits a short beep.</p><p>
</p></div><hr><div class="refsect2" lang="en"><a name="id2644221"></a><h3><a name="gdk-get-use-xshm"></a>gdk_get_use_xshm ()</h3><a class="indexterm" name="id2644231"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    gdk_get_use_xshm                (void);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_get_use_xshm</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Returns <tt class="literal">TRUE</tt> if GDK will attempt to use the MIT-SHM shared memory extension.
</p><p>
The shared memory extension is used for <a href="gdk-Images.html#GdkImage"><span class="type">GdkImage</span></a>, and consequently for
<a href="gdk-GdkRGB.html" title="GdkRGB">GdkRGB</a>.
It enables much faster drawing by communicating with the X server through
SYSV shared memory calls. However, it can only be used if the X client and
server are on the same machine and the server supports it.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td><tt class="literal">TRUE</tt> if use of the MIT shared memory extension will be attempted.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2644316"></a><h3><a name="gdk-set-use-xshm"></a>gdk_set_use_xshm ()</h3><a class="indexterm" name="id2644326"></a><pre class="programlisting">void        gdk_set_use_xshm                (<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> use_xshm);</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><tt class="literal">gdk_set_use_xshm</tt> is deprecated and should not be used in newly-written code.</p></div><p>
Sets whether the use of the MIT shared memory extension should be attempted.
This function is mainly for internal use. It is only safe for an application
to set this to <tt class="literal">FALSE</tt>, since if it is set to <tt class="literal">TRUE</tt> and the server does not
support the extension it may cause warning messages to be output.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>use_xshm</tt></i> :</span></td><td><tt class="literal">TRUE</tt> if use of the MIT shared memory extension should be attempted.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2644407"></a><h3><a name="gdk-error-trap-push"></a>gdk_error_trap_push ()</h3><a class="indexterm" name="id2644418"></a><pre class="programlisting">void        gdk_error_trap_push             (void);</pre><p>
This function allows X errors to be trapped instead of the normal behavior
of exiting the application. It should only be used if it is not possible to
avoid the X error in any other way.
</p><div class="example"><a name="id2644442"></a><p class="title"><b>Example 1. Trapping an X error</b></p><pre class="programlisting">
  gdk_error_trap_push ();

  /* ... Call the X function which may cause an error here ... */

  /* Flush the X queue to catch errors now. */
  gdk_flush ();

  if (gdk_error_trap_pop ())
    {
      /* ... Handle the error here ... */
    }
</pre></div></div><hr><div class="refsect2" lang="en"><a name="id2644467"></a><h3><a name="gdk-error-trap-pop"></a>gdk_error_trap_pop ()</h3><a class="indexterm" name="id2644478"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        gdk_error_trap_pop              (void);</pre><p>
Removes the X error trap installed with <a href="gdk-General.html#gdk-error-trap-push"><tt class="function">gdk_error_trap_push()</tt></a>.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the X error code, or 0 if no error occurred.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2644525"></a><h3><a name="GDK-WINDOWING-X11:CAPS"></a>GDK_WINDOWING_X11</h3><a class="indexterm" name="id2644536"></a><pre class="programlisting">#define GDK_WINDOWING_X11
</pre><p>
This macro is defined if GDK is configured to use the X backend.
</p></div><hr><div class="refsect2" lang="en"><a name="id2644552"></a><h3><a name="GDK-WINDOWING-WIN32:CAPS"></a>GDK_WINDOWING_WIN32</h3><a class="indexterm" name="id2644563"></a><pre class="programlisting">#define GDK_WINDOWING_WIN32
</pre><p>
This macro is defined if GDK is configured to use the Win32 backend.
</p></div><hr><div class="refsect2" lang="en"><a name="id2644579"></a><h3><a name="GDK-WINDOWING-FB:CAPS"></a>GDK_WINDOWING_FB</h3><a class="indexterm" name="id2644590"></a><pre class="programlisting">#define GDK_WINDOWING_FB
</pre><p>
This macro is defined if GDK is configured to use the Linux framebuffer backend.
</p></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="reference.html"><b>&lt;&lt; API Reference</b></a></td><td align="right"><a accesskey="n" href="multihead.html"><b>Multi-head Support Overview &gt;&gt;</b></a></td></tr></table></body></html>
