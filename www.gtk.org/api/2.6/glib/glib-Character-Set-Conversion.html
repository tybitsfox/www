<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Character Set Conversion</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.0"><link rel="start" href="index.html" title="GLib Reference Manual"><link rel="up" href="glib-utilities.html" title="GLib Utilities"><link rel="prev" href="glib-String-Utility-Functions.html" title="String Utility Functions"><link rel="next" href="glib-Unicode-Manipulation.html" title="Unicode Manipulation"><meta name="generator" content="GTK-Doc V1.3 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"><link rel="chapter" href="glib.html" title="GLib Overview"><link rel="chapter" href="glib-fundamentals.html" title="GLib Fundamentals"><link rel="chapter" href="glib-core.html" title="GLib Core Application Support"><link rel="chapter" href="glib-utilities.html" title="GLib Utilities"><link rel="chapter" href="glib-data-types.html" title="GLib Data Types"><link rel="chapter" href="tools.html" title="GLib Tools"><link rel="index" href="ix01.html" title="Index"><link rel="index" href="ix02.html" title="Index of deprecated symbols"><link rel="index" href="ix03.html" title="Index of new symbols in 2.2"><link rel="index" href="ix04.html" title="Index of new symbols in 2.4"><link rel="index" href="ix05.html" title="Index of new symbols in 2.6"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="glib-String-Utility-Functions.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="glib-utilities.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GLib Reference Manual</th><td><a accesskey="n" href="glib-Unicode-Manipulation.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="glib-Character-Set-Conversion"></a><div class="titlepage"></div><div class="refnamediv"><table width="100%"><tr><td valign="top"><h2><span class="refentrytitle">Character Set Conversion</span></h2><p>Character Set Conversion &#8212; convert strings between different character sets using <tt class="function"><tt class="function">iconv()</tt></tt>.</p></td><td valign="top" align="right"></td></tr></table></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;glib.h&gt;


<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-convert">g_convert</a>                       (const <a href="glib-Basic-Types.html#gchar">gchar</a> *str,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *to_codeset,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *from_codeset,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-convert-with-fallback">g_convert_with_fallback</a>         (const <a href="glib-Basic-Types.html#gchar">gchar</a> *str,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *to_codeset,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *from_codeset,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *fallback,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
            <a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a>;
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-convert-with-iconv">g_convert_with_iconv</a>            (const <a href="glib-Basic-Types.html#gchar">gchar</a> *str,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a> converter,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
#define     <a href="glib-Character-Set-Conversion.html#G-CONVERT-ERROR:CAPS">G_CONVERT_ERROR</a>
<a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a>      <a href="glib-Character-Set-Conversion.html#g-iconv-open">g_iconv_open</a>                    (const <a href="glib-Basic-Types.html#gchar">gchar</a> *to_codeset,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *from_codeset);
size_t      <a href="glib-Character-Set-Conversion.html#g-iconv">g_iconv</a>                         (<a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a> converter,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **inbuf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *inbytes_left,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **outbuf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *outbytes_left);
<a href="glib-Basic-Types.html#gint">gint</a>        <a href="glib-Character-Set-Conversion.html#g-iconv-close">g_iconv_close</a>                   (<a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a> converter);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-locale-to-utf8">g_locale_to_utf8</a>                (const <a href="glib-Basic-Types.html#gchar">gchar</a> *opsysstring,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-filename-to-utf8">g_filename_to_utf8</a>              (const <a href="glib-Basic-Types.html#gchar">gchar</a> *opsysstring,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-filename-from-utf8">g_filename_from_utf8</a>            (const <a href="glib-Basic-Types.html#gchar">gchar</a> *utf8string,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-filename-from-uri">g_filename_from_uri</a>             (const <a href="glib-Basic-Types.html#gchar">gchar</a> *uri,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **hostname,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-filename-to-uri">g_filename_to_uri</a>               (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *hostname,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Character-Set-Conversion.html#g-get-filename-charsets">g_get_filename_charsets</a>         (G_CONST_RETURN <a href="glib-Basic-Types.html#gchar">gchar</a> ***charsets);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-filename-display-name">g_filename_display_name</a>         (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-filename-display-basename">g_filename_display_basename</a>     (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename);
<a href="glib-Basic-Types.html#gchar">gchar</a>**     <a href="glib-Character-Set-Conversion.html#g-uri-list-extract-uris">g_uri_list_extract_uris</a>         (const <a href="glib-Basic-Types.html#gchar">gchar</a> *uri_list);
<a href="glib-Basic-Types.html#gchar">gchar</a>*      <a href="glib-Character-Set-Conversion.html#g-locale-from-utf8">g_locale_from_utf8</a>              (const <a href="glib-Basic-Types.html#gchar">gchar</a> *utf8string,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
enum        <a href="glib-Character-Set-Conversion.html#GConvertError">GConvertError</a>;

<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Character-Set-Conversion.html#g-get-charset">g_get_charset</a>                   (G_CONST_RETURN char **charset);

</pre></div><div class="refsect1" lang="en"><a name="id3028573"></a><h2>Description</h2><p>

</p><div class="refsect2" lang="en"><a name="file-name-encodings"></a><h3>File Name Encodings</h3><p>
	Historically, Unix has not had a defined encoding for file
	names:  a file name is valid as long as it does not have path
	separators in it ("/").  However, displaying file names may
	require conversion:  from the character set in which they were
	created, to the character set in which the application
	operates.  Consider the Spanish file name
	"<tt class="filename">Presentación.sxi</tt>".  If the
	application which created it uses ISO-8859-1 for its encoding,
	then the actual file name on disk would look like this:
      </p><a name="filename-iso8859-1"></a><pre class="programlisting">
Character:  P  r  e  s  e  n  t  a  c  i  ó  n  .  s  x  i
Hex code:   50 72 65 73 65 6e 74 61 63 69 f3 6e 2e 73 78 69
      </pre><p>
	However, if the application use UTF-8, the actual file name on
	disk would look like this:
      </p><a name="filename-utf-8"></a><pre class="programlisting">
Character:  P  r  e  s  e  n  t  a  c  i  ó     n  .  s  x  i
Hex code:   50 72 65 73 65 6e 74 61 63 69 c3 b3 6e 2e 73 78 69
      </pre><p>
	Glib uses UTF-8 for its strings, and GUI toolkits like GTK+
	that use Glib do the same thing.  If you get a file name from
	the file system, for example, from
	<tt class="function">readdir(3)</tt> or from <tt class="function"><a href="glib-File-Utilities.html#g-dir-read-name"><tt class="function">g_dir_read_name()</tt></a></tt>,
	and you wish to display the file name to the user, you
	<span class="emphasis"><em>will</em></span> need to convert it into UTF-8.  The
	opposite case is when the user types the name of a file he
	wishes to save:  the toolkit will give you that string in
	UTF-8 encoding, and you will need to convert it to the
	character set used for file names before you can create the
	file with <tt class="function">open(2)</tt> or
	<tt class="function">fopen(3)</tt>.
      </p><p>
	By default, Glib assumes that file names on disk are in UTF-8
	encoding.  This is a valid assumption for file systems which
	were created relatively recently:  most applications use UTF-8
	encoding for their strings, and that is also what they use for
	the file names they create.  However, older file systems may
	still contain file names created in "older" encodings, such as
	ISO-8859-1.  In this case, for compatibility reasons, you may
	want to instruct Glib to use that particular encoding for file
	names rather than UTF-8.  You can do this by specifying the
	encoding for file names in the <a href="glib-running.html#G_FILENAME_ENCODING"><tt class="envar">G_FILENAME_ENCODING</tt></a>
	environment variable.  For example, if your installation uses
	ISO-8859-1 for file names, you can put this in your
	<tt class="filename">~/.profile</tt>:
      </p><pre class="programlisting">
export G_FILENAME_ENCODING=ISO-8859-1
      </pre><p>
	Glib provides the functions <tt class="function"><a href="glib-Character-Set-Conversion.html#g-filename-to-utf8"><tt class="function">g_filename_to_utf8()</tt></a></tt>
	and <tt class="function"><a href="glib-Character-Set-Conversion.html#g-filename-from-utf8"><tt class="function">g_filename_from_utf8()</tt></a></tt>
	to perform the necessary conversions.  These functions convert
	file names from the encoding specified in
	<tt class="envar">G_FILENAME_ENCODING</tt> to UTF-8 and vice-versa.
	<a href="glib-Character-Set-Conversion.html#file-name-encodings-diagram" title="Figure 1. Conversion between File Name Encodings">Figure 1, &#8220;Conversion between File Name Encodings&#8221;</a> illustrates how
	these functions are used to convert between UTF-8 and the
	encoding for file names in the file system.
      </p><div class="figure"><a name="file-name-encodings-diagram"></a><p class="title"><b>Figure 1. Conversion between File Name Encodings</b></p><div><img src="file-name-encodings.png" alt="Conversion between File Name Encodings"></div></div><div class="refsect3" lang="en"><a name="file-name-encodings-checklist"></a><h4>Checklist for Application Writers</h4><p>
	  This section is a practical summary of the detailed
	  description above.  You can use this as a checklist of
	  things to do to make sure your applications process file
	  name encodings correctly.
	</p><div class="orderedlist"><ol type="1"><li><p>
	      If you get a file name from the file system from a
	      function such as <tt class="function">readdir(3)</tt> or
	      <tt class="function"><tt class="function">gtk_file_chooser_get_filename()</tt></tt>,
	      you do not need to do any conversion to pass that
	      file name to functions like <tt class="function">open(2)</tt>,
	      <tt class="function">rename(2)</tt>, or
	      <tt class="function">fopen(3)</tt> &#8212; those are "raw"
	      file names which the file system understands.
	    </p></li><li><p>
	      If you need to display a file name, convert it to UTF-8
	      first by using <tt class="function"><a href="glib-Character-Set-Conversion.html#g-filename-to-utf8"><tt class="function">g_filename_to_utf8()</tt></a></tt>.
	      If conversion fails, display a string like
	      "<tt class="literal">Unknown file name</tt>".  <span class="emphasis"><em>Do
	      not</em></span> convert this string back into the
	      encoding used for file names if you wish to pass it to
	      the file system; use the original file name instead.
	      For example, the document window of a word processor
	      could display "Unknown file name" in its title bar but
	      still let the user save the file, as it would keep the
	      raw file name internally.  This can happen if the user
	      has not set the <tt class="envar">G_FILENAME_ENCODING</tt>
	      environment variable even though he has files whose
	      names are not encoded in UTF-8.
	    </p></li><li><p>
	      If your user interface lets the user type a file name
	      for saving or renaming, convert it to the encoding used
	      for file names in the file system by using <tt class="function"><a href="glib-Character-Set-Conversion.html#g-filename-from-utf8"><tt class="function">g_filename_from_utf8()</tt></a></tt>.
	      Pass the converted file name to functions like
	      <tt class="function">fopen(3)</tt>.  If conversion fails, ask
	      the user to enter a different file name.  This can
	      happen if the user types Japanese characters when
	      <tt class="envar">G_FILENAME_ENCODING</tt> is set to
	      <tt class="literal">ISO-8859-1</tt>, for example.
	    </p></li></ol></div></div></div></div><div class="refsect1" lang="en"><a name="id3029008"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id3029014"></a><h3><a name="g-convert"></a>g_convert ()</h3><a class="indexterm" name="id3029025"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_convert                       (const <a href="glib-Basic-Types.html#gchar">gchar</a> *str,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *to_codeset,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *from_codeset,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string from one character set to another.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>str</tt></i> :</span></td><td>           the string to convert
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>           the length of the string
</td></tr><tr><td><span class="term"><i class="parameter"><tt>to_codeset</tt></i> :</span></td><td>    name of character set into which to convert <i class="parameter"><tt>str</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>from_codeset</tt></i> :</span></td><td>  character set of <i class="parameter"><tt>str</tt></i>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>    location to store the number of bytes in the
                input string that were successfully converted, or <tt class="literal">NULL</tt>.
                Even if the conversion was successful, this may be 
                less than <i class="parameter"><tt>len</tt></i> if there were partial characters
                at the end of the input. If the error
                <span class="type">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</span> occurs, the value
                stored will the byte offset after the last valid
                input sequence.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
                including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>         location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
                errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> If the conversion was successful, a newly allocated
              nul-terminated string, which must be freed with
              <a href="glib-Memory-Allocation.html#g-free"><tt class="function">g_free()</tt></a>. Otherwise <tt class="literal">NULL</tt> and <i class="parameter"><tt>error</tt></i> will be set.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3029290"></a><h3><a name="g-convert-with-fallback"></a>g_convert_with_fallback ()</h3><a class="indexterm" name="id3029300"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_convert_with_fallback         (const <a href="glib-Basic-Types.html#gchar">gchar</a> *str,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *to_codeset,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *from_codeset,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *fallback,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string from one character set to another, possibly
including fallback sequences for characters not representable
in the output. Note that it is not guaranteed that the specification
for the fallback sequences in <i class="parameter"><tt>fallback</tt></i> will be honored. Some
systems may do a approximate conversion from <i class="parameter"><tt>from_codeset</tt></i>
to <i class="parameter"><tt>to_codeset</tt></i> in their <tt class="function">iconv()</tt> functions, 
in which case GLib will simply return that approximate conversion.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>str</tt></i> :</span></td><td>          the string to convert
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>          the length of the string
</td></tr><tr><td><span class="term"><i class="parameter"><tt>to_codeset</tt></i> :</span></td><td>   name of character set into which to convert <i class="parameter"><tt>str</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>from_codeset</tt></i> :</span></td><td> character set of <i class="parameter"><tt>str</tt></i>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>fallback</tt></i> :</span></td><td>     UTF-8 string to use in place of character not
               present in the target encoding. (This must be
               in the target encoding), if <tt class="literal">NULL</tt>, characters
               not in the target encoding will be represented
               as Unicode escapes \uxxxx or \Uxxxxyyyy.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>   location to store the number of bytes in the
               input string that were successfully converted, or <tt class="literal">NULL</tt>.
               Even if the conversion was successful, this may be 
               less than <i class="parameter"><tt>len</tt></i> if there were partial characters
               at the end of the input.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
               including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>        location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
               errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> If the conversion was successful, a newly allocated
              nul-terminated string, which must be freed with
              <a href="glib-Memory-Allocation.html#g-free"><tt class="function">g_free()</tt></a>. Otherwise <tt class="literal">NULL</tt> and <i class="parameter"><tt>error</tt></i> will be set.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3029626"></a><h3><a name="GIConv"></a>GIConv</h3><a class="indexterm" name="id3029637"></a><pre class="programlisting">typedef struct _GIConv GIConv;</pre><p>
The <span class="structname">GIConv</span> struct wraps an
<tt class="function"><tt class="function">iconv()</tt></tt> conversion descriptor. It contains private data
and should only be accessed using the following functions.
</p></div><hr><div class="refsect2" lang="en"><a name="id3029671"></a><h3><a name="g-convert-with-iconv"></a>g_convert_with_iconv ()</h3><a class="indexterm" name="id3029682"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_convert_with_iconv            (const <a href="glib-Basic-Types.html#gchar">gchar</a> *str,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a> converter,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string from one character set to another.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>str</tt></i> :</span></td><td>           the string to convert
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>           the length of the string
</td></tr><tr><td><span class="term"><i class="parameter"><tt>converter</tt></i> :</span></td><td>     conversion descriptor from <a href="glib-Character-Set-Conversion.html#g-iconv-open"><tt class="function">g_iconv_open()</tt></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>    location to store the number of bytes in the
                input string that were successfully converted, or <tt class="literal">NULL</tt>.
                Even if the conversion was successful, this may be 
                less than <i class="parameter"><tt>len</tt></i> if there were partial characters
                at the end of the input. If the error
                <span class="type">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</span> occurs, the value
                stored will the byte offset after the last valid
                input sequence.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
                including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>         location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
                errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> If the conversion was successful, a newly allocated
              nul-terminated string, which must be freed with
              <a href="glib-Memory-Allocation.html#g-free"><tt class="function">g_free()</tt></a>. Otherwise <tt class="literal">NULL</tt> and <i class="parameter"><tt>error</tt></i> will be set.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3029932"></a><h3><a name="G-CONVERT-ERROR:CAPS"></a>G_CONVERT_ERROR</h3><a class="indexterm" name="id3029944"></a><pre class="programlisting">#define G_CONVERT_ERROR g_convert_error_quark()
</pre><p>
Error domain for character set conversions. Errors in this domain will
be from the <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> enumeration. See <a href="glib-Error-Reporting.html#GError"><span class="type">GError</span></a> for information on 
error domains.
</p></div><hr><div class="refsect2" lang="en"><a name="id3029977"></a><h3><a name="g-iconv-open"></a>g_iconv_open ()</h3><a class="indexterm" name="id3029987"></a><pre class="programlisting"><a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a>      g_iconv_open                    (const <a href="glib-Basic-Types.html#gchar">gchar</a> *to_codeset,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *from_codeset);</pre><p>
Same as the standard UNIX routine <tt class="function">iconv_open()</tt>, but
may be implemented via libiconv on UNIX flavors that lack
a native implementation.
</p><p>
GLib provides <a href="glib-Character-Set-Conversion.html#g-convert"><tt class="function">g_convert()</tt></a> and <a href="glib-Character-Set-Conversion.html#g-locale-to-utf8"><tt class="function">g_locale_to_utf8()</tt></a> which are likely
more convenient than the raw iconv wrappers.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>to_codeset</tt></i> :</span></td><td> destination codeset
</td></tr><tr><td><span class="term"><i class="parameter"><tt>from_codeset</tt></i> :</span></td><td> source codeset
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a "conversion descriptor", or (GIConv)-1 if
 opening the converter failed.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3030110"></a><h3><a name="g-iconv"></a>g_iconv ()</h3><a class="indexterm" name="id3030120"></a><pre class="programlisting">size_t      g_iconv                         (<a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a> converter,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **inbuf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *inbytes_left,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **outbuf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *outbytes_left);</pre><p>
Same as the standard UNIX routine <tt class="function">iconv()</tt>, but
may be implemented via libiconv on UNIX flavors that lack
a native implementation.
</p><p>
GLib provides <a href="glib-Character-Set-Conversion.html#g-convert"><tt class="function">g_convert()</tt></a> and <a href="glib-Character-Set-Conversion.html#g-locale-to-utf8"><tt class="function">g_locale_to_utf8()</tt></a> which are likely
more convenient than the raw iconv wrappers.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>converter</tt></i> :</span></td><td> conversion descriptor from <a href="glib-Character-Set-Conversion.html#g-iconv-open"><tt class="function">g_iconv_open()</tt></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>inbuf</tt></i> :</span></td><td> bytes to convert
</td></tr><tr><td><span class="term"><i class="parameter"><tt>inbytes_left</tt></i> :</span></td><td> inout parameter, bytes remaining to convert in <i class="parameter"><tt>inbuf</tt></i>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>outbuf</tt></i> :</span></td><td> converted output bytes
</td></tr><tr><td><span class="term"><i class="parameter"><tt>outbytes_left</tt></i> :</span></td><td> inout parameter, bytes available to fill in <i class="parameter"><tt>outbuf</tt></i>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> count of non-reversible conversions, or -1 on error
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3030329"></a><h3><a name="g-iconv-close"></a>g_iconv_close ()</h3><a class="indexterm" name="id3030339"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gint">gint</a>        g_iconv_close                   (<a href="glib-Character-Set-Conversion.html#GIConv">GIConv</a> converter);</pre><p>
Same as the standard UNIX routine <tt class="function">iconv_close()</tt>, but
may be implemented via libiconv on UNIX flavors that lack
a native implementation. Should be called to clean up
the conversion descriptor from <a href="glib-Character-Set-Conversion.html#g-iconv-open"><tt class="function">g_iconv_open()</tt></a> when
you are done converting things.
</p><p>
GLib provides <a href="glib-Character-Set-Conversion.html#g-convert"><tt class="function">g_convert()</tt></a> and <a href="glib-Character-Set-Conversion.html#g-locale-to-utf8"><tt class="function">g_locale_to_utf8()</tt></a> which are likely
more convenient than the raw iconv wrappers.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>converter</tt></i> :</span></td><td> a conversion descriptor from <a href="glib-Character-Set-Conversion.html#g-iconv-open"><tt class="function">g_iconv_open()</tt></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> -1 on error, 0 on success
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3030462"></a><h3><a name="g-locale-to-utf8"></a>g_locale_to_utf8 ()</h3><a class="indexterm" name="id3030473"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_locale_to_utf8                (const <a href="glib-Basic-Types.html#gchar">gchar</a> *opsysstring,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string which is in the encoding used for strings by
the C runtime (usually the same as that used by the operating
system) in the current locale into a UTF-8 string.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>opsysstring</tt></i> :</span></td><td>   a string in the encoding of the current locale. On Windows
                this means the system codepage.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>           the length of the string, or -1 if the string is
                nul-terminated.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>    location to store the number of bytes in the
                input string that were successfully converted, or <tt class="literal">NULL</tt>.
                Even if the conversion was successful, this may be 
                less than <i class="parameter"><tt>len</tt></i> if there were partial characters
                at the end of the input. If the error
                <span class="type">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</span> occurs, the value
                stored will the byte offset after the last valid
                input sequence.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
                including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>         location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
                errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The converted string, or <tt class="literal">NULL</tt> on an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3030677"></a><h3><a name="g-filename-to-utf8"></a>g_filename_to_utf8 ()</h3><a class="indexterm" name="id3030688"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_filename_to_utf8              (const <a href="glib-Basic-Types.html#gchar">gchar</a> *opsysstring,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string which is in the encoding used by GLib for filenames
into a UTF-8 string.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>opsysstring</tt></i> :</span></td><td>   a string in the encoding for filenames
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>           the length of the string, or -1 if the string is
                nul-terminated.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>    location to store the number of bytes in the
                input string that were successfully converted, or <tt class="literal">NULL</tt>.
                Even if the conversion was successful, this may be 
                less than <i class="parameter"><tt>len</tt></i> if there were partial characters
                at the end of the input. If the error
                <span class="type">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</span> occurs, the value
                stored will the byte offset after the last valid
                input sequence.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
                including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>         location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
                errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The converted string, or <tt class="literal">NULL</tt> on an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3030889"></a><h3><a name="g-filename-from-utf8"></a>g_filename_from_utf8 ()</h3><a class="indexterm" name="id3030900"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_filename_from_utf8            (const <a href="glib-Basic-Types.html#gchar">gchar</a> *utf8string,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string from UTF-8 to the encoding used for filenames.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>utf8string</tt></i> :</span></td><td>    a UTF-8 encoded string.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>           the length of the string, or -1 if the string is
                nul-terminated.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>    location to store the number of bytes in the
                input string that were successfully converted, or <tt class="literal">NULL</tt>.
                Even if the conversion was successful, this may be 
                less than <i class="parameter"><tt>len</tt></i> if there were partial characters
                at the end of the input. If the error
                <span class="type">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</span> occurs, the value
                stored will the byte offset after the last valid
                input sequence.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
                including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>         location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
                errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The converted string, or <tt class="literal">NULL</tt> on an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3031101"></a><h3><a name="g-filename-from-uri"></a>g_filename_from_uri ()</h3><a class="indexterm" name="id3031112"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_filename_from_uri             (const <a href="glib-Basic-Types.html#gchar">gchar</a> *uri,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **hostname,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts an escaped ASCII-encoded URI to a local filename in the
encoding used for filenames.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>uri</tt></i> :</span></td><td> a uri describing a filename (escaped, encoded in ASCII).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hostname</tt></i> :</span></td><td> Location to store hostname for the URI, or <tt class="literal">NULL</tt>.
           If there is no hostname in the URI, <tt class="literal">NULL</tt> will be
           stored in this location.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td> location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
        errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a newly-allocated string holding the resulting
              filename, or <tt class="literal">NULL</tt> on an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3031253"></a><h3><a name="g-filename-to-uri"></a>g_filename_to_uri ()</h3><a class="indexterm" name="id3031264"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_filename_to_uri               (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *hostname,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts an absolute filename to an escaped ASCII-encoded URI.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filename</tt></i> :</span></td><td> an absolute filename specified in the GLib file name encoding,
           which is the on-disk file name bytes on Unix, and UTF-8 on 
           Windows
</td></tr><tr><td><span class="term"><i class="parameter"><tt>hostname</tt></i> :</span></td><td> A UTF-8 encoded hostname, or <tt class="literal">NULL</tt> for none.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td> location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
        errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a newly-allocated string holding the resulting
              URI, or <tt class="literal">NULL</tt> on an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3031400"></a><h3><a name="g-get-filename-charsets"></a>g_get_filename_charsets ()</h3><a class="indexterm" name="id3031411"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_get_filename_charsets         (G_CONST_RETURN <a href="glib-Basic-Types.html#gchar">gchar</a> ***charsets);</pre><p>
Determines the preferred character sets used for filenames.
The first character set from the <i class="parameter"><tt>charsets</tt></i> is the filename encoding, the
subsequent character sets are used when trying to generate a displayable
representation of a filename, see <a href="glib-Character-Set-Conversion.html#g-filename-display-name"><tt class="function">g_filename_display_name()</tt></a>.
</p><p>
On Unix, the character sets are determined by consulting the
environment variables <tt class="envar">G_FILENAME_ENCODING</tt> and
<tt class="envar">G_BROKEN_FILENAMES</tt>. On Windows, the character set
used in the GLib API is always UTF-8 and said environment variables
have no effect.
</p><p>
<tt class="envar">G_FILENAME_ENCODING</tt> may be set to a comma-separated list 
of character set names. The special token "<i class="parameter"><tt>locale</tt></i>" is taken to mean the 
character set for the current locale. If <tt class="envar">G_FILENAME_ENCODING</tt> 
is not set, but <tt class="envar">G_BROKEN_FILENAMES</tt> is, the character set of 
the current locale is taken as the filename encoding. If neither environment
variable is set, UTF-8 is taken as the filename encoding, but the character
set of the current locale is also put in the list of encodings.
</p><p>
The returned <i class="parameter"><tt>charsets</tt></i> belong to GLib and must not be freed.
</p><p>
Note that on Unix, regardless of the locale character set or
<tt class="envar">G_FILENAME_ENCODING</tt> value, the actual file names present on a
system might be in any random encoding or just gibberish.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>charsets</tt></i> :</span></td><td> return location for the <tt class="literal">NULL</tt>-terminated list of encoding names
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the filename encoding is UTF-8.

</td></tr></tbody></table></div><p>Since  2.6
</p></div><hr><div class="refsect2" lang="en"><a name="id3031570"></a><h3><a name="g-filename-display-name"></a>g_filename_display_name ()</h3><a class="indexterm" name="id3031581"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_filename_display_name         (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename);</pre><p>
Converts a filename into a valid UTF-8 string. The 
conversion is not necessarily reversible, so you 
should keep the original around and use the return
value of this function only for display purposes.
Unlike <a href="glib-Character-Set-Conversion.html#g-filename-to-utf8"><tt class="function">g_filename_to_utf8()</tt></a>, the result is guaranteed 
to be non-NULL even if the filename actually isn't in the GLib
file name encoding.
</p><p>
If you know the whole pathname of the file you should use
<a href="glib-Character-Set-Conversion.html#g-filename-display-basename"><tt class="function">g_filename_display_basename()</tt></a>, since that allows location-based
translation of filenames.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filename</tt></i> :</span></td><td> a pathname hopefully in the GLib file name encoding
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a newly allocated string containing
  a rendition of the filename in valid UTF-8

</td></tr></tbody></table></div><p>Since  2.6
</p></div><hr><div class="refsect2" lang="en"><a name="id3031681"></a><h3><a name="g-filename-display-basename"></a>g_filename_display_basename ()</h3><a class="indexterm" name="id3031692"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_filename_display_basename     (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename);</pre><p>
Returns the display basename for the particular filename, guaranteed
to be valid UTF-8. The display name might not be identical to the filename,
for instance there might be problems converting it to UTF-8, and some files
can be translated in the display
</p><p>
You must pass the whole absolute pathname to this functions so that
translation of well known locations can be done.
</p><p>
This function is preferred over <a href="glib-Character-Set-Conversion.html#g-filename-display-name"><tt class="function">g_filename_display_name()</tt></a> if you know the
whole path, as it allows translation.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filename</tt></i> :</span></td><td> an absolute pathname in the GLib file name encoding
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a newly allocated string containing
  a rendition of the basename of the filename in valid UTF-8

</td></tr></tbody></table></div><p>Since  2.6
</p></div><hr><div class="refsect2" lang="en"><a name="id3031784"></a><h3><a name="g-uri-list-extract-uris"></a>g_uri_list_extract_uris ()</h3><a class="indexterm" name="id3031794"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>**     g_uri_list_extract_uris         (const <a href="glib-Basic-Types.html#gchar">gchar</a> *uri_list);</pre><p>
Splits an URI list conforming to the text/uri-list
mime type defined in RFC 2483 into individual URIs,
discarding any comments. The URIs are not validated.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>uri_list</tt></i> :</span></td><td> an URI list 
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a newly allocated <tt class="literal">NULL</tt>-terminated list of
  strings holding the individual URIs. The array should
  be freed with <a href="glib-String-Utility-Functions.html#g-strfreev"><tt class="function">g_strfreev()</tt></a>.

</td></tr></tbody></table></div><p>Since  2.6
</p></div><hr><div class="refsect2" lang="en"><a name="id3031880"></a><h3><a name="g-locale-from-utf8"></a>g_locale_from_utf8 ()</h3><a class="indexterm" name="id3031890"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gchar">gchar</a>*      g_locale_from_utf8              (const <a href="glib-Basic-Types.html#gchar">gchar</a> *utf8string,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> len,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre><p>
Converts a string from UTF-8 to the encoding used for strings by
the C runtime (usually the same as that used by the operating
system) in the current locale.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>utf8string</tt></i> :</span></td><td>    a UTF-8 encoded string 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>           the length of the string, or -1 if the string is
                nul-terminated.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_read</tt></i> :</span></td><td>    location to store the number of bytes in the
                input string that were successfully converted, or <tt class="literal">NULL</tt>.
                Even if the conversion was successful, this may be 
                less than <i class="parameter"><tt>len</tt></i> if there were partial characters
                at the end of the input. If the error
                <span class="type">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</span> occurs, the value
                stored will the byte offset after the last valid
                input sequence.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>bytes_written</tt></i> :</span></td><td> the number of bytes stored in the output buffer (not 
                including the terminating nul).
</td></tr><tr><td><span class="term"><i class="parameter"><tt>error</tt></i> :</span></td><td>         location to store the error occuring, or <tt class="literal">NULL</tt> to ignore
                errors. Any of the errors in <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a> may occur.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The converted string, or <tt class="literal">NULL</tt> on an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3032093"></a><h3><a name="GConvertError"></a>enum GConvertError</h3><a class="indexterm" name="id3032104"></a><pre class="programlisting">typedef enum 
{
  G_CONVERT_ERROR_NO_CONVERSION,
  G_CONVERT_ERROR_ILLEGAL_SEQUENCE,
  G_CONVERT_ERROR_FAILED,
  G_CONVERT_ERROR_PARTIAL_INPUT,
  G_CONVERT_ERROR_BAD_URI,
  G_CONVERT_ERROR_NOT_ABSOLUTE_PATH
} GConvertError;
</pre><p>
Error codes returned by character set conversion routines.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><tt class="literal">G_CONVERT_ERROR_NO_CONVERSION</tt></span></td><td>Conversion between the requested character sets
is not supported.
</td></tr><tr><td><span class="term"><tt class="literal">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</tt></span></td><td>Invalid byte sequence in conversion input.
</td></tr><tr><td><span class="term"><tt class="literal">G_CONVERT_ERROR_FAILED</tt></span></td><td>Conversion failed for some reason.
</td></tr><tr><td><span class="term"><tt class="literal">G_CONVERT_ERROR_PARTIAL_INPUT</tt></span></td><td>Partial character sequence at end of input.
</td></tr><tr><td><span class="term"><tt class="literal">G_CONVERT_ERROR_BAD_URI</tt></span></td><td>URI is invalid.
</td></tr><tr><td><span class="term"><tt class="literal">G_CONVERT_ERROR_NOT_ABSOLUTE_PATH</tt></span></td><td>Pathname is not an absolute path.

</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3032219"></a><h3><a name="g-get-charset"></a>g_get_charset ()</h3><a class="indexterm" name="id3032230"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_get_charset                   (G_CONST_RETURN char **charset);</pre><p>
Obtains the character set for the current locale; you might use
this character set as an argument to <a href="glib-Character-Set-Conversion.html#g-convert"><tt class="function">g_convert()</tt></a>, to convert from
the current locale's encoding to some other encoding. (Frequently
<a href="glib-Character-Set-Conversion.html#g-locale-to-utf8"><tt class="function">g_locale_to_utf8()</tt></a> and <a href="glib-Character-Set-Conversion.html#g-locale-from-utf8"><tt class="function">g_locale_from_utf8()</tt></a> are nice shortcuts,
though.)
</p><p>
The return value is <tt class="literal">TRUE</tt> if the locale's encoding is UTF-8, in that
case you can perhaps avoid calling <a href="glib-Character-Set-Conversion.html#g-convert"><tt class="function">g_convert()</tt></a>.
</p><p>
The string returned in <i class="parameter"><tt>charset</tt></i> is not allocated, and should not be
freed.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>charset</tt></i> :</span></td><td> return location for character set name
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the returned charset is UTF-8
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="glib-String-Utility-Functions.html"><b>&lt;&lt; String Utility Functions</b></a></td><td align="right"><a accesskey="n" href="glib-Unicode-Manipulation.html"><b>Unicode Manipulation &gt;&gt;</b></a></td></tr></table></body></html>
