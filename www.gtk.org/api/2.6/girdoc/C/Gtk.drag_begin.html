<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>gtk_drag_begin</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body>
<div class="header"><div class="trails"><div class="trail">
<a class="trail" href="index.html" title="Gtk Documentation">Gtk Documentation</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">gtk_drag_begin</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents syntax brush-clang">GdkDragContext* gtk_drag_begin (GtkWidget* widget,
                                GtkTargetList* targets,
                                GdkDragAction actions,
                                gint button,
                                GdkEvent* event);</pre></div></div></div></div></div>
<p class="p">Initiates a drag on the source side. The function
only needs to be used when the application is
starting drags itself, and is not needed when
gtk_drag_source_set() is used.
The @event is used to retrieve the timestamp that will be used internally to
grab the pointer.  If @event is <span class=" link"><a href="NULL.html" title="NULL">NULL</a></span>, then GDK_CURRENT_TIME will be used.
However, you should try to pass a real event in all cases, since that can be
used by GTK+ to get information about the start position of the drag, for
example if the @event is a %GDK_MOTION_NOTIFY.
Generally there are three cases when you want to start a drag by hand by
calling this function:
1. During a <span class=" link"><a href="" title="GtkWidget::button-press-event">GtkWidget::button-press-event</a></span> handler, if you want to start a drag
immediately when the user presses the mouse button.  Pass the @event
that you have in your <span class=" link"><a href="" title="GtkWidget::button-press-event">GtkWidget::button-press-event</a></span> handler.
2. During a <span class=" link"><a href="" title="GtkWidget::motion-notify-event">GtkWidget::motion-notify-event</a></span> handler, if you want to start a drag
when the mouse moves past a certain threshold distance after a button-press.
Pass the @event that you have in your <span class=" link"><a href="" title="GtkWidget::motion-notify-event">GtkWidget::motion-notify-event</a></span> handler.
3. During a timeout handler, if you want to start a drag after the mouse
button is held down for some time.  Try to save the last event that you got
from the mouse, using gdk_event_copy(), and pass it to this function
(remember to free the event with gdk_event_free() when you are done).
If you can really not pass a real event, pass <span class=" link"><a href="NULL.html" title="NULL">NULL</a></span> instead.</p>
</div>
<div class="links guidelinks"><div class="inner">
<div class="title"><h3><span class="title">More About</span></h3></div>
<div class="region"><ul><li class="links"><a href="index.html" title="Gtk Documentation">Gtk Documentation</a></li></ul></div>
</div></div>
</div>
<div class="clear"></div>
</div>
<div class="footer"><div class="copyrights"></div></div>
</body>
</html>
