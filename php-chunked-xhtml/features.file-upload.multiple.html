<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>上传多个文件</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.file-upload.common-pitfalls.html">常见缺陷</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.put-method.html">对 PUT 方法的支持</a></div>
 <div class="up"><a href="features.file-upload.html">文件上传处理</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="features.file-upload.multiple" class="sect1">
  <h2 class="title">上传多个文件</h2>
  <p class="simpara">
   可以对 <em>input</em> 域使用不同的 <em>name</em> 来上传多个文件。
  </p>
  <p class="simpara">
   PHP 支持同时上传多个文件并将它们的信息自动以数组的形式组织。要完成这项功能，需要在
   HTML 表单中对文件上传域使用和多选框与复选框相同的数组式提交语法。
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    对多文件上传的支持是在 PHP 3.0.10 版本添加的。
   </p>
  </p></blockquote>
  <p class="para">
   <div class="example" id="example-366">
    <p><strong>Example #1 上传多个文件</strong></p>
    <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;form action=&quot;file-upload.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
  Send these files:&lt;br /&gt;
  &lt;input name=&quot;userfile[]&quot; type=&quot;file&quot; /&gt;&lt;br /&gt;
  &lt;input name=&quot;userfile[]&quot; type=&quot;file&quot; /&gt;&lt;br /&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Send files&quot; /&gt;
&lt;/form&gt;</pre>
</div>
    </div>

   </div>
  </p>
  <p class="simpara">
   当以上表单被提交后，数组
   <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']</a></var></var>，<var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name']</a></var></var>
   和 <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['size']</a></var></var> 将被初始化（在
   PHP 4.1.0 以前版本是 <var class="varname"><var class="varname">$HTTP_POST_FILES</var></var>）。如果
   <a href="ini.core.html#ini.register-globals" class="link">register_globals</a>
   的设置为 on，则和文件上传相关的全局变量也将被初始化。所有这些提交的信息都将被储存到以数字为索引的数组中。
  </p>
  <p class="simpara">
   例如，假设名为 <var class="filename">/home/test/review.html</var> 和
   <var class="filename">/home/test/xwp.out</var> 的文件被提交，则
   <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name'][0]</a></var></var> 的值将是
   <var class="filename">review.html</var>，而
   <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name'][1]</a></var></var> 的值将是
   <var class="filename">xwp.out</var>。类似的，<var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['size'][0]</a></var></var>
   将包含文件 <var class="filename">review.html</var> 的大小，依此类推。
  </p>
  <p class="simpara">
   此外也同时设置了 <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name'][0]</a></var></var>，<var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['tmp_name'][0]</a></var></var>，<var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['size'][0]</a></var></var>
   以及 <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['type'][0]</a></var></var>。
  </p>
 </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.file-upload.common-pitfalls.html">常见缺陷</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.put-method.html">对 PUT 方法的支持</a></div>
 <div class="up"><a href="features.file-upload.html">文件上传处理</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
